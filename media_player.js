// Copyright Google Inc. All Rights Reserved.
(function() { /*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var k,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},n=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}},ba=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c},ca="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},da;
if("function"==typeof Object.setPrototypeOf)da=Object.setPrototypeOf;else{var fa;a:{var ha={Jk:!0},ia={};try{ia.__proto__=ha;fa=ia.Jk;break a}catch(a){}fa=!1}da=fa?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var ja=da,q=function(a,b){a.prototype=ca(b.prototype);a.prototype.constructor=a;if(ja)ja(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.cf=b.prototype},ka=ka||{},r=this||self,la=function(){},ma=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";
if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},na=function(a){return"array"==ma(a)},oa=function(a){var b=ma(a);return"array"==b||"object"==
b&&"number"==typeof a.length},pa=function(a){return"function"==ma(a)},qa=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ra=function(a,b,c){return a.call.apply(a.bind,arguments)},ta=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},ua=function(a,b,c){ua=Function.prototype.bind&&
-1!=Function.prototype.bind.toString().indexOf("native code")?ra:ta;return ua.apply(null,arguments)},t=Date.now||function(){return+new Date},x=function(a,b){a=a.split(".");var c=r;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b},va=function(a,b){function c(){}c.prototype=b.prototype;a.cf=b.prototype;a.prototype=new c;a.prototype.constructor=a};var cast=r.cast||{};var wa=function(){return!(!cast.__platform__||!cast.__platform__.metrics)},xa=function(a,b){wa()&&cast.__platform__.metrics.logBoolToUma(a,b)},ya=function(a){wa()&&cast.__platform__.metrics.logEventToUma(a)},y=function(a,b){wa()&&cast.__platform__.metrics.logIntToUma(a,b)};var za=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,za);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};va(za,Error);za.prototype.name="CustomError";var Aa=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");za.call(this,c+a[d])};va(Aa,za);Aa.prototype.name="AssertionError";var Ba=function(a,b){throw new Aa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var Ca=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ea=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Fa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ga=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e="string"===typeof a?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},Ia=function(a){a:{var b=Ha;for(var c=
a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]},Ja=function(a,b){b=Ca(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},Ka=function(a){return Array.prototype.concat.apply([],arguments)},La=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Ma=function(a,b){this.wl=100;this.Wk=a;this.Xl=b;this.Yf=0;this.Hf=null};Ma.prototype.get=function(){if(0<this.Yf){this.Yf--;var a=this.Hf;this.Hf=a.next;a.next=null}else a=this.Wk();return a};Ma.prototype.put=function(a){this.Xl(a);this.Yf<this.wl&&(this.Yf++,a.next=this.Hf,this.Hf=a)};var Oa=function(a,b){return 0==Na(b,a.substr(0,b.length))},Pa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Na=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1},Qa=function(a,b){return a<b?-1:a>b?1:0};var Ra;a:{var Sa=r.navigator;if(Sa){var Ta=Sa.userAgent;if(Ta){Ra=Ta;break a}}Ra=""}var Ua=function(a){return-1!=Ra.indexOf(a)};var Va=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},Wa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Xa=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Za=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ya.length;f++)c=Ya[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var bb=function(a,b){this.vk=a===$a&&b||"";this.Gk=ab};bb.prototype.toString=function(){return"Const{"+this.vk+"}"};var ab={},$a={},cb=new bb($a,"");var db=function(){this.ak=""};db.prototype.toString=function(){return"SafeScript{"+this.ak+"}"};db.prototype.Pb=function(a){this.ak=a;return this};(new db).Pb("");var gb=function(a,b){this.dk=a===eb&&b||"";this.Hk=fb};gb.prototype.toString=function(){return"TrustedResourceUrl{"+this.dk+"}"};var fb={},eb={};var hb=function(){this.ck=""};hb.prototype.toString=function(){return"SafeStyle{"+this.ck+"}"};hb.prototype.Pb=function(a){this.ck=a;return this};(new hb).Pb("");var ib=function(){this.bk=""};ib.prototype.toString=function(){return"SafeStyleSheet{"+this.bk+"}"};ib.prototype.Pb=function(a){this.bk=a;return this};(new ib).Pb("");var kb=function(){this.ai="";this.Fk=jb};kb.prototype.toString=function(){return"SafeHtml{"+this.ai+"}"};var mb=function(){var a=lb;if(a instanceof kb&&a.constructor===kb&&a.Fk===jb)return a.ai;Ba("expected object of type SafeHtml, got '"+a+"' of type "+ma(a));return"type_error:SafeHtml"},jb={};kb.prototype.Pb=function(a){this.ai=a;return this};(new kb).Pb("<!DOCTYPE html>");var lb=(new kb).Pb("");(new kb).Pb("<br>");var nb=function(a){if(cb instanceof bb&&cb.constructor===bb&&cb.Gk===ab)var b=cb.vk;else Ba("expected object of type Const, got '"+cb+"'"),b="type_error:Const";b=new gb(eb,b);a:{try{var c=a&&a.ownerDocument,d=c&&(c.defaultView||c.parentWindow);d=d||r;if(d.Element&&d.Location){var e=d;break a}}catch(g){}e=null}if(e&&"undefined"!=typeof e.HTMLIFrameElement&&(!a||!(a instanceof e.HTMLIFrameElement)&&(a instanceof e.Location||a instanceof e.Element))){if(qa(a))try{var f=a.constructor.displayName||a.constructor.name||
Object.prototype.toString.call(a)}catch(g){f="<object could not be stringified>"}else f=void 0===a?"undefined":null===a?"null":typeof a;Ba("Argument is not a %s (or a non-Element, non-Location mock); got: %s","HTMLIFrameElement",f)}b instanceof gb&&b.constructor===gb&&b.Hk===fb?e=b.dk:(Ba("expected object of type TrustedResourceUrl, got '"+b+"' of type "+ma(b)),e="type_error:TrustedResourceUrl");a.src=e.toString()};var ob=function(a){ob[" "](a);return a};ob[" "]=la;var qb=function(a,b){var c=pb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var rb=Ua("Opera"),sb=Ua("Trident")||Ua("MSIE"),tb=Ua("Edge"),ub=Ua("Gecko")&&!(-1!=Ra.toLowerCase().indexOf("webkit")&&!Ua("Edge"))&&!(Ua("Trident")||Ua("MSIE"))&&!Ua("Edge"),vb=-1!=Ra.toLowerCase().indexOf("webkit")&&!Ua("Edge"),wb=function(){var a=r.document;return a?a.documentMode:void 0},xb;
a:{var yb="",zb=function(){var a=Ra;if(ub)return/rv:([^\);]+)(\)|;)/.exec(a);if(tb)return/Edge\/([\d\.]+)/.exec(a);if(sb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(vb)return/WebKit\/(\S+)/.exec(a);if(rb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();zb&&(yb=zb?zb[1]:"");if(sb){var Ab=wb();if(null!=Ab&&Ab>parseFloat(yb)){xb=String(Ab);break a}}xb=yb}
var Bb=xb,pb={},Cb=function(a){return qb(a,function(){for(var b=0,c=Pa(String(Bb)).split("."),d=Pa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==g[0].length&&0==h[0].length)break;b=Qa(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||Qa(0==g[2].length,0==h[2].length)||Qa(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=b})},Db;
Db=r.document&&sb?wb():void 0;var Eb=function(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var Fb=function(a){r.setTimeout(function(){throw a;},0)},Gb,Hb=function(){var a=r.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Ua("Presto")&&(a=function(){var e=Eb("IFRAME");e.style.display="none";nb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(mb());e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=ua(function(l){if(("*"==
h||l.origin==h)&&l.data==g)this.port1.onmessage()},this);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!Ua("Trident")&&!Ua("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Pi;c.Pi=null;e()}};return function(e){d.next={Pi:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in Eb("SCRIPT")?function(e){var f=Eb("SCRIPT");f.onreadystatechange=
function(){f.onreadystatechange=null;f.parentNode.removeChild(f);f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){r.setTimeout(e,0)}};var Ib=function(){this.Hg=this.de=null},Kb=new Ma(function(){return new Jb},function(a){a.reset()});Ib.prototype.add=function(a,b){var c=Kb.get();c.set(a,b);this.Hg?this.Hg.next=c:this.de=c;this.Hg=c};Ib.prototype.remove=function(){var a=null;this.de&&(a=this.de,this.de=this.de.next,this.de||(this.Hg=null),a.next=null);return a};var Jb=function(){this.next=this.scope=this.Cd=null};Jb.prototype.set=function(a,b){this.Cd=a;this.scope=b;this.next=null};
Jb.prototype.reset=function(){this.next=this.scope=this.Cd=null};var Pb=function(a,b){Lb||Mb();Nb||(Lb(),Nb=!0);Ob.add(a,b)},Lb,Mb=function(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve(void 0);Lb=function(){a.then(Qb)}}else Lb=function(){var b=Qb;!pa(r.setImmediate)||r.Window&&r.Window.prototype&&!Ua("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(Gb||(Gb=Hb()),Gb(b)):r.setImmediate(b)}},Nb=!1,Ob=new Ib,Qb=function(){for(var a;a=Ob.remove();){try{a.Cd.call(a.scope)}catch(b){Fb(b)}Kb.put(a)}Nb=!1};var Rb=Object.freeze||function(a){return a};var Sb=function(a,b,c){this.reset(a,b,c,void 0,void 0)};Sb.prototype.Dc=0;Sb.prototype.yf=null;var Tb=0;Sb.prototype.reset=function(a,b,c,d,e){this.Dc="number"==typeof e?e:Tb++;this.Wd=d||t();this.Zc=a;this.Bl=b;this.Aj=c;delete this.yf};Sb.prototype.ni=function(a){this.Zc=a};var Ub=function(a){this.cd=a;this.oe=this.Vg=this.Zc=this.Ua=null},Vb=function(a,b){this.name=a;this.value=b};Vb.prototype.toString=function(){return this.name};
var Wb=new Vb("SEVERE",1E3),Xb=new Vb("WARNING",900),Yb=new Vb("INFO",800),Zb=new Vb("CONFIG",700),$b=new Vb("FINE",500),ac=[new Vb("OFF",Infinity),new Vb("SHOUT",1200),Wb,Xb,Yb,Zb,$b,new Vb("FINER",400),new Vb("FINEST",300),new Vb("ALL",0)],bc=null,cc=function(a){if(!bc){bc={};for(var b=0,c;c=ac[b];b++)bc[c.value]=c,bc[c.name]=c}if(a in bc)return bc[a];for(b=0;b<ac.length;++b)if(c=ac[b],c.value<=a)return c;return null};Ub.prototype.Za=function(){return this.cd};Ub.prototype.getParent=function(){return this.Ua};
Ub.prototype.ni=function(a){this.Zc=a};var dc=function(a){if(a.Zc)return a.Zc;if(a.Ua)return dc(a.Ua);Ba("Root logger has no level set.");return null};Ub.prototype.log=function(a,b,c){if(a.value>=dc(this).value)for(pa(b)&&(b=b()),a=new Sb(a,String(b),this.cd),c&&(a.yf=c),c=this;c;){var d=c,e=a;if(d.oe)for(var f=0;b=d.oe[f];f++)b(e);c=c.getParent()}};Ub.prototype.info=function(a,b){this.log(Yb,a,b)};
var ec={},fc=null,gc=function(){fc||(fc=new Ub(""),ec[""]=fc,fc.ni(Zb))},hc=function(){gc();return fc},z=function(a){gc();var b;if(!(b=ec[a])){b=new Ub(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=z(a.substr(0,c));c.Vg||(c.Vg={});c.Vg[d]=b;b.Ua=c;ec[a]=b}return b};var A=function(){this.le=this.le;this.Zf=this.Zf};A.prototype.le=!1;A.prototype.L=function(){this.le||(this.le=!0,this.G())};A.prototype.G=function(){if(this.Zf)for(;this.Zf.length;)this.Zf.shift()()};var ic;(ic=!sb)||(ic=9<=Number(Db));var jc=ic,kc=sb&&!Cb("9"),lc=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{r.addEventListener("test",la,b),r.removeEventListener("test",la,b)}catch(c){}return a}();var mc=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.gd=!1;this.ik=!0};mc.prototype.stopPropagation=function(){this.gd=!0};mc.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ik=!1};var nc=function(a,b){mc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Pc=null;a&&this.ma(a,b)};va(nc,mc);var oc=Rb({2:"touch",3:"pen",4:"mouse"});
nc.prototype.ma=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(ub){a:{try{ob(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=vb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=vb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:oc[a.pointerType]||"";this.state=a.state;this.Pc=a;a.defaultPrevented&&this.preventDefault()};nc.prototype.stopPropagation=function(){nc.cf.stopPropagation.call(this);this.Pc.stopPropagation?this.Pc.stopPropagation():this.Pc.cancelBubble=!0};
nc.prototype.preventDefault=function(){nc.cf.preventDefault.call(this);var a=this.Pc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,kc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var pc="closure_listenable_"+(1E6*Math.random()|0),qc=0;var rc=function(a,b,c,d,e){this.listener=a;this.ig=null;this.src=b;this.type=c;this.capture=!!d;this.Gf=e;this.key=++qc;this.Sd=this.rf=!1},sc=function(a){a.Sd=!0;a.listener=null;a.ig=null;a.src=null;a.Gf=null};var tc=function(a){this.src=a;this.xa={};this.hf=0};tc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.xa[f];a||(a=this.xa[f]=[],this.hf++);var g=uc(a,b,d,e);-1<g?(b=a[g],c||(b.rf=!1)):(b=new rc(b,this.src,f,!!d,e),b.rf=c,a.push(b));return b};tc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.xa))return!1;var e=this.xa[a];b=uc(e,b,c,d);return-1<b?(sc(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.xa[a],this.hf--),!0):!1};
var vc=function(a,b){var c=b.type;c in a.xa&&Ja(a.xa[c],b)&&(sc(b),0==a.xa[c].length&&(delete a.xa[c],a.hf--))};tc.prototype.nh=function(a,b,c,d){a=this.xa[a.toString()];var e=-1;a&&(e=uc(a,b,c,d));return-1<e?a[e]:null};tc.prototype.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return Va(this.xa,function(f){for(var g=0;g<f.length;++g)if(!(c&&f[g].type!=d||e&&f[g].capture!=b))return!0;return!1})};
var uc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Sd&&f.listener==b&&f.capture==!!c&&f.Gf==d)return e}return-1};var wc="closure_lm_"+(1E6*Math.random()|0),xc={},yc=0,B=function(a,b,c,d,e){if(d&&d.once)zc(a,b,c,d,e);else if(na(b))for(var f=0;f<b.length;f++)B(a,b[f],c,d,e);else c=Ac(c),a&&a[pc]?a.ub.add(String(b),c,!1,qa(d)?!!d.capture:!!d,e):Bc(a,b,c,!1,d,e)},Bc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=qa(e)?!!e.capture:!!e,h=Cc(a);h||(a[wc]=h=new tc(a));c=h.add(b,c,d,g,f);if(!c.ig){d=Dc();c.ig=d;d.src=a;d.listener=c;if(a.addEventListener)lc||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),
d,e);else if(a.attachEvent)a.attachEvent(Ec(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");yc++}},Dc=function(){var a=Fc,b=jc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},zc=function(a,b,c,d,e){if(na(b))for(var f=0;f<b.length;f++)zc(a,b[f],c,d,e);else c=Ac(c),a&&a[pc]?a.ub.add(String(b),c,!0,qa(d)?!!d.capture:!!d,e):Bc(a,b,c,!0,d,e)},
Gc=function(a,b,c,d,e){if(na(b))for(var f=0;f<b.length;f++)Gc(a,b[f],c,d,e);else d=qa(d)?!!d.capture:!!d,c=Ac(c),a&&a[pc]?a.ub.remove(String(b),c,d,e):a&&(a=Cc(a))&&(b=a.nh(b,c,d,e))&&Hc(b)},Hc=function(a){if("number"!==typeof a&&a&&!a.Sd){var b=a.src;if(b&&b[pc])vc(b.ub,a);else{var c=a.type,d=a.ig;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Ec(c),d):b.addListener&&b.removeListener&&b.removeListener(d);yc--;(c=Cc(b))?(vc(c,a),0==c.hf&&(c.src=null,b[wc]=null)):
sc(a)}}},Ec=function(a){return a in xc?xc[a]:xc[a]="on"+a},Jc=function(a,b,c,d){var e=!0;if(a=Cc(a))if(b=a.xa[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Sd&&(f=Ic(f,d),e=e&&!1!==f)}return e},Ic=function(a,b){var c=a.listener,d=a.Gf||a.src;a.rf&&Hc(a);return c.call(d,b)},Fc=function(a,b){if(a.Sd)return!0;if(!jc){if(!b)a:{b=["window","event"];for(var c=r,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new nc(d,this);c=!0;if(!(0>d.keyCode||void 0!=
d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.gd&&0<=e;e--){b.currentTarget=d[e];var f=Jc(d[e],a,!0,b);c=c&&f}for(e=0;!b.gd&&e<d.length;e++)b.currentTarget=d[e],f=Jc(d[e],a,!1,b),c=c&&f}return c}return Ic(a,new nc(b,this))},Cc=function(a){a=a[wc];return a instanceof tc?a:null},Kc="__closure_events_fn_"+(1E9*Math.random()>>>0),Ac=function(a){if(pa(a))return a;
a[Kc]||(a[Kc]=function(b){return a.handleEvent(b)});return a[Kc]};var Lc=function(){A.call(this);this.ub=new tc(this);this.Kk=this;this.Xh=null};va(Lc,A);Lc.prototype[pc]=!0;Lc.prototype.addEventListener=function(a,b,c,d){B(this,a,b,c,d)};Lc.prototype.removeEventListener=function(a,b,c,d){Gc(this,a,b,c,d)};
Lc.prototype.dispatchEvent=function(a){var b,c=this.Xh;if(c)for(b=[];c;c=c.Xh)b.push(c);c=this.Kk;var d=a.type||a;if("string"===typeof a)a=new mc(a,c);else if(a instanceof mc)a.target=a.target||c;else{var e=a;a=new mc(d,c);Za(a,e)}e=!0;if(b)for(var f=b.length-1;!a.gd&&0<=f;f--){var g=a.currentTarget=b[f];e=Mc(g,d,!0,a)&&e}a.gd||(g=a.currentTarget=c,e=Mc(g,d,!0,a)&&e,a.gd||(e=Mc(g,d,!1,a)&&e));if(b)for(f=0;!a.gd&&f<b.length;f++)g=a.currentTarget=b[f],e=Mc(g,d,!1,a)&&e;return e};
Lc.prototype.G=function(){Lc.cf.G.call(this);if(this.ub){var a=this.ub,b=0,c;for(c in a.xa){for(var d=a.xa[c],e=0;e<d.length;e++)++b,sc(d[e]);delete a.xa[c];a.hf--}}this.Xh=null};var Mc=function(a,b,c,d){b=a.ub.xa[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Sd&&g.capture==c){var h=g.listener,l=g.Gf||g.src;g.rf&&vc(a.ub,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.ik};Lc.prototype.nh=function(a,b,c,d){return this.ub.nh(String(a),b,c,d)};
Lc.prototype.hasListener=function(a,b){return this.ub.hasListener(void 0!==a?String(a):void 0,b)};var Nc="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},Oc=function(){};Oc.prototype.next=function(){throw Nc;};Oc.prototype.Ik=function(){return this};var C=function(a,b){a&&a.log(Wb,b,void 0)},D=function(a,b){a&&a.log(Xb,b,void 0)},E=function(a,b){a&&a.info(b,void 0)},Pc=function(a,b){a&&a.log($b,b,void 0)};var Qc=function(){};Qc.prototype.Ni=null;var Sc=function(a){var b;(b=a.Ni)||(b={},Rc(a)&&(b[0]=!0,b[1]=!0),b=a.Ni=b);return b};var Tc,Uc=function(){};va(Uc,Qc);var Vc=function(a){return(a=Rc(a))?new ActiveXObject(a):new XMLHttpRequest},Rc=function(a){if(!a.lj&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.lj=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.lj};Tc=new Uc;var Wc=function(a,b){this.eb={};this.na=[];this.ka=this.P=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};k=Wc.prototype;k.Rc=function(){return this.P};k.$a=function(){Xc(this);for(var a=[],b=0;b<this.na.length;b++)a.push(this.eb[this.na[b]]);return a};k.Ya=function(){Xc(this);return this.na.concat()};k.ie=function(a){return Yc(this.eb,a)};
k.Ob=function(a){if(this===a)return!0;if(this.P!=a.Rc())return!1;var b=Zc;Xc(this);for(var c,d=0;c=this.na[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var Zc=function(a,b){return a===b};Wc.prototype.Pa=function(){return 0==this.P};Wc.prototype.clear=function(){this.eb={};this.ka=this.P=this.na.length=0};Wc.prototype.remove=function(a){return Yc(this.eb,a)?(delete this.eb[a],this.P--,this.ka++,this.na.length>2*this.P&&Xc(this),!0):!1};
var Xc=function(a){if(a.P!=a.na.length){for(var b=0,c=0;b<a.na.length;){var d=a.na[b];Yc(a.eb,d)&&(a.na[c++]=d);b++}a.na.length=c}if(a.P!=a.na.length){var e={};for(c=b=0;b<a.na.length;)d=a.na[b],Yc(e,d)||(a.na[c++]=d,e[d]=1),b++;a.na.length=c}};k=Wc.prototype;k.get=function(a,b){return Yc(this.eb,a)?this.eb[a]:b};k.set=function(a,b){Yc(this.eb,a)||(this.P++,this.na.push(a),this.ka++);this.eb[a]=b};
k.addAll=function(a){if(a instanceof Wc)for(var b=a.Ya(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};k.forEach=function(a,b){for(var c=this.Ya(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Wc(this)};
k.Ik=function(a){Xc(this);var b=0,c=this.ka,d=this,e=new Oc;e.next=function(){if(c!=d.ka)throw Error("The map has changed since the iterator was created");if(b>=d.na.length)throw Nc;var f=d.na[b++];return a?f:d.eb[f]};return e};var Yc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var $c=function(a){if(a.$a&&"function"==typeof a.$a)return a.$a();if("string"===typeof a)return a.split("");if(oa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Wa(a)},ad=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(oa(a)||"string"===typeof a)Fa(a,b,c);else{if(a.Ya&&"function"==typeof a.Ya)var d=a.Ya();else if(a.$a&&"function"==typeof a.$a)d=void 0;else if(oa(a)||"string"===typeof a){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else for(f in d=
[],e=0,a)d[e++]=f;e=$c(a);f=e.length;for(var g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};var dd=function(a){this.f=0;this.hk=void 0;this.ud=this.jc=this.Ua=null;this.Ff=this.ih=!1;if(a!=la)try{var b=this;a.call(void 0,function(c){bd(b,2,c)},function(c){if(!(c instanceof cd))try{if(c instanceof Error)throw c;throw Error("Promise rejected.");}catch(d){}bd(b,3,c)})}catch(c){bd(this,3,c)}},ed=function(){this.next=this.context=this.Ld=this.Je=this.Nc=null;this.mf=!1};ed.prototype.reset=function(){this.context=this.Ld=this.Je=this.Nc=null;this.mf=!1};
var fd=new Ma(function(){return new ed},function(a){a.reset()}),gd=function(a,b,c){var d=fd.get();d.Je=a;d.Ld=b;d.context=c;return d};dd.prototype.then=function(a,b,c){return hd(this,pa(a)?a:null,pa(b)?b:null,c)};dd.prototype.$goog_Thenable=!0;dd.prototype.cancel=function(a){if(0==this.f){var b=new cd(a);Pb(function(){id(this,b)},this)}};
var id=function(a,b){if(0==a.f)if(a.Ua){var c=a.Ua;if(c.jc){for(var d=0,e=null,f=null,g=c.jc;g&&(g.mf||(d++,g.Nc==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.f&&1==d?id(c,b):(f?(d=f,d.next==c.ud&&(c.ud=d),d.next=d.next.next):jd(c),kd(c,e,3,b)))}a.Ua=null}else bd(a,3,b)},md=function(a,b){a.jc||2!=a.f&&3!=a.f||ld(a);a.ud?a.ud.next=b:a.jc=b;a.ud=b},hd=function(a,b,c,d){var e=gd(null,null,null);e.Nc=new dd(function(f,g){e.Je=b?function(h){try{var l=b.call(d,h);f(l)}catch(m){g(m)}}:f;e.Ld=c?function(h){try{var l=
c.call(d,h);void 0===l&&h instanceof cd?g(h):f(l)}catch(m){g(m)}}:g});e.Nc.Ua=a;md(a,e);return e.Nc};dd.prototype.lm=function(a){this.f=0;bd(this,2,a)};dd.prototype.mm=function(a){this.f=0;bd(this,3,a)};
var bd=function(a,b,c){if(0==a.f){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.f=1;a:{var d=c,e=a.lm,f=a.mm;if(d instanceof dd){md(d,gd(e||la,f||null,a));var g=!0}else{if(d)try{var h=!!d.$goog_Thenable}catch(m){h=!1}else h=!1;if(h)d.then(e,f,a),g=!0;else{if(qa(d))try{var l=d.then;if(pa(l)){nd(d,l,e,f,a);g=!0;break a}}catch(m){f.call(a,m);g=!0;break a}g=!1}}}g||(a.hk=c,a.f=b,a.Ua=null,ld(a),3!=b||c instanceof cd||od(a,c))}},nd=function(a,b,c,d,e){var f=!1,g=function(l){f||(f=
!0,c.call(e,l))},h=function(l){f||(f=!0,d.call(e,l))};try{b.call(a,g,h)}catch(l){h(l)}},ld=function(a){a.ih||(a.ih=!0,Pb(a.gl,a))},jd=function(a){var b=null;a.jc&&(b=a.jc,a.jc=b.next,b.next=null);a.jc||(a.ud=null);return b};dd.prototype.gl=function(){for(var a;a=jd(this);)kd(this,a,this.f,this.hk);this.ih=!1};
var kd=function(a,b,c,d){if(3==c&&b.Ld&&!b.mf)for(;a&&a.Ff;a=a.Ua)a.Ff=!1;if(b.Nc)b.Nc.Ua=null,pd(b,c,d);else try{b.mf?b.Je.call(b.context):pd(b,c,d)}catch(e){qd.call(null,e)}fd.put(b)},pd=function(a,b,c){2==b?a.Je.call(a.context,c):a.Ld&&a.Ld.call(a.context,c)},od=function(a,b){a.Ff=!0;Pb(function(){a.Ff&&qd.call(null,b)})},qd=Fb,cd=function(a){za.call(this,a)};va(cd,za);cd.prototype.name="cancel";var rd=function(a,b,c){if(pa(a))c&&(a=ua(a,c));else if(a&&"function"==typeof a.handleEvent)a=ua(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:r.setTimeout(a,b||0)};var sd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,td=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var F=function(a){Lc.call(this);this.headers=new Wc;this.Kg=a||null;this.hc=!1;this.Jg=this.u=null;this.yj=this.Fe="";this.Sb=0;this.Ee="";this.Uc=this.th=this.Jf=this.gh=!1;this.ec=0;this.ta=null;this.af="";this.Gg=this.Ul=this.ce=!1};va(F,Lc);F.prototype.qa=z("goog.net.XhrIo");var ud=/^https?$/i,vd=["POST","PUT"],wd=function(a){a.af="arraybuffer"};
F.prototype.send=function(a,b,c,d){if(this.u)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Fe+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Fe=a;this.Ee="";this.Sb=0;this.yj=b;this.gh=!1;this.hc=!0;this.u=this.bh();this.Jg=this.Kg?Sc(this.Kg):Sc(Tc);this.u.onreadystatechange=ua(this.Pj,this);this.Ul&&"onprogress"in this.u&&(this.u.onprogress=ua(function(f){this.Oj(f,!0)},this),this.u.upload&&(this.u.upload.onprogress=ua(this.Oj,this)));try{Pc(this.qa,xd(this,"Opening Xhr")),
this.th=!0,this.u.open(b,String(a),!0),this.th=!1}catch(f){Pc(this.qa,xd(this,"Error opening Xhr: "+f.message));yd(this,f);return}a=c||"";var e=this.headers.clone();d&&ad(d,function(f,g){e.set(g,f)});d=Ia(e.Ya());c=r.FormData&&a instanceof r.FormData;!(0<=Ca(vd,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(f,g){this.u.setRequestHeader(g,f)},this);this.af&&(this.u.responseType=this.af);"withCredentials"in this.u&&this.u.withCredentials!==this.ce&&
(this.u.withCredentials=this.ce);try{zd(this),0<this.ec&&(this.Gg=Ad(this.u),Pc(this.qa,xd(this,"Will abort after "+this.ec+"ms if incomplete, xhr2 "+this.Gg)),this.Gg?(this.u.timeout=this.ec,this.u.ontimeout=ua(this.zk,this)):this.ta=rd(this.zk,this.ec,this)),Pc(this.qa,xd(this,"Sending request")),this.Jf=!0,this.u.send(a),this.Jf=!1}catch(f){Pc(this.qa,xd(this,"Send error: "+f.message)),yd(this,f)}};
var Ad=function(a){return sb&&Cb(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout},Ha=function(a){return"content-type"==a.toLowerCase()};F.prototype.bh=function(){return this.Kg?Vc(this.Kg):Vc(Tc)};F.prototype.zk=function(){"undefined"!=typeof ka&&this.u&&(this.Ee="Timed out after "+this.ec+"ms, aborting",this.Sb=8,Pc(this.qa,xd(this,this.Ee)),this.dispatchEvent("timeout"),this.abort(8))};
var yd=function(a,b){a.hc=!1;a.u&&(a.Uc=!0,a.u.abort(),a.Uc=!1);a.Ee=b;a.Sb=5;Bd(a);Cd(a)},Bd=function(a){a.gh||(a.gh=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};F.prototype.abort=function(a){this.u&&this.hc&&(Pc(this.qa,xd(this,"Aborting")),this.hc=!1,this.Uc=!0,this.u.abort(),this.Uc=!1,this.Sb=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cd(this))};F.prototype.G=function(){this.u&&(this.hc&&(this.hc=!1,this.Uc=!0,this.u.abort(),this.Uc=!1),Cd(this,!0));F.cf.G.call(this)};
F.prototype.Pj=function(){this.le||(this.th||this.Jf||this.Uc?Dd(this):this.Jl())};F.prototype.Jl=function(){Dd(this)};
var Dd=function(a){if(a.hc&&"undefined"!=typeof ka)if(a.Jg[1]&&4==Ed(a)&&2==Fd(a))Pc(a.qa,xd(a,"Local request error detected and ignored"));else if(a.Jf&&4==Ed(a))rd(a.Pj,0,a);else if(a.dispatchEvent("readystatechange"),4==Ed(a)){Pc(a.qa,xd(a,"Request complete"));a.hc=!1;try{var b=Fd(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Fe).match(sd)[1]||null;if(!f&&r.self&&r.self.location){var g=
r.self.location.protocol;f=g.substr(0,g.length-1)}e=!ud.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Sb=6;try{var h=2<Ed(a)?a.u.statusText:""}catch(l){Pc(a.qa,"Can not get status: "+l.message),h=""}a.Ee=h+" ["+Fd(a)+"]";Bd(a)}}finally{Cd(a)}}};F.prototype.Oj=function(a,b){this.dispatchEvent(Gd(a,"progress"));this.dispatchEvent(Gd(a,b?"downloadprogress":"uploadprogress"))};
var Gd=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Cd=function(a,b){if(a.u){zd(a);var c=a.u,d=a.Jg[0]?la:null;a.u=null;a.Jg=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){C(a.qa,"Problem encountered resetting onreadystatechange: "+e.message)}}},zd=function(a){a.u&&a.Gg&&(a.u.ontimeout=null);a.ta&&(r.clearTimeout(a.ta),a.ta=null)};F.prototype.we=function(){return!!this.u};
var Ed=function(a){return a.u?a.u.readyState:0},Fd=function(a){try{return 2<Ed(a)?a.u.status:-1}catch(b){return-1}},Hd=function(a){try{if(!a.u)return null;if("response"in a.u)return a.u.response;switch(a.af){case "":case "text":return a.u.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.u)return a.u.mozResponseArrayBuffer}C(a.qa,"Response type "+a.af+" is not supported on this browser");return null}catch(b){return Pc(a.qa,"Can not get response: "+b.message),null}};
F.prototype.getResponseHeader=function(a){if(this.u&&4==Ed(this))return a=this.u.getResponseHeader(a),null===a?void 0:a};F.prototype.getAllResponseHeaders=function(){return this.u&&4==Ed(this)?this.u.getAllResponseHeaders()||"":""};var xd=function(a,b){return b+" ["+a.yj+" "+a.Fe+" "+Fd(a)+"]"};var Id=function(a){return Oa(a,"audio/")},Jd=function(a){return Oa(a,"video/")},Kd=function(a){a=a.toLowerCase();return!a.includes(",")&&!!a.match(/^(mp4a|[ae]c-3)/)},Ld=/dv(he|av).[s|d|p][e|t|w][n|r|h|b][a|h]?[e|t|w]?/,Md=function(a){if(!a)return 100;switch(a.code){case MediaError.MEDIA_ERR_ABORTED:return 101;case MediaError.MEDIA_ERR_NETWORK:return 103;case MediaError.MEDIA_ERR_DECODE:return 102;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return 104;default:return 100}};var G={},Nd=(G["application/ttml+xml"]=1,G["text/vtt"]=2,G["text/mp4"]=3,G["audio/mp4"]=4,G["video/mp4"]=5,G["video/mp2t"]=6,G["audio/webm"]=7,G["video/webm"]=8,G["application/x-mpegurl"]=9,G["application/vnd.apple.mpegurl"]=10,G["application/dash+xml"]=11,G["application/vnd.ms-sstr+xml"]=12,G["text/cea608"]=13,G["video/ogg"]=14,G["audio/aac"]=15,G["audio/mp3"]=16,G["audio/ogg"]=17,G["audio/wav"]=18,G["image/gif"]=19,G["image/jpg"]=20,G["image/png"]=21,G["text/mp2t"]=22,G["application/mp4"]=23,G);
function Od(a){if(a){if(Jd(a))return"Video";if(Id(a))return"Audio"}}function Pd(a){switch(a){case "webvtt":return 1;case "ttml":return 2;case "cea608":return 3}return 0}
function Qd(a){switch(a){case "mp4a.a6":return 1;case "ec-3":return 2;case "mp4a.40.2":return 3;case "mp4a.40.5":return 4;case "mp4a.67":return 5;case "avc1.4D40":return 6;case "avc1.4D401E":return 7;case "mp4a.a5":return 8;case "ac-3":return 9;case "vorbis":return 10;case "opus":return 11;case "vp8":return 12;case "vp9":return 13}return 0==a.lastIndexOf("avc1",0)?11:0==a.lastIndexOf("mp4a.40",0)?12:0}
function Rd(a,b){switch(b){case 1:switch(a){case "clearkey":return 101;case "widevine":return 102;case "playready":return 103}break;case 2:switch(a){case "widevine":return 201;case "aes_128":return 202;case "aes_128_ckp":return 203}break;case 3:switch(a){case "playready":return 301}}return 0}var Sd=function(a){a.split(",").forEach(function(b){y("Cast.MPL.Codec",Qd(b))})},Td=function(a,b){y("Cast.MPL.ProtocolProtection",Rd(a,b))};var Ud=function(a,b,c){b=b||new Uint8Array(a.length);var d=0;for(c=c||0;d<a.length;d++)b[d+c]=a.charCodeAt(d);return b};var Vd=function(a){return!!a&&"function"===typeof a.then};var Wd=null,Yd=function(a){var b=a.length,c=3*b/4;c%3?c=Math.floor(c):-1!="=.".indexOf(a[b-1])&&(c=-1!="=.".indexOf(a[b-2])?c-2:c-1);var d=new Uint8Array(c),e=0;Xd(a,function(f){d[e++]=f});return d.subarray(0,e)},Xd=function(a,b){function c(l){for(;d<a.length;){var m=a.charAt(d++),p=Wd[m];if(null!=p)return p;if(!/^[\s\xa0]*$/.test(m))throw Error("Unknown base64 encoding at char: "+m);}return l}Zd();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<
4&240|g>>2),64!=h&&b(g<<6&192|h))}},Zd=function(){if(!Wd){Wd={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=a.concat(b[c].split("")),e=0;e<d.length;e++){var f=d[e];void 0===Wd[f]&&(Wd[f]=e)}}};var $d=0,ae=0,be=function(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Yd(a);Ba("Type not convertible to Uint8Array.");return new Uint8Array(0)};var ce=function(){this.F=[]};ce.prototype.length=function(){return this.F.length};ce.prototype.end=function(){var a=this.F;this.F=[];return a};var de=function(a,b){for(;127<b;)a.F.push(b&127|128),b>>>=7;a.F.push(b)},ee=function(a,b){if(0<=b)de(a,b);else{for(var c=0;9>c;c++)a.F.push(b&127|128),b>>=7;a.F.push(1)}};k=ce.prototype;k.Ig=function(a){this.F.push(a>>>0&255)};k.qd=function(a){this.F.push(a>>>0&255);this.F.push(a>>>8&255)};
k.i=function(a){this.F.push(a>>>0&255);this.F.push(a>>>8&255);this.F.push(a>>>16&255);this.F.push(a>>>24&255)};k.Fi=function(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;$d=b;ae=a;this.i($d);this.i(ae)};k.Dk=function(a){this.F.push(a>>>0&255);this.F.push(a>>>8&255);this.F.push(a>>>16&255);this.F.push(a>>>24&255)};
k.Di=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?$d=ae=0:(ae=0,$d=2147483648);else if(isNaN(b))ae=0,$d=2147483647;else if(3.4028234663852886E38<b)ae=0,$d=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),ae=0,$d=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;ae=0;$d=(a<<31|c+127<<23|b)>>>0}this.i($d)};k.Bi=function(a){this.F.push(a?1:0)};k.Ci=function(a){ee(this,a)};
k.Ic=function(a){this.F.push.apply(this.F,a)};k.Jc=function(a){for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(128>c)this.F.push(c);else if(2048>c)this.F.push(c>>6|192),this.F.push(c&63|128);else if(65536>c)if(55296<=c&&56319>=c&&b+1<a.length){var d=a.charCodeAt(b+1);56320<=d&&57343>=d&&(c=1024*(c-55296)+d-56320+65536,this.F.push(c>>18|240),this.F.push(c>>12&63|128),this.F.push(c>>6&63|128),this.F.push(c&63|128),b++)}else this.F.push(c>>12|224),this.F.push(c>>6&63|128),this.F.push(c&63|128)}};var fe=function(){this.sd=[];this.Hb=0;this.ba=new ce},ge=function(a,b){de(a.ba,8*b+2);b=a.ba.end();a.sd.push(b);a.Hb+=b.length;b.push(a.Hb);return b},he=function(a,b){var c=b.pop();for(c=a.Hb+a.ba.length()-c;127<c;)b.push(c&127|128),c>>>=7,a.Hb++;b.push(c);a.Hb++};fe.prototype.reset=function(){this.sd=[];this.ba.end();this.Hb=0};var ie=function(a){for(var b=new Uint8Array(a.Hb+a.ba.length()),c=a.sd,d=c.length,e=0,f=0;f<d;f++){var g=c[f];b.set(g,e);e+=g.length}c=a.ba.end();b.set(c,e);a.sd=[b];return b};
k=fe.prototype;k.Dk=function(a,b){null!=b&&null!=b&&(de(this.ba,8*a),ee(this.ba,b))};k.i=function(a,b){null!=b&&null!=b&&(de(this.ba,8*a),de(this.ba,b))};k.Fi=function(){};k.Di=function(a,b){null!=b&&(de(this.ba,8*a+5),this.ba.Di(b))};k.Bi=function(a,b){null!=b&&(de(this.ba,8*a),this.ba.Bi(b))};k.Ci=function(a,b){null!=b&&(de(this.ba,8*a),ee(this.ba,b))};k.Jc=function(a,b){null!=b&&(a=ge(this,a),this.ba.Jc(b),he(this,a))};
k.Ic=function(a,b){null!=b&&(b=be(b),de(this.ba,8*a+2),de(this.ba,b.length),a=this.ba.end(),this.sd.push(a),this.sd.push(b),this.Hb+=a.length+b.length)};var je=function(a,b,c){if(null!=c)for(var d=0;d<c.length;d++)a.Ic(b,c[d])},ke=function(a,b,c,d){if(null!=c)for(var e=0;e<c.length;e++){var f=ge(a,b);d(c[e],a);he(a,f)}};var le=function(){},me="function"==typeof Uint8Array,qe=function(a,b,c,d,e){a.la=null;b||(b=c?[c]:[]);a.um=c?String(c):void 0;a.fe=0===c?-1:0;a.Wa=b;a:{if(b=a.Wa.length)if(--b,c=a.Wa[b],!(null===c||"object"!=typeof c||na(c)||me&&c instanceof Uint8Array)){a.Ne=b-a.fe;a.Ka=c;break a}a.Ne=Number.MAX_VALUE}a.rm={};if(d)for(b=0;b<d.length;b++)c=d[b],c<a.Ne?(c+=a.fe,a.Wa[c]=a.Wa[c]||ne):(oe(a),a.Ka[c]=a.Ka[c]||ne);if(e&&e.length)for(b=0;b<e.length;b++)pe(a,e[b])},ne=Object.freeze?Object.freeze([]):[],oe=
function(a){var b=a.Ne+a.fe;a.Wa[b]||(a.Ka=a.Wa[b]={})},H=function(a,b){if(b<a.Ne){b+=a.fe;var c=a.Wa[b];return c===ne?a.Wa[b]=[]:c}if(a.Ka)return c=a.Ka[b],c===ne?a.Ka[b]=[]:c},re=function(a){a=H(a,5);return null==a?a:!!a},se=function(a){if(null==a||a instanceof Uint8Array)return a;if("string"===typeof a)return Yd(a);Ba("Cannot coerce to Uint8Array: "+ma(a));return null},ue=function(a){te(a);return!a.length||a[0]instanceof Uint8Array?a:Ga(a,se)},te=function(a){if(a&&1<a.length){var b=ma(a[0]);Fa(a,
function(c){ma(c)!=b&&Ba("Inconsistent type in JSPB repeated field array. Got "+ma(c)+" expected "+b)})}},ve=function(a,b,c){b<a.Ne?a.Wa[b+a.fe]=c:(oe(a),a.Ka[b]=c);return a},xe=function(a,b,c){var d=pe(a,we[0]);d&&d!==b&&void 0!==c&&(a.la&&d in a.la&&(a.la[d]=void 0),ve(a,d,void 0));return ve(a,b,c)},pe=function(a,b){for(var c,d,e=0;e<b.length;e++){var f=b[e],g=H(a,f);null!=g&&(c=f,d=g,ve(a,f,void 0))}return c?(ve(a,c,d),c):0},ye=function(a,b,c){a.la||(a.la={});if(!a.la[c]){for(var d=H(a,c),e=[],
f=0;f<d.length;f++)e[f]=new b(d[f]);a.la[c]=e}b=a.la[c];b==ne&&(b=a.la[c]=[]);return b},ze=function(a){if(a.la)for(var b in a.la){var c=a.la[b];if(na(c))for(var d=0;d<c.length;d++)c[d]&&c[d].ld();else c&&c.ld()}};le.prototype.ld=function(){ze(this);return this.Wa};le.prototype.toString=function(){ze(this);return this.Wa.toString()};
le.prototype.getExtension=function(a){if(this.Ka){this.la||(this.la={});var b=a.sm;if(a.tm){if(a.tl())return this.la[b]||(this.la[b]=Ga(this.Ka[b]||[],function(c){return new a.Xk(c)})),this.la[b]}else if(a.tl())return!this.la[b]&&this.Ka[b]&&(this.la[b]=new a.Xk(this.Ka[b])),this.la[b];return this.Ka[b]}};le.prototype.clone=function(){return new this.constructor(Ae(this.ld()))};
var Ae=function(a){if(na(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?Ae(d):d)}return b}if(me&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?Ae(d):d);return b};var Be=function(a){qe(this,a,0,null,we)};va(Be,le);var we=[[2,3,4,5]];Be.prototype.qg=function(){var a=new fe;Ce(this,a);return ie(a)};var Ce=function(a,b){var c=H(a,1);null!=c&&b.Jc(1,c);c=H(a,2);null!=c&&b.Jc(2,c);c=H(a,3);null!=c&&b.Dk(3,c);c=H(a,4);null!=c&&b.Di(4,c);c=H(a,5);null!=c&&b.Bi(5,c)};k=Be.prototype;k.Za=function(){return H(this,1)};k.getStringValue=function(){return H(this,2)};k.setStringValue=function(a){return xe(this,2,a)};
k.getFloatValue=function(){var a=H(this,4);return null==a?a:+a};k.setFloatValue=function(a){return xe(this,4,a)};var Ee=function(a){qe(this,a,"scs.sc",De,null)};va(Ee,le);var De=[1,2];Ee.prototype.qg=function(){var a=new fe;var b=H(this,1);if(0<b.length&&null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];null!=e&&(de(d.ba,8),ee(d.ba,e))}b=ye(this,Be,2);0<b.length&&ke(a,2,b,Ce);return ie(a)};var Fe=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/,Ge=function(a,b,c,d,e,f){"string"===typeof a?(this.rd="y"==a?b:0,this.bd="m"==a?b:0,this.kc="d"==a?b:0,this.pc="h"==a?b:0,this.yc="n"==a?b:0,this.Cc="s"==a?b:0):(this.rd=a||0,this.bd=b||0,this.kc=c||0,this.pc=d||0,this.yc=e||0,this.Cc=f||0)};Ge.prototype.Ob=function(a){return a.rd==this.rd&&a.bd==this.bd&&a.kc==this.kc&&a.pc==this.pc&&a.yc==this.yc&&a.Cc==this.Cc};
Ge.prototype.clone=function(){return new Ge(this.rd,this.bd,this.kc,this.pc,this.yc,this.Cc)};Ge.prototype.add=function(a){this.rd+=a.rd;this.bd+=a.bd;this.kc+=a.kc;this.pc+=a.pc;this.yc+=a.yc;this.Cc+=a.Cc};var He=function(){this.gk=t()},Ie=null;He.prototype.set=function(a){this.gk=a};He.prototype.reset=function(){this.set(t())};He.prototype.get=function(){return this.gk};var Je=function(a){this.Rl=a||"";Ie||(Ie=new He);this.im=Ie};k=Je.prototype;k.Ii=!0;k.rk=!0;k.fm=!0;k.em=!0;k.sk=!1;k.gm=!1;var Ke=function(a){return 10>a?"0"+a:String(a)},Le=function(a,b){a=(a.Wd-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},Me=function(a){Je.call(this,a)};va(Me,Je);
var Ne=function(a,b){var c=[];c.push(a.Rl," ");if(a.rk){var d=new Date(b.Wd);c.push("[",Ke(d.getFullYear()-2E3)+Ke(d.getMonth()+1)+Ke(d.getDate())+" "+Ke(d.getHours())+":"+Ke(d.getMinutes())+":"+Ke(d.getSeconds())+"."+Ke(Math.floor(d.getMilliseconds()/10)),"] ")}a.fm&&c.push("[",Le(b,a.im.get()),"s] ");a.em&&c.push("[",b.Aj,"] ");a.gm&&c.push("[",b.Zc.name,"] ");c.push(b.Bl);a.sk&&(b=b.yf)&&c.push("\n",b instanceof Error?b.message:b.toString());a.Ii&&c.push("\n");return c.join("")};var Oe=function(){this.Wl=ua(this.Lk,this);this.Af=new Me;this.Af.rk=!1;this.Af.sk=!1;this.oj=this.Af.Ii=!1;this.hl={}};Oe.prototype.Lk=function(a){function b(f){if(f){if(f.value>=Wb.value)return"error";if(f.value>=Xb.value)return"warn";if(f.value>=Zb.value)return"log"}return"debug"}if(!this.hl[a.Aj]){var c=Ne(this.Af,a),d=Pe;if(d){var e=b(a.Zc);Qe(d,e,c,a.yf)}}};var Re=null,Pe=r.console,Qe=function(a,b,c,d){if(a[b])a[b](c,d||"");else a.log(c,d||"")};var Se=function(){this.La=[];this.ob=[]},Te=function(a){0==a.La.length&&(a.La=a.ob,a.La.reverse(),a.ob=[])};Se.prototype.enqueue=function(a){this.ob.push(a)};var Ue=function(a){Te(a);return a.La.pop()},Ve=function(a){Te(a);a=a.La;return a[a.length-1]};k=Se.prototype;k.Rc=function(){return this.La.length+this.ob.length};k.Pa=function(){return 0==this.La.length&&0==this.ob.length};k.clear=function(){this.La=[];this.ob=[]};k.contains=function(a){return 0<=Ca(this.La,a)||0<=Ca(this.ob,a)};
k.remove=function(a){var b=this.La;var c=Ea(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Ja(this.ob,a)};k.$a=function(){for(var a=[],b=this.La.length-1;0<=b;--b)a.push(this.La[b]);var c=this.ob.length;for(b=0;b<c;++b)a.push(this.ob[b]);return a};var I=function(a,b){this.Nb=this.od=this.Xb="";this.Pd=null;this.Qc=this.hb="";this.Ma=this.ul=!1;if(a instanceof I){this.Ma=void 0!==b?b:a.Ma;We(this,a.Xb);var c=a.od;Xe(this);this.od=c;c=a.Nb;Xe(this);this.Nb=c;Ye(this,a.Pd);c=a.hb;Xe(this);this.hb=c;Ze(this,a.jb.clone());a=a.Qc;Xe(this);this.Qc=a}else a&&(c=String(a).match(sd))?(this.Ma=!!b,We(this,c[1]||"",!0),a=c[2]||"",Xe(this),this.od=$e(a),a=c[3]||"",Xe(this),this.Nb=$e(a,!0),Ye(this,c[4]),a=c[5]||"",Xe(this),this.hb=$e(a,!0),Ze(this,c[6]||
"",!0),a=c[7]||"",Xe(this),this.Qc=$e(a)):(this.Ma=!!b,this.jb=new af(null,this.Ma))};
I.prototype.toString=function(){var a=[],b=this.Xb;b&&a.push(bf(b,cf,!0),":");var c=this.Nb;if(c||"file"==b)a.push("//"),(b=this.od)&&a.push(bf(b,cf,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Pd,null!=c&&a.push(":",String(c));if(c=this.hb)this.Nb&&"/"!=c.charAt(0)&&a.push("/"),a.push(bf(c,"/"==c.charAt(0)?df:ef,!0));(c=this.jb.toString())&&a.push("?",c);(c=this.Qc)&&a.push("#",bf(c,ff));return a.join("")};
I.prototype.resolve=function(a){var b=this.clone(),c=!!a.Xb;c?We(b,a.Xb):c=!!a.od;if(c){var d=a.od;Xe(b);b.od=d}else c=!!a.Nb;c?(d=a.Nb,Xe(b),b.Nb=d):c=null!=a.Pd;d=a.hb;if(c)Ye(b,a.Pd);else if(c=!!a.hb){if("/"!=d.charAt(0))if(this.Nb&&!this.hb)d="/"+d;else{var e=b.hb.lastIndexOf("/");-1!=e&&(d=b.hb.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&
f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(Xe(b),b.hb=d):c=""!==a.jb.toString();c?Ze(b,a.jb.clone()):c=!!a.Qc;c&&(a=a.Qc,Xe(b),b.Qc=a);return b};I.prototype.clone=function(){return new I(this)};
var We=function(a,b,c){Xe(a);a.Xb=c?$e(b,!0):b;a.Xb&&(a.Xb=a.Xb.replace(/:$/,""))},Ye=function(a,b){Xe(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Pd=b}else a.Pd=null},Ze=function(a,b,c){Xe(a);b instanceof af?(a.jb=b,a.jb.mi(a.Ma)):(c||(b=bf(b,gf)),a.jb=new af(b,a.Ma))};I.prototype.getQuery=function(){return this.jb.toString()};I.prototype.removeParameter=function(a){Xe(this);this.jb.remove(a);return this};
var Xe=function(a){if(a.ul)throw Error("Tried to modify a read-only Uri");};I.prototype.mi=function(a){this.Ma=a;this.jb&&this.jb.mi(a)};
var hf=function(a){return a instanceof I?a.clone():new I(a,void 0)},$e=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},bf=function(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,jf),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},jf=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},cf=/[#\/\?@]/g,ef=/[#\?:]/g,df=/[#\?]/g,gf=/[#\?@]/g,ff=/#/g,af=function(a,b){this.P=this.$=null;this.Fa=a||null;this.Ma=!!b},
kf=function(a){a.$||(a.$=new Wc,a.P=0,a.Fa&&td(a.Fa,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};k=af.prototype;k.Rc=function(){kf(this);return this.P};k.add=function(a,b){kf(this);this.Fa=null;a=lf(this,a);var c=this.$.get(a);c||this.$.set(a,c=[]);c.push(b);this.P+=1;return this};k.remove=function(a){kf(this);a=lf(this,a);return this.$.ie(a)?(this.Fa=null,this.P-=this.$.get(a).length,this.$.remove(a)):!1};k.clear=function(){this.$=this.Fa=null;this.P=0};
k.Pa=function(){kf(this);return 0==this.P};k.ie=function(a){kf(this);a=lf(this,a);return this.$.ie(a)};k.forEach=function(a,b){kf(this);this.$.forEach(function(c,d){Fa(c,function(e){a.call(b,e,d,this)},this)},this)};k.Ya=function(){kf(this);for(var a=this.$.$a(),b=this.$.Ya(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.$a=function(a){kf(this);var b=[];if("string"===typeof a)this.ie(a)&&(b=Ka(b,this.$.get(lf(this,a))));else{a=this.$.$a();for(var c=0;c<a.length;c++)b=Ka(b,a[c])}return b};k.set=function(a,b){kf(this);this.Fa=null;a=lf(this,a);this.ie(a)&&(this.P-=this.$.get(a).length);this.$.set(a,[b]);this.P+=1;return this};k.get=function(a,b){if(!a)return b;a=this.$a(a);return 0<a.length?String(a[0]):b};
k.toString=function(){if(this.Fa)return this.Fa;if(!this.$)return"";for(var a=[],b=this.$.Ya(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.$a(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.Fa=a.join("&")};k.clone=function(){var a=new af;a.Fa=this.Fa;this.$&&(a.$=this.$.clone(),a.P=this.P);return a};var lf=function(a,b){b=String(b);a.Ma&&(b=b.toLowerCase());return b};
af.prototype.mi=function(a){a&&!this.Ma&&(kf(this),this.Fa=null,this.$.forEach(function(b,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<b.length&&(this.Fa=null,this.$.set(lf(this,d),La(b)),this.P+=b.length))},this));this.Ma=a};af.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)ad(arguments[b],function(c,d){this.add(d,c)},this)};var nf=function(a){qe(this,a,0,mf,null)};va(nf,le);var of=function(a){qe(this,a,0,null,null)};va(of,le);var mf=[2,13,14];
nf.prototype.qg=function(){var a=new fe;var b=ue(H(this,2));0<b.length&&je(a,2,b);b=H(this,4);null!=b&&a.Ic(4,b);b=H(this,7);null!=b&&a.i(7,b);b=H(this,9);null!=b&&a.i(9,b);b=H(this,10);null!=b&&a.i(10,b);b=H(this,11);null!=b&&a.Ci(11,b);b=H(this,12);null!=b&&a.i(12,b);b=ue(H(this,13));0<b.length&&je(a,13,b);b=ye(this,of,14);0<b.length&&ke(a,14,b,pf);b=H(this,15);null!=b&&a.Jc(15,b);b=H(this,1);null!=b&&a.Ci(1,b);b=H(this,3);null!=b&&a.Jc(3,b);b=H(this,5);null!=b&&a.Jc(5,b);b=H(this,6);null!=b&&a.Jc(6,
b);b=H(this,8);null!=b&&a.Ic(8,b);return ie(a)};of.prototype.qg=function(){var a=new fe;pf(this,a);return ie(a)};var pf=function(a,b){var c=H(a,1);null!=c&&b.Ic(1,c);c=H(a,2);null!=c&&b.Ic(2,c);c=H(a,3);null!=c&&b.Ic(3,c);c=H(a,4);null!=c&&b.Ic(4,c);c=H(a,5);null!=c&&b.i(5,c)};of.prototype.getKey=function(){return H(this,3)};x("cast.player.api.VERSION","1.0.0");x("cast.player.api.ErrorCode",{UNKNOWN:0,PLAYBACK:1,MEDIAKEYS:2,NETWORK:3,MANIFEST:4});var qf=["cast.player.api.ErrorCode.UNKNOWN","cast.player.api.ErrorCode.PLAYBACK","cast.player.api.ErrorCode.MEDIAKEYS","cast.player.api.ErrorCode.NETWORK","cast.player.api.ErrorCode.MANIFEST"];x("cast.player.api.HlsSegmentFormat",{MPEG2_TS:0,MPEG_AUDIO_ES:1,PACKED_AUDIO_AC3:2,qm:3,MPEG_LAYER_3:4,TS_AAC:5,PACKED_AUDIO_E_AC3:6,FMP4:7});
x("cast.player.api.HlsVideoSegmentFormat",{MPEG2_TS:0,FMP4:1});x("cast.player.api.CaptionsType",{UNKNOWN:"unknown",WEBVTT:"webvtt",TTML:"ttml",CEA608:"cea608",STPP:"stpp"});x("cast.player.api.ContentProtection",{NONE:"none",CLEARKEY:"clearkey",PLAYREADY:"playready",WIDEVINE:"widevine",AES_128:"aes_128",AES_128_CKP:"aes_128_ckp"});var rf={DEBUG:0,INFO:800,WARNING:900,ERROR:1E3,NONE:Infinity};x("cast.player.api.LoggerLevel",rf);
x("cast.player.api.StreamingProtocolType",{UNKNOWN:0,MPEG_DASH:1,HLS:2,SMOOTH_STREAMING:3});var sf=function(){this.timeoutInterval=3E4;this.headers=this.url=null;this.withCredentials=!1;this.protectionSystem=this.content=null;this.skipRequest=!1;this.setResponse=null;this.interval={time:0,duration:0};this.Rd=null};x("cast.player.api.RequestInfo",sf);var tf=function(a,b,c,d,e){this.url=a;this.errorCode=b;this.status=c;this.responseHeaders=d;this.response=e};x("cast.player.api.RequestStatus",tf);
var uf=function(a,b,c,d,e,f,g,h){this.codecs=a;this.codecsProvided=void 0===h?!1:h;this.mimeType=b;this.bitrates=c;this.language=d;this.name=e;this.role=f;this.hlsMediaInfo=void 0===g?null:g};x("cast.player.api.StreamInfo",uf);
var vf=function(a){a=void 0===a?{}:a;var b=void 0===a.url?null:a.url,c=void 0===a.characteristics?null:a.characteristics,d=void 0===a.groupId?null:a.groupId,e=void 0===a.autoSelect?!1:a.autoSelect,f=void 0===a.channels?null:a.channels,g=void 0===a.forced?!1:a.forced,h=void 0===a.assocLanguage?null:a.assocLanguage;this.isDefault=void 0===a.isDefault?!1:a.isDefault;this.url=b;this.characteristics=c;this.groupId=d;this.autoSelect=e;this.channels=f;this.forced=g;this.assocLanguage=h};
x("cast.player.api.HlsMediaInfo",vf);x("cast.player.api.EmsgInfo",function(){});window.VTTCue=window.VTTCue||window.TextTrackCue;var wf=function(a){hc().ni(cc(a))};x("cast.player.api.setLoggerLevel",wf);Re||(Re=new Oe);if(Re){var xf=Re;if(1!=xf.oj){var yf=hc(),zf=xf.Wl;yf.oe||(yf.oe=[]);yf.oe.push(zf);xf.oj=!0}};var Af=function(a){this.url=a;this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateManifestRequestInfo=null};x("cast.player.api.HostBase",Af);var Bf={clearkey:"org.w3.clearkey",playready:"com.chromecast.playready",widevine:"com.widevine.alpha"},Cf=z("cast.player.common"),Df=function(a,b,c){return"caption"==a||Oa(b,"text/")||"application/ttml+xml"===b||"application/mp4"==b&&"stpp"==c},Ff=function(a,b){b&&(b=new Uint8Array(new ArrayBuffer(16)),b.set(a),Ef(b.subarray(0,4)),Ef(b.subarray(4,6)),Ef(b.subarray(6,8)),a=b);this.jf=a};Ff.prototype.Ob=function(a){if(!a)return!1;var b=this.jf;a=a.jf;for(var c=0;16>c;c++)if(b[c]!=a[c])return!1;return!0};
Ff.prototype.ld=function(){return this.jf};Ff.prototype.toString=function(){for(var a="",b=0;b<this.jf.length;b++)a+=("0"+this.jf[b].toString(16)).slice(-2);return a};
var Ef=function(a){for(var b=0,c=a.length-1;b<c;b++,c--){var d=a[b];a[b]=a[c];a[c]=d}},Gf=new Ff([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),Hf=new Ff([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),If=new Ff([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),Jf=function(a,b){return MediaSource.isTypeSupported(a+'; codecs="'+b+'"')},Kf=function(a){return"mp4a.a6"==a||"ec-3"==a},Lf=function(a,b,c){for(a=a.toString(b);a.length<c;)a="0"+a;return a},Mf=function(a){for(var b=
a.length/2,c=new Uint8Array(b),d=0;d<b;d++)c[d]=parseInt(a.substr(2*d,2),16);return c},Nf=function(a){if(cast.__platform__&&cast.__platform__.queryPlatformValue)return cast.__platform__.queryPlatformValue(a)},Of=function(a){switch(a){case 2:return"mp4a.a5";case 6:return"mp4a.a6";case 4:return"";default:return"mp4a.40.2"}},Pf=function(a){a=a.split(",");for(var b=0;b<a.length;b++){var c=a[b].match(Ld);if(c&&!Jf("video/mp4",c[0])){E(Cf,c[0]+" removed");a.splice(b,1);break}if(c=a[b]){var d=c.split(".");
2!=d.length||"avc1"!=d[0]&&"avc3"!=d[0]||(c=d[0]+"."+d[1].toUpperCase())}a[b]=c}return a.join(",")},Qf=function(a){return a.split(",").find(function(b){return!Kd(b)})},Rf=function(a){return a.split(",").find(function(b){return Kd(b)})},Sf=cast.__platform__&&cast.__platform__.display,Tf=cast.__platform__&&cast.__platform__.canDisplayType,Uf=function(a,b){return"number"===typeof a&&"number"===typeof b&&2160<=b},Vf=parseFloat(Nf("log-level-mpl"));0<=Ca(Wa(rf),Vf)?wf(Vf):wf(0);var Wf={"Cast.MPL.SegmentStats.Size":{min:0,max:1E6,Dj:100},"Cast.MPL.SegmentStats.Time":{min:0,max:2E4,Dj:20}},Xf=function(a,b){Wf[a]?wa()&&cast.__platform__.metrics.logHistogramValueToUma(a,b,Wf[a].min,Wf[a].max,Wf[a].Dj):D(Cf,"Invalid histogram name")};var Yf=function(a){Af.call(this,a.url);this.initialBandwidth=3145728;this.autoResumeDuration=10;this.autoResumeNumberOfSegments=3;this.autoPauseDuration=1;this.segmentRequestRetryLimit=3;this.useSingleKeySession=!1;this.mediaElement=a.mediaElement||null;this.url=a.url;this.licenseUrl=a.licenseUrl||null;this.decodeContentId=!0===a.decodeContentId;this.protectionSystem=a.protectionSystem||null;this.licenseCustomData=a.licenseCustomData||null;this.Hi=1==a.aggressiveStallHandling;this.aj=1==a.disableSourceBufferTimeAdjust;
this.rh=1==a.hlsContentKeyProtection;this.enableSmoothLiveRefresh=1==a.enableSmoothLiveRefresh;this.skipSegmentOnNetworkFailure=1==a.skipSegmentOnNetworkFailure;this.preferSequenceNumberForPlaylistMatching=1==a.preferSequenceNumberForPlaylistMatching;this.ignoreTtmlPositionInfo=1==a.ignoreTtmlPositionInfo;this.useRelativeCueTimestamps=1==a.useRelativeCueTimestamps;this.emeServerCertificate=a.emeServerCertificate||null;this.onQualityLevelChanged=this.onCue=this.onAutoPause=this.onMediaDownloadEnded=
this.onManifestReady=this.processLicense=this.processSegment=this.processManifest=this.processMetadata=this.prepareLicenseRequest=this.getQualityLevel=this.trackBandwidth=this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateLicenseRequestInfo=this.updateManifestRequestInfo=this.onError=null};q(Yf,Af);
Yf.prototype.T=function(a,b,c,d){var e=a;if(b){e=b.errorCode;if(6==b.errorCode&&0<=b.status)var f=b.status;var g=a;null!=e&&(g=10*g+e%10,null!=f&&(g=1E3*g+f%1E3));e=g}y("Cast.MPL.Error",e);a=Math.floor(a/100);C(d||Zf,"error: "+qf[a]+"/"+e+(c?" ("+c+")":""));if(this.onError)this.onError(a,b)};var $f=function(a,b){return a.processManifest?a.processManifest(b):b};x("cast.player.api.Host",Yf);var Zf=z("cast.player.api.Host");x("cast.player.cache.ContentCacheCallbacks",function(){});var ag=function(a){Yf.call(this,a)};q(ag,Yf);x("cast.player.api.ContentCacheHost",ag);var bg=function(){};bg.prototype.load=function(){C(cg,"Cache is deprecated");return Promise.reject("Cache is deprecated")};bg.prototype.Hc=function(){};x("cast.player.api.ContentCache",bg);bg.setCacheHitCallback=function(){};bg.setCacheInsertCallback=function(){};bg.prototype.unload=bg.prototype.Hc;bg.prototype.load=bg.prototype.load;var cg=z("cast.player.api.ContentCache");var dg=function(a){this.buffer=a;this.yd=new DataView(a.buffer,a.byteOffset);this.offset=0},eg=function(a){return a.buffer[a.offset++]},fg=function(a){var b=a.yd.getUint16(a.offset);a.offset+=2;return b},J=function(a){var b=a.yd.getUint32(a.offset);a.offset+=4;return b},gg=function(a){var b=a.yd.getInt32(a.offset);a.offset+=4;return b},hg=function(a){var b=J(a);a=J(a);return 4294967296*b+a},ig=function(a){var b=J(a),c=J(a);if(a=b&2147483648)c=~c+1>>>0,b=~b>>>0,0===c&&(b=b+1>>>0);b=4294967296*b+c;
return a?-b:b},jg=function(a,b){var c=a.buffer.subarray(a.offset,a.offset+b);a.offset+=b;return c},kg=function(a){for(var b=a.offset;a.offset<a.buffer.length&&0!==a.yd.getUint8(a.offset);)a.offset++;b=new Uint8Array(a.yd.buffer,a.yd.byteOffset+b,a.offset-b);a.offset++;a=[];for(var c=0,d=0;c<b.length;){var e=b[c++];if(128>e)a[d++]=String.fromCharCode(e);else if(191<e&&224>e){var f=b[c++];a[d++]=String.fromCharCode((e&31)<<6|f&63)}else if(239<e&&365>e){f=b[c++];var g=b[c++],h=b[c++];e=((e&7)<<18|(f&
63)<<12|(g&63)<<6|h&63)-65536;a[d++]=String.fromCharCode(55296+(e>>10));a[d++]=String.fromCharCode(56320+(e&1023))}else f=b[c++],g=b[c++],a[d++]=String.fromCharCode((e&15)<<12|(f&63)<<6|g&63)}return a.join("")},lg=function(a){return a.buffer.subarray(a.offset)},K=function(a,b){a.offset+=b};var ng=function(a){this.Xi=a;this.Rg=this.sa=this.Wd=this.mode=this.Xf=0;this.jh=new mg(this);this.kh=new mg(this);this.Mc=[];this.reset()},og=function(a){return a.Wd+a.sa};ng.prototype.clear=function(){this.Rg=this.Wd=this.mode=0;this.Mc=[];this.reset()};ng.prototype.reset=function(){this.mode=0;this.jh.reset(0);this.kh.reset(1)};
var qg=function(a,b,c){if(255==a&&255==b||!a&&!b)return{nf:a,pf:b,result:0};a=pg[a];b=pg[b];if(a&128){if(!(b&128)&&0!=c.f&&c.Qg==b)return{nf:a,pf:b,result:1}}else if(b&128&&1<=a&&31>=a)return{nf:a,pf:b,result:2};return{nf:a,pf:b,result:3}},sg=function(a,b,c){255==b&&255==c||!b&&!c?(45==++a.Rg&&a.reset(),a.jh.Yc.clear(),a.kh.Yc.clear()):(a.Rg=0,rg(a.jh,b,c))};
ng.prototype.decode=function(){this.Mc.sort(function(c,d){var e=c.time-d.time;return 0==e?c.order-d.order:e});for(var a=0;a<this.Mc.length;a++){var b=this.Mc[a];this.Wd=b.time;0==b.type?sg(this,b.Qi,b.Ri):1==b.type&&this.Xf&496&&rg(this.kh,b.Qi,b.Ri)}this.Mc.length=0};
var pg=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255],tg=function(){this.fc=0};tg.prototype.set=function(a){this.fc=a};
tg.prototype.get=function(){return this.fc};var ug=function(){this.Qg=this.Li=this.f=0};ug.prototype.clear=function(){this.f=0};ug.prototype.update=function(){this.f=2==this.f?1:0};ug.prototype.matches=function(a,b){return 0!=this.f&&a==this.Li&&b==this.Qg};var vg=function(){this.timestamp=this.gc=0;this.xe=!1};vg.prototype.reset=function(){this.timestamp=this.gc=0;this.xe=!1};
var wg=function(a){this.pb=[];for(var b=0;15>=b;b++){this.pb[b]=[];for(var c=0;32>=c;c++)this.pb[b][c]=new vg}this.W=this.ua=this.va=0;this.style=new tg;this.aa=a;this.He=0},yg=function(a){for(var b="",c=og(a.aa),d=c,e=1;15>=e;++e){for(var f="",g=!1,h=1;32>=h;++h){var l=a.pb[e][h];if(0!=l.gc){var m=String.fromCharCode(l.gc);" "!=m&&(g=!0);f+=m;var p=l.timestamp;p<c&&(c=p);p>d&&(d=p);3==a.style.fc?(!l.xe&&" "==m&&g&&32>h&&xg(a.aa.Xi,c,c,b?b+"\n"+f:f),l.xe=!0):l.reset()}}f&&(b=b?b+"\n"+f:f)}b&&xg(a.aa.Xi,
c,d,b)};wg.prototype.reset=function(a){for(var b=0;15>=b;b++)for(var c=0;32>=c;c++)this.pb[b][c].reset();this.He=a;this.W=0;this.ua=this.va=1};
var zg=function(a){return a.pb[a.va][a.ua]},Cg=function(a,b,c){2<=b&&1<a.ua&&(--a.ua,zg(a).gc=0);var d=zg(a);d.timestamp=og(a.aa);a:{switch(b){case 0:b=Ag[(c&127)-32];break a;case 1:b=Bg[c&15];break a}b=0}d.gc=b;32>a.ua&&a.ua++},Dg=function(a,b,c,d){for(var e=0;e<d;e++)for(var f=0;32>=f;f++){var g=a.pb[b+e][f],h=a.pb[c+e][f];g.gc=h.gc;g.timestamp=h.timestamp;g.xe=h.xe}},Eg=function(a,b,c){for(var d=0;d<c;d++)for(var e=0;32>=e;e++)a.pb[b+d][e].reset()},Fg=function(a){a.va=0<a.W?a.W:1;a.ua=1;Eg(a,0,
15)},Ag=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],Bg=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],Gg=function(a){this.aa=a;this.Wg=0;this.style=new tg;this.Lh=new wg(a);this.Mh=new wg(a);this.ha=new wg(a);
this.sb=this.Lh;this.Id=this.Mh;this.R=this.sb};Gg.prototype.reset=function(a,b){this.Wg=b;this.style.set(2);this.sb=this.Lh;this.Id=this.Mh;this.R=this.sb;var c=(a<<2)+(b<<1);this.Lh.reset(c);this.Mh.reset(c);this.ha.reset((a<<2)+(b<<1)+1)};
var Hg=function(a,b){var c=a.sb;switch(a.style.get()){case 4:if(0<c.W)break;case 1:case 2:yg(c),Fg(a.sb),Fg(a.Id),c.va=15,c.W=b}a.style.set(3);a.R=c;a.R.style=a.style;a.aa.mode=1<<c.He;c.ua=1;c.W!=b&&(c.W>b?(yg(c),Eg(c,c.va-c.W,b)):c.va<b&&(b=c.W),c.W=b)},Ig=function(a){a.style.set(1);a.R=a.Id;a.R.W=0;a.R.style=a.style;a.aa.mode=1<<a.R.He},Jg=function(a){a.style.set(4);a.R=a.ha;a.R.style=a.style;a.aa.mode=1<<a.R.He},mg=function(a){this.aa=a;this.Yc=new ug;this.lh=0;this.qf=new Gg(a);this.Mi=new Gg(a);
this.dh=this.qf};mg.prototype.reset=function(a){this.lh=a;this.Yc.clear();this.dh=this.qf;this.qf.reset(a,0);this.Mi.reset(a,1)};
var rg=function(a,b,c){a.Yc.update();b=qg(b,c,a.Yc);switch(b.result){case 0:return;case 1:case 2:return}var d=b.nf;c=b.pf;if(32<=d||!d)a.aa.mode&a.aa.Xf&&(b=d,b&128&&(b=127),c&128&&(c=127),a=a.dh.R,b&96&&Cg(a,0,b),c&96&&Cg(a,0,c));else if(d&16)a:if(!a.Yc.matches(d,c)&&(b=a.Yc,b.Li=d,b.Qg=c,b.f=2,b=d&8?a.Mi:a.qf,a.dh=b,a.aa.mode=1<<(a.lh<<2)+(b.Wg<<1)+(4==b.style.fc?1:0),(a.aa.mode|1<<(a.lh<<2)+(b.Wg<<1)+(4!=b.style.fc?1:0))&a.aa.Xf))if(c&64){a=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(d&7)<<1|c>>
5&1];c=c&16?4*((c&14)>>1):0;d=b.R;switch(b.style.get()){case 4:a=d.va;break;case 3:if(a!=d.va){if(a<d.W&&(a=d.W,a==d.va))break;var e=1+d.va-d.W,f=1+a-d.W;Dg(d,f,e,d.W);b=e;var g=d.W;f<e?(e=f+g-e,0<e&&(b+=e,g-=e)):(e=e+g-f,0<e&&(g-=e));Eg(d,b,g)}}d.va=a;d.ua=c+1}else switch(d&7){case 1:switch(c&112){case 32:Cg(b.R,0,32);break a;case 48:57==c?(b=b.R,zg(b).gc=0,32>b.ua&&b.ua++):Cg(b.R,1,c&15)}break;case 2:c&32&&Cg(b.R,2,c&31);break;case 3:c&32&&Cg(b.R,3,c&31);break;case 4:case 5:if(32<=c&&47>=c)switch(c){case 32:Ig(b);
break;case 33:b=b.R;1<b.ua&&(--b.ua,zg(b).gc=0);break;case 36:b=b.R;a=zg(b);for(c=0;15>=c;c++)for(d=0;32>=d;d++)if(b.pb[c][d]==a){for(;32>=d;d++)b.pb[c][d].reset();break}break;case 37:Hg(b,2);break;case 38:Hg(b,3);break;case 39:Hg(b,4);break;case 40:Cg(b.R,0,32);break;case 41:b.style.set(2);b.R=b.sb;b.R.W=0;b.R.style=b.style;b.aa.mode=1<<b.R.He;break;case 42:a=b.ha;a.W=15;a.style.set(4);Fg(a);Jg(b);break;case 43:Jg(b);break;case 44:a=b.sb;switch(b.style.get()){case 1:case 2:case 3:yg(a)}Eg(a,0,15);
break;case 45:b:{a=b.R;switch(b.style.get()){default:case 2:case 1:break b;case 4:if(15>a.va){++a.va;a.ua=1;break b}case 3:}2>a.W&&(a.W=2,a.va<a.W&&(a.va=a.W));b=a.va-a.W+1;yg(a);Dg(a,b,b+1,a.W-1);Eg(a,a.va,1)}break;case 46:Eg(b.Id,0,15);break;case 47:yg(b.sb),a=b.Id,b.Id=b.sb,b.sb=a,Ig(b)}break;case 7:switch(c){case 33:case 34:case 35:b=b.R,32<(b.ua+=c&3)&&(b.ua=32)}}};var Kg=function(a){this.Ug=a;this.$b=0;this.lb=new Uint8Array(5120)};Kg.prototype.clear=function(){this.$b=0};Kg.prototype.append=function(a){this.lb.set(a,this.$b);this.$b+=a.length};
var Lg=function(a,b){for(var c,d=c=0,e=0;d<a.$b;)2==c&&3==a.lb[d]?c=0:(0==a.lb[d]?c++:c=0,a.lb[e]=a.lb[d],e++),d++;c=d-e;for(d=0;d+c<a.$b;){for(var f=0;255==a.lb[d];)f+=255,d++;f+=a.lb[d++];if(45<f)break;for(e=0;255==a.lb[d];)e+=255,d++;e+=a.lb[d++];if(4==f){f=a.Ug.aa;var g=b,h=new dg(a.lb.subarray(d,d+e));if(181==eg(h)&&49==fg(h)&&1195456820==J(h)&&3==eg(h)){var l=eg(h);if(0!=(l&64)){l&=31;K(h,1);for(var m=0;m<l;m++){var p=eg(h),u=(p&4)>>2,v=eg(h),w=eg(h);u&&f.Mc.push({time:g,type:p&3,Qi:v,Ri:w,
order:f.Mc.length})}}}}d+=e}a.$b=0};var Ng=function(a){this.ca=Mg(a)};Ng.prototype.reset=function(a){this.ca=Mg(a)};var Mg=function(a){for(var b=-1,c=0;c<a.length;c++){var d=parseInt(a.charAt(c),10);if(isNaN(d))throw Error("Invalid positive base 10 integer string");0>b&&d&&(b=c)}return a.substr(b,a.length)};Ng.prototype.toString=function(){return this.ca};
Ng.prototype.add=function(a){if(0>a||Math.floor(a)!=a)throw Error("Value must be a positive integer");var b=a+"",c=Math.max(b.length,this.ca.length);a=[];for(var d=0,e=0;e<c;e++){var f=d+parseInt(e<b.length?b.charAt(b.length-1-e):"0",10)+parseInt(e<this.ca.length?this.ca.charAt(this.ca.length-1-e):"0",10);10<=f?(d=1,f-=10):d=0;a.push(f)}b=0<d?"1":"";for(c=a.length-1;0<=c;c--)b+=a[c];this.ca=b};
var Og=function(a,b){if(b.ca.length<a.ca.length)return!0;if(b.ca.length>a.ca.length)return!1;for(var c=0;c<b.ca.length;c++){var d=parseInt(a.ca.charAt(c),10),e=parseInt(b.ca.charAt(c),10);if(d<e)return!1;if(d>e)break}return!0};var Pg=function(a){dg.call(this,a)};q(Pg,dg);var Qg=function(a){this.buffer=new Uint8Array(new ArrayBuffer(a?a:2E4));this.offset=0},Rg=function(a){return a.buffer.subarray(0,a.offset)};Qg.prototype.Ig=function(a){L(this,[a])};Qg.prototype.qd=function(a){L(this,[a>>8,a])};Qg.prototype.i=function(a){L(this,[a>>24,a>>16,a>>8,a])};Qg.prototype.Fi=function(a){this.i(a/4294967296);this.i(a%4294967296)};
var L=function(a,b){var c=b.length;if(!(a.offset+c<=a.buffer.length)){for(var d=a.buffer.length;d<a.offset+c;)d*=2;d=new Uint8Array(new ArrayBuffer(d));d.set(a.buffer,0);a.buffer=d}a.buffer.set(b,a.offset);a.offset+=c};var Sg=function(a){Qg.call(this,a)};q(Sg,Qg);var Tg=function(a,b,c){(new DataView(a.buffer,a.byteOffset,a.byteLength)).setUint32(b,c)};var Ug=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],Vg=function(a){C(z("cast.player.mp4.base"),a)},Wg=function(a,b,c){if(0>a||32<=a)return Vg("Invalid object type id: "+a),null;var d=Ug.indexOf(b);return 0>d?(Vg("Invalid sample rate: "+b),null):0>c||16<c?(Vg("Invalid channels: "+c),null):new Uint8Array([a<<3|d>>1,d<<7|c<<3])};var Xg=function(a){this.K=new Pg(a);this.Ec=0;this.Zd=this.cd=null;this.cg=a;this.wb=0;this.Ec=J(this.K);this.wb=4;this.cd=J(this.K);this.wb+=4;1===this.Ec&&(this.Ec=hg(this.K),this.wb+=8);1970628964===this.cd&&(this.Zd=new Ff(jg(this.K,16)),this.wb+=16)},Yg=function(a){switch(a.cd){case 1836019574:case 1836019558:case 1836475768:case 1953653099:case 1953653094:case 1701082227:case 1835297121:case 1835626086:case 1684631142:case 1937007212:return!0;default:return!1}};Xg.prototype.Za=function(){return this.cd};
var M=function(a){return a.cg.subarray(0,a.Ec)},N=function(a){return M(a).subarray(a.wb)};Xg.prototype.j=function(a){L(a,this.cg.subarray(0,this.Ec))};var O=function(a){Xg.call(this,a);this.nc=this.ka=0;a=J(this.K);this.wb+=4;this.ka=a>>>24;this.nc=a&16777215};q(O,Xg);var Zg=function(a){O.call(this,a)};q(Zg,O);
Zg.prototype.oh=function(a){for(var b=this.ka,c=eg(this.K),d=Array(c),e=0;e<c;e++){if(1===b){var f=J(this.K);var g=J(this.K);var h=J(this.K);var l=J(this.K);var m=new Ng(Math.floor(4294967296*f/1E4).toString()+"0000");m.add(f%1E4*7296%1E4);m.add(g);f=4294967296/a*f+g/a;h=4294967296/a*h+l/a}else l=J(this.K),h=J(this.K),m=new Ng(l.toString()),f=l/a,h/=a;d[e]={time:f,duration:h,Vb:m,offset:0,size:0,url:null}}return d};
var $g=new Ff([212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159]),ah=function(a){O.call(this,a)};q(ah,O);ah.prototype.oh=function(a){var b=this.ka;K(this.K,4);var c=J(this.K),d=0===b?J(this.K):hg(this.K),e=0===b?J(this.K):hg(this.K),f=a+M(this).byteOffset,g=this.Ec;K(this.K,2);a=fg(this.K);b=Array(a);e=f+g+e;for(f=0;f<a;f++){g=J(this.K)&2147483647;var h=J(this.K);K(this.K,4);b[f]={time:d/c,duration:h/c,Vb:null,offset:e,size:g,url:null};d+=h;e+=g}return b};
var bh=function(a){O.call(this,a);this.og=new Uint8Array([]);this.gi=null;this.Ch=!1;this.gb()};q(bh,O);bh.prototype.gb=function(){var a=new Pg(N(this)),b=this.nc;b&1&&K(a,20);var c=J(a);this.gi=lg(a);this.Ch=b&2?!0:!1;this.og=new Uint8Array(new ArrayBuffer(c));for(b=0;b<c;b++)if(this.Ch){K(a,8);var d=6*fg(a);this.og[b]=10+d;K(a,d)}else this.og[b]=8,K(a,8)};var ch=new Ff([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]),dh=function(a){O.call(this,a);this.lc=0;this.gb()};q(dh,O);
dh.prototype.gb=function(){var a=new Pg(N(this));K(a,4);K(a,4);this.lc=J(a)};var eh=function(a){O.call(this,a);this.ng=0;this.lk=[];this.mg=[];this.gb()};q(eh,O);eh.prototype.gb=function(){var a=new Pg(N(this));this.ng=J(a);var b=this.nc;b&1&&K(a,4);b&4&&K(a,4);var c=!!(b&256),d=!!(b&512),e=!!(b&1024);b=!!(b&2048);for(var f=0;f<this.ng;f++)c&&K(a,4),d&&this.lk.push(J(a)),e&&K(a,4),b&&(1===this.ka?this.mg.push(gg(a)):this.mg.push(J(a)))};eh.prototype.rg=function(a){Tg(N(this),4,a)};
var fh=function(a){O.call(this,a);this.wa=9E4;this.gb()};q(fh,O);fh.prototype.gb=function(){var a=new Pg(N(this));1===this.ka?(K(a,8),K(a,8)):(K(a,4),K(a,4));this.wa=J(a)};var gh=function(a){O.call(this,a)};q(gh,O);var hh=function(a){O.call(this,a);this.ti=new Ff(jg(this.K,16));a=J(this.K);this.uf=jg(this.K,a)};q(hh,O);hh.prototype.getData=function(){return this.uf};var ih=function(a){O.call(this,a);this.bc=1===this.ka?hg(this.K):J(this.K)};q(ih,O);ih.prototype.Tc=function(){return this.bc};
var jh=function(a){O.call(this,a)};q(jh,O);var kh=function(a){Xg.call(this,a)};q(kh,Xg);kh.prototype.rg=function(a,b){var c=P(N(this),1953653094,void 0,void 0);if(c){var d=P(N(c),1953658222,void 0,void 0);d&&d.rg(a-this.cg.byteOffset);b&&(a=P(N(c),1935763823,void 0,void 0))&&(b-=this.cg.byteOffset,c=0,a.nc&1&&(c+=8),c+=4,d=N(a),0!=a.ka&&(Tg(d,c,Math.floor(b/4294967296)),c+=4),Tg(d,c,Math.floor(b%4294967296)))}};
var lh=function(a,b){var c=P(a,1836019558);a=N(P(a,1835295092)).byteOffset;b?c.rg(a+b,a):c.rg(a)},mh=function(a){O.call(this,a);this.Kh=[];this.nk=[];this.fh=0;this.gb()};q(mh,O);mh.prototype.gb=function(){var a=new Pg(N(this));this.fh=J(a);for(var b=0;b<this.fh;b++)1===this.ka?(this.nk.push(hg(a)),this.Kh.push(ig(a))):0===this.ka&&(this.nk.push(J(a)),this.Kh.push(gg(a))),K(a,2),K(a,2)};
var nh=function(a){O.call(this,a);this.zi=this.ii="";this.tb=this.bc=this.sh=this.xf=this.eg=this.wa=0;this.Cj=[];this.gb()};q(nh,O);nh.prototype.Tc=function(){return this.bc};nh.prototype.gb=function(){var a=new Pg(N(this));0===this.ka?(this.ii=kg(a),this.zi=kg(a),this.wa=J(a),this.eg=J(a),this.xf=J(a),this.sh=J(a)):1===this.ka&&(this.wa=J(a),this.eg=hg(a),this.xf=J(a),this.sh=J(a),this.ii=kg(a),this.zi=kg(a));for(;a.offset<a.buffer.length;)this.Cj.push(eg(a))};
var oh=function(a){switch(a.Za()){case 1701671783:return new nh(M(a));case 1701606260:return new mh(M(a));case 1836019558:return new kh(M(a));case 1835296868:return new fh(M(a));case 1953658222:return new eh(M(a));case 1935763823:return new jh(M(a));case 1936286840:return new ah(M(a));case 1952868452:return new gh(M(a));case 1970628964:var b=a.Zd;return ch.Ob(b)?new bh(M(a)):$g.Ob(b)?new Zg(M(a)):a;case 1886614376:return new hh(M(a));case 1952867444:return new ih(M(a));case 1953654136:return new dh(M(a));
case 1702061171:case 1751411826:case 1835427940:case 1836476516:case 1935763834:case 1935894637:case 1937011571:case 1952804451:case 1953196132:return new O(M(a));default:return a}},P=function(a,b,c,d){d=void 0===d?!1:d;for(var e=0;e<a.length;){var f=new Xg(a.subarray(e));e+=f.Ec;if(f.Za()===b&&(1970628964!=b||c&&c.Ob(f.Zd)))return oh(f);if(d&&Yg(f)&&(f=P(N(f),b,c,d)))return f}return null},ph=function(a,b,c){c=void 0===c?!1:c;for(var d=0,e=[];d<a.length;){var f=new Xg(a.subarray(d));d+=f.Ec;if(b){var g=
f.Za();g&&b.includes(g)&&e.push(oh(f))}else e.push(oh(f));c&&Yg(f)&&(e=e.concat(ph(N(f),b,c)))}return e},qh=function(a,b){return ph(a,void 0,void 0===b?!1:b)};var rh=function(a){this.ac=new Kg(a);this.Bd=0;this.wa=9E4;this.lc=null;this.Bb=[]};k=rh.prototype;k.ma=function(a){a?this.Bb=ph(a,[1835296868,1953654136,1953658222,1835295092],!0):(this.Bb=[],this.Bd=0)};k.pk=function(a){this.Bd=a};k.qk=function(a){this.wa=a};k.Pa=function(){return!this.Bb.length};k.Lf=function(){return!this.Bb.length};
k.parse=function(){if(this.Bb.length){for(var a,b,c,d=0,e=0;e<this.Bb.length;e++){var f=this.Bb[e];switch(f.Za()){case 1835296868:this.wa=f.wa;break;case 1953654136:this.lc=f.lc;break;case 1953658222:a=f.ng;b=f.lk;c=f.mg;break;case 1835295092:var g=b,h=c;if(a&&g&&g.length&&h){f=new dg(N(f));if(this.lc&&this.wa)var l=this.lc/this.wa;else if(this.Bb.length){l=0;for(var m=n(this.Bb),p=m.next();!p.done;p=m.next())p=p.value,1953658222==p.Za()&&(l+=p.ng);l=l?this.Bd/l:0}else l=0;m=0;for(p=g[0];f.offset<
f.buffer.length;){var u=J(f);6==(eg(f)&31)?(this.ac.append(jg(f,u-1)),Lg(this.ac,0==h.length?d:d+h[m]/this.wa)):K(f,u-1);p-=u+4;0==p&&(d+=l,m++,p=g[m])}}}}this.Bb=[]}};var sh=function(){this.o=null;this.Ad=this.Wb=this.kj=this.Ng=this.Ef=this.Pe=this.C=0;this.Yj=this.Ti=!1};sh.prototype.Pa=function(){return null===this.o};sh.prototype.Lf=function(){return this.C>=this.o.length};sh.prototype.ma=function(a){this.o=a;this.Ad=this.Wb=this.Ng=this.Ef=this.Pe=this.C=0};
sh.prototype.parse=function(){for(var a=this.C;this.C<this.o.length&&!(524288<this.C-a);){for(;this.C<this.o.length&&71!=this.o[this.C];)this.C++;if(this.C+188>this.o.length)break;var b=this.C+188,c=b-1;this.C++;var d=this.o[this.C]&64,e=this.o[this.C]&31;this.C++;e=e<<8|this.o[this.C];this.C++;var f=(this.o[this.C]&48)>>4;this.C++;f&2&&(this.C+=this.o[this.C]+1);if(0==e||e==this.Pe)if(d&&this.C++,c=this.o[this.C],this.C++,0==c)for(c=this.C,d=this.o[c]&15,c++,d=d<<8|this.o[c],c++,d=c+d-4,c+=5;c<d;)if(e=
this.o[c],c++,e=(e<<8)+this.o[c],c++,0==e)c+=2;else{this.Pe=this.o[c]&31;c++;this.Pe=(this.Pe<<8)+this.o[c];break}else{if(2==c)for(this.Yj=!0,c=this.C,d=this.o[c]&15,c++,d=d<<8|this.o[c],c++,d=c+d-4,c=c+5+2,e=this.o[c]&15,c++,e=e<<8|this.o[c],c+=e+1;c<d;){e=this.o[c];c++;f=this.o[c]&31;c++;f=f<<8|this.o[c];c++;switch(e){case 27:case 219:this.Ef=f;break;case 15:case 207:this.Ti=!0;this.Ng=f;break;case 21:this.kj=f}e=this.o[c]&15;c++;e=e<<8|this.o[c];c+=e+1}}else if(e==this.kj)this.Xj(this.C,c,!!d);
else if(e==this.Ef||e==this.Ng)d&&this.$h(this.C),e==this.Ef&&this.Wj(this.C,c);this.C=b}};var th=function(a,b){var c=((a.o[b]&14)<<13)/1.373291015625;c+=(a.o[b+1]<<6)/1.373291015625;c+=(a.o[b+2]&254)/5.4931640625;c+=a.o[b+3]/703.125;return c+=(a.o[b+4]&254)/18E4};sh.prototype.$h=function(a){if(0==this.o[a]&&0==this.o[a+1]&&1==this.o[a+2]){a+=7;var b=this.o[a]>>6&3;a++;var c=this.o[a];a++;this.C=a+c;2==b?this.Ad=this.Wb=th(this,a):3==b&&(this.Wb=th(this,a),this.Ad=th(this,a+5))}};
sh.prototype.Xj=function(){};sh.prototype.Wj=function(){};var uh=function(a){sh.call(this);this.ac=new Kg(a)};q(uh,sh);uh.prototype.ma=function(a){sh.prototype.ma.call(this,a);this.ac.clear()};uh.prototype.pk=function(){};uh.prototype.qk=function(){};
uh.prototype.Wj=function(a,b){for(var c=0;;){a:{var d=a;var e=b;for(e-=3;d<=e;){if(0==this.o[d]&&0==this.o[d+1]){if(0==this.o[d+2]&&1==this.o[d+3]){d+=4;break a}if(1==this.o[d+2]){d+=3;break a}}d++}d=-1}e=0<=d;if(0<this.ac.$b||6==c){c=e?d-1:b;var f=this.ac;f.$b+(c-a+1)<=f.lb.length||Lg(this.ac,this.Wb);this.ac.append(this.o.subarray(a,c+1))}if(!e)break;Lg(this.ac,this.Wb);a=d;c=this.o[a++]&31}};var vh=function(){};vh.prototype.Yh=function(a,b){a=new Uint8Array(a);239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));a=escape(String.fromCharCode.apply(null,a));try{var c=decodeURIComponent(a)}catch(d){throw Error("Decoding Error.");}return this.parse(c,b)};var wh=function(a){this.Bf=30;this.ql=a};q(wh,vh);
var xh=function(a,b){a=n(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.localName==b)return c;return null},Ah=function(a,b){var c=b.split(":");if(1==c.length){var d=0;if(c=c[0].match(yh))switch(b=parseFloat(c[1]),c[2]){case "h":d=3600*b;break;case "m":d=60*b;break;case "s":d=b;break;case "ms":d=b/1E3;break;case "f":d=b/a.Bf}else D(zh,"unsupported time expression: "+b);return d}d=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseFloat(c[2]);4==c.length&&(d+=parseInt(c[3],10)/a.Bf);return d},
Bh=function(a){var b="";a=n(a.childNodes);for(var c=a.next();!c.done;c=a.next())c=c.value,c.nodeType==Node.TEXT_NODE?(c=c.textContent.trim())&&(b+=c):"span"==c.localName?(b+=Bh(c),(c=c.attributes.getNamedItem("tts:fontStyle"))&&"italic"==c.value&&(b="<i>"+b+"</i>")):"br"==c.localName&&(b+="\n");return b};
wh.prototype.parse=function(a,b){var c=[],d=(new DOMParser).parseFromString(a,"text/xml"),e=xh(d.childNodes,"tt");if(!e)return D(zh,"missing tt"),c;var f=d=null,g=xh(e.childNodes,"head");if(g){if(f=xh(g.childNodes,"styling")){d=null;f=n(f.childNodes);for(var h=f.next();!h.done;h=f.next())if(h=h.value,"style"===h.nodeName&&(h=Ch(h)))d=d||new Map,d.set(h.id,h.origin)}else d=null;f=d;if(h=xh(g.childNodes,"layout")){g=null;h=n(h.childNodes);for(var l=h.next();!l.done;l=h.next()){var m=l.value;if("region"==
m.nodeName&&(l=m.attributes.getNamedItem("xml:id"))){var p=f,u=null,v=Ch(m);v?u=v.origin:p&&(v=m.attributes.getNamedItem("style"))&&(u=p.get(v.value));if(p=u)g=g||new Map,m=m.attributes.getNamedItem("tts:textAlign"),g.set(l.value,{align:m&&m.value||"left",origin:p})}}f=g}else f=null}g=xh(e.childNodes,"body");if(!g)return D(zh,"missing body"),c;(h=e.attributes.getNamedItem("ttp:frameRate"))?this.Bf=parseInt(h.value,10):(D(zh,"defaulting frameRate to30"),this.Bf=30);h=xh(g.childNodes,"div");if(!h)return D(zh,
"missing div"),c;g={};if(e=xh(e.childNodes,"head"))if(e=xh(e.childNodes,"metadata"))for(e=n(e.childNodes),l=e.next();!l.done;l=e.next())l=l.value,"image"==l.localName&&(g["#"+l.attributes.getNamedItem("xml:id").value]=Bh(l));e=null;h.attributes&&d&&(l=h.attributes.getNamedItem("style"))&&(e=d.get(l.value));h=n(h.childNodes);for(l=h.next();!l.done;l=h.next()){var w=l.value;if("p"==w.localName&&w.attributes){var ea=v=null;p=m=u=l=null;var Da=Bh(w);w=n(w.attributes);for(var sa=w.next();!sa.done;sa=w.next())switch(sa=
sa.value,sa.localName){case "begin":v=Ah(this,sa.value)+b;break;case "end":ea=Ah(this,sa.value)+b;break;case "backgroundImage":g[sa.value]&&(l=g[sa.value]);break;case "origin":u=Dh(sa.value);break;case "region":m=sa.value;break;case "style":p=sa.value}(Da||l)&&null!==v&&null!==ea?(v=new VTTCue(v,ea,Da),this.ql||(ea=d,Da=e,w=null,m&&f&&(w=f.get(m))&&w.align&&(v.align=w.align),!u&&p&&ea&&(u=ea.get(p)),u||(u=w&&w.origin||Da),u&&(v.line=u.y,v.position=u.x,v.snapToLines=!1,"left"!=v.align&&"right"!=v.align&&
(v.align="left"))),c.push({yg:v,mj:l})):D(zh,"skipped cue begin="+v+", end="+ea+", text="+a)}}return c};
var Dh=function(a){if("auto"===a)return null;a=a.split(" ");return 2!==a.length?(D(zh,"Two numbers are expected in tts:origin"),null):a.find(function(b){return!b.includes("%")})?(D(zh,"Only percentage value is supported in tts:origin"),null):{x:parseInt(a[0],10),y:parseInt(a[1],10)}},Ch=function(a){var b=a.attributes;if(!b)return null;var c=b.getNamedItem("xml:id");if(!c)return null;b=b.getNamedItem("tts:origin");if(!b){a=n(a.childNodes);for(var d=a.next();!d.done;d=a.next())d=d.value,d.attributes&&
(b=d.attributes.getNamedItem("tts:origin"));if(!b)return null}return(b=Dh(b.value))?{id:c.value,origin:b}:null},zh=z("cast.player.core.TtmlParser"),yh=/([0-9]*\.?[0-9]+)?(h|ms|m|s|f)/;var Eh=function(){wh.apply(this,arguments)};q(Eh,wh);Eh.prototype.Yh=function(a,b){a=P(a,1835295092);if(!a)return[];a=lg(new dg(N(a)));return wh.prototype.Yh.call(this,a,b)};var Fh=function(){};q(Fh,vh);
Fh.prototype.parse=function(a,b){for(var c=a.trim().split(Gh),d=a=0,e=n(c[0].split("\n")),f=e.next();!f.done;f=e.next())if(f=f.value,0==f.indexOf("X-TIMESTAMP-MAP")){(e=f.match(Hh))&&(a=Ih(e[1]));(e=f.match(Jh))&&(d=parseInt(e[1],10)/9E4);break}b+=d-a;if(isNaN(b))return D(Kh,"invalid time offset"),[];a=[];c=n(c);for(d=c.next();!d.done;d=c.next()){var g=d.value;if(g){var h=b,l=null,m=f=null,p=null;e=d=null;g=g.split("\n");for(var u=0,v=n(g),w=v.next();!w.done;w=v.next()){w=w.value;if(l=w.match(Lh)){f=
w.match(Mh);m=w.match(Nh);p=w.match(Oh);d=w.match(Ph);e=w.match(Qh);break}u++}l?(v=Ih(l[1]),l=Ih(l[2]),g=g.slice(u+1).join("\n"),isNaN(v)||isNaN(l)||!g?(D(Kh,"skipped cue, begin="+v+", end="+l+", text="+g),d=null):(h=new VTTCue(v+h,l+h,g),f&&(h.align=f[1]),m&&(h.snapToLines="true"===m[1]),p&&(f=parseInt(p[1],10),!h.snapToLines&&(100<f||0>f)&&(f=100),h.line=f),d&&(h.position=parseInt(d[1],10)),e&&(h.size=parseInt(e[1],10)),d=h)):d=null;d&&a.push({yg:d})}}return a};
var Ih=function(a){var b=a.split(":");if(3<b.length)return D(Kh,"unexpected time format="+a),0;a=0;b=n(b);for(var c=b.next();!c.done;c=b.next())a=60*a+parseFloat(c.value);return a},Kh=z("cast.player.core.WebvttParser"),Gh=/\n\s*\n/,Jh=/MPEGTS:([\d]*)/,Mh=/align:(start|middle|end|left|center|right)/,Nh=/snapToLines:?(true|false)?/,Oh=/line:(-*\d+)/,Ph=/position:(\d*)%/,Qh=/size:(\d*)%/,Hh=/LOCAL:((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/,Lh=/((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})[\t ]+--\x3e[\t ]+((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/;var Rh=function(a,b,c,d){A.call(this);this.a=b;this.ff=document.createElement("track");this.ff.src=b.url;this.ff.kind="captions";this.a.mediaElement.appendChild(this.ff);this.Fb=this.ff.track;this.Fb.mode=void 0!==d?"showing":"hidden";this.Zk=a;this.fc=c;y("Cast.MPL.Captions",Pd(this.fc));this.Md=null;"ttml"==c?this.Md=new wh(1==this.a.ignoreTtmlPositionInfo):"webvtt"==c?this.Md=new Fh:d&&"application/mp4"==d&&"stpp"==c&&(this.Md=new Eh(1==this.a.ignoreTtmlPositionInfo));this.Qa=null;this.Ak=0};
q(Rh,A);Rh.prototype.G=function(){Sh(this);this.Fb.mode="disabled";this.ff.remove();A.prototype.G.call(this)};var Sh=function(a){var b=a.Fb.cues;if(b)for(;0<b.length;)a.Fb.removeCue(b[0]);if(a.a.mediaElement.parentNode)for(a=n(a.a.mediaElement.parentNode.getElementsByClassName("mpl_img_cap")),b=a.next();!b.done;b=a.next())b.value.remove()};k=Rh.prototype;k.createBuffer=function(){};k.reset=function(){Sh(this);this.Qa=null};k.ye=function(){return!0};k.ej=function(){return Infinity};
k.append=function(a,b,c,d){d&&(this.Ak=b.time-c);if(this.Md){var e=this.a.useRelativeCueTimestamps||"ttml"==this.fc?b.time:this.Ak;c=Th(this);d=0<c.length?c[c.length-1].startTime:-Infinity;for(a=this.Md.Yh(a,e);0<a.length;){e=a.pop();var f=e.yg,g=!1;if(f.startTime<d||.1>=Math.abs(f.startTime-d))for(var h=c.length-1;0<=h;h--)if(c[h].text==f.text&&.1>=Math.abs(c[h].startTime-f.startTime)&&.1>=Math.abs(c[h].endTime-f.endTime)){g=!0;break}g||this.addCue(e)}}this.Qa=b};
k.Xa=function(a){return this.Qa?this.Qa.time+this.Qa.duration-a:0};
k.addCue=function(a){if(this.a.onCue)this.a.onCue(this.fc);var b=a.yg;this.Fb.addCue(b);if(a.mj){a=a.mj;var c=this.a.mediaElement.parentNode;b.id="cap-"+Date.now();b.onenter=function(d,e,f){var g=document.createElement("img");g.setAttribute("id",d.id);g.setAttribute("src","data:image/png;base64,"+e);g.setAttribute("class","mpl_img_cap");g.style.position="absolute";g.style.left="0";g.style.bottom="0";g.style.right="0";g.style.margin="0 auto";g.style.width="100%";g.style.height="100%";g.style.zIndex=
5;f.appendChild(g)}.bind(this,b,a,c);b.onexit=function(d){(d=document.getElementById(d.id))&&d.remove()}.bind(this,b)}};var Th=function(a){for(var b=[],c=a.Fb.cues,d=a.Zk.Sc(),e=0;e<c.length;){var f=c[e];f.endTime<d?(a.Fb.removeCue(f),f.id&&(f=document.getElementById(f.id))&&f.remove()):(b.push(f),e++)}return b};Rh.prototype.parse=function(a,b){for(a=this.Md.parse(a,b);0<a.length;)this.addCue(a.pop())};var Uh=function(){};Uh.prototype.gg=function(){};x("cast.player.core.ProcessSourceDataCallback",Uh);var Vh=function(a,b,c,d,e,f){A.call(this);this.a=a;this.Tl=e;this.cc=c;this.rl=!c.codecsProvided;this.ga=d;this.N=b;this.Yd=!1;this.oa=this.Qa=this.zc=null;this.td=f;this.mc=new Se;this.zd=0;this.createBuffer();this.ia=null;this.bf=!0;this.Si=!1};q(Vh,A);k=Vh.prototype;
k.G=function(){A.prototype.G.call(this);this.mc.clear();this.oa&&(Gc(this.oa,"updateend",this.Vj,!1,this),this.bf&&"closed"!=this.ga.readyState&&this.ga.removeSourceBuffer(this.oa))};
k.createBuffer=function(){if(null===this.oa&&"open"==this.ga.readyState){var a=this.cc.mimeType+'; codecs="'+Pf(this.cc.codecs)+'"',b=this.td.findIndex(function(c){return c==a});if(0>b){try{this.oa=this.ga.addSourceBuffer(a)}catch(c){throw this.a.T(110,void 0,c.message),c;}E(Q,"create new source buffer "+a);this.td.push(a)}else this.oa=this.ga.sourceBuffers[b],Wh(this),this.a.mediaElement.currentTime=this.a.mediaElement.currentTime,E(Q,"reuse source buffer index: "+b+", mimetype: "+a);B(this.oa,"updateend",
this.Vj,!1,this);Xh(this)}};k.Xa=function(a){var b=this.zd+(this.zc?this.zc.duration:0);return this.Qa?this.Qa.time+this.Qa.duration-a+b:b};k.reset=function(){this.zc=this.Qa=null;this.mc.clear();this.zd=0;this.ye()?Yh(this):Zh(this);this.ye()?$h(this):(E(Q,this.N+": delay abort, push to deferred queue"),this.mc.enqueue({Wh:0,Og:null}))};k.ye=function(){return null!==this.oa&&!this.Yd&&this.mc.Pa()};k.ej=function(){return Id(this.cc.mimeType)?40:20};
var Xh=function(a){for(;!a.mc.Pa();){var b=Ue(a.mc),c=b.Og;switch(b.Wh){case 2:E(Q,a.N+": dequeue append");a.zd-=c.interval.duration;ai(a,c.data,c.interval,c.U,c.Z,c.timescale);return;case 1:E(Q,a.N+": dequeue remove");Yh(a);return;case 0:E(Q,a.N+": dequeue abort"),$h(a)}}};Vh.prototype.Vj=function(){for(var a=this.oa.buffered,b=0;b<a.length;b++)E(Q,this.N+": "+a.start(b)+" - "+a.end(b));E(Q,this.N+": updateend");null!==this.zc&&0!=this.zc.duration&&(this.Qa=this.zc);this.zc=null;this.Yd=!1;Xh(this)};
var ai=function(a,b,c,d,e,f){var g=a.oa.timestampOffset;if(e){$h(a);var h=bi(a,c.time);a.oa.timestampOffset=h-d;E(Q,a.N+": timestampOffset = "+a.oa.timestampOffset)}else h=bi(a,c.time);a.Yd=!0;try{a.oa.appendBuffer(b)}catch(l){E(Q,a.N+": append failed "+l);a.Yd=!1;e&&(a.oa.timestampOffset=g);ci(a,b,c,d,e,f);22===l.code&&di(a,2);return}E(Q,a.N+": successfully append "+b.length+" bytes");ei(a,2);a.zc={time:h,duration:c.duration};a.Tl.gg(a.cc.mimeType,b,a.oa.timestampOffset,h,c.duration,f)},$h=function(a){"open"==
a.ga.readyState?(E(Q,a.N+": abort"),a.oa.abort()):C(Q,a.N+": unable to abort")},Yh=function(a){E(Q,a.N+": remove");Wh(a)},Zh=function(a){E(Q,a.N+": delay remove, push to deferred queue");a.mc.enqueue({Wh:1,Og:null});di(a,1)};
Vh.prototype.append=function(a,b,c,d,e){if(this.rl&&!this.Si){var f=this.cc.mimeType;if(0==Na("/mp2t",f.substr(f.length-5,5))){f=new sh;for(f.ma(a);!f.Lf();)f.parse();f=f.Yj?f.Ti:void 0}else f=!0;void 0!==f&&(this.Si=!0,f||xa("Cast.MPL.RemoveDefaultAudioCodecs",!0))}this.ye()?ai(this,a,b,c,d,e):ci(this,a,b,c,d,e)};
var ci=function(a,b,c,d,e,f){E(Q,a.N+": delay append, push to deferred queue");a.zd+=c.duration;a.mc.enqueue({Wh:2,Og:{data:b,interval:{time:c.time,duration:c.duration},U:d,Z:e,timescale:f}})},bi=function(a,b){if(!a.Qa||a.a.aj)return b;var c=b,d=a.oa.buffered;0<d.length&&(b=d.end(d.length-1));E(Q,a.N+": adjustTime: "+c+" : "+b);return b},Wh=function(a){if(a.oa.updating)Zh(a);else{a.Yd=!0;try{a.oa.remove(0,Infinity),E(Q,a.N+": successfully removed all buffered data"),ei(a,1)}catch(b){a.Yd=!1,E(Q,a.N+
": remove failed!"),b.message="SourceBuffer error unrelated to SourceBuffer.updating",Zh(a)}}},di=function(a,b){if(null===a.ia)switch(b){case 2:case 1:a.ia=setTimeout(function(){Xh(a)},2E3),E(Q,a.N+": set up timeout ID to processDeferred_ "+a.ia)}},ei=function(a,b){if(null!==a.ia)switch(b){case 2:case 1:E(Q,a.N+": cleared timeout ID "+a.ia),clearTimeout(a.ia),a.ia=null}},Q=z("cast.player.core.SourceBufferManager");var fi=function(a,b){Rh.call(this,a,b,"webvtt");this.qa=z("cast.player.cea608.InbandCaptionsManager");this.aa=new ng(this);this.aa.Xf=1;this.Ea=null;this.sa=0;this.tb=null;this.wd=[];this.bg=this.Uh.bind(this);this.ia=null;this.Nd=new Se};q(fi,Rh);fi.prototype.G=function(){this.reset();Rh.prototype.G.call(this)};
fi.prototype.Uh=function(){if(this.Ea.Pa()){var a=Ue(this.Nd);this.sa!=a.U&&(this.aa.clear(),this.tb=null);this.sa=a.U;this.aa.sa=a.Yk;this.Ea.ma(a.data);this.Ea.pk(a.duration);a.timescale&&this.Ea.qk(a.timescale)}this.Ea.parse();if(this.Ea.Lf()){this.aa.decode();if(0<this.wd.length){for(Th(this);0<this.wd.length;)a=this.wd.pop(),"number"!==typeof a.start||isNaN(a.start)||"number"!==typeof a.end||isNaN(a.end)||(a=new VTTCue(a.start,a.end,a.text),a.position=20,a.align="start",this.addCue({yg:a}));
this.wd.length=0}this.Ea.ma(null)}this.Nd.Pa()&&this.Ea.Pa()?this.ia=null:this.ia=setTimeout(this.bg,20)};var xg=function(a,b,c,d){null!==a.tb&&b<a.tb&&(b=a.tb);.1>c-b&&(c=b+.1);a.tb=c;a.wd.push({start:b,end:c,text:d})};
fi.prototype.gg=function(a,b,c,d,e,f){if(Jd(a)){if(!this.Ea)switch(a){case "video/mp2t":this.Ea=new uh(this);break;case "video/mp4":this.Ea=new rh(this);break;default:return}1<this.Nd.Rc()?D(this.qa,"Dropped segment"):(this.Nd.enqueue({data:b,duration:e,U:c,Yk:"video/mp4"==a?d:c,timescale:f}),E(this.qa,"Pending "+this.Nd.Rc()),null===this.ia&&(this.ia=setTimeout(this.bg,20)))}};
fi.prototype.reset=function(){Rh.prototype.reset.call(this);this.sa=0;this.tb=null;this.wd.length=0;this.Ea&&this.Ea.ma(null);this.aa.clear();this.Nd.clear();null!==this.ia&&(clearTimeout(this.ia),this.ia=null)};var gi=function(a){F.call(this);this.Jb=null;this.Vh=a};q(gi,F);gi.prototype.bh=function(){this.Jb&&(this.Jb.onprogress=null);this.Jb=F.prototype.bh.call(this);this.Jb.onprogress=this.Vh;return this.Jb};gi.prototype.G=function(){this.Jb&&(this.Jb.onprogress=null);F.prototype.G.call(this)};var ii=function(){var a=hi,b=this;return new dd(function(c,d){var e=new gi(function(){});B(e,"success",function(f){c(Hd(f.target))},!1,b);B(e,"error",d,!1,b);B(e,"timeout",d,!1,b);e.send(a)})};var ji=function(a,b,c){var d=t();this.clientId=a;this.blockIds=b;this.flags=c;this.timestamp=d},li=function(){var a=ki();this.Xg=a&&a.clientId||Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)};
li.prototype.ed=function(a){xa("Cast.MPL.ExperimentationFetchResult",!0);try{var b=JSON.parse(a.substring(5));var c=new Ee(b[0])}catch(g){mi(this,"Failed to parse experimentation flags.");return}a=H(c,1);b=ye(c,Be,2);c={};b=n(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=d.Za(),f=void 0;switch(pe(d,we[0])){case 2:f=re(d);break;case 3:f=H(d,3);break;case 4:f=d.getFloatValue();break;case 5:f=re(d)}c[e]=f}ni("Cast.MPL.ExperimentationDownloadedBlockId",a);window.localStorage.setItem("cast.player.common.Experimentation",
JSON.stringify(new ji(this.Xg,a,c)));E(oi,"Flags: "+c.toString())};li.prototype.Ub=function(){xa("Cast.MPL.ExperimentationFetchResult",!1);mi(this,"Failed to download experimentation flags.")};
var mi=function(a,b){D(oi,b);window.localStorage.setItem("cast.player.common.Experimentation",JSON.stringify(new ji(a.Xg,[],{})))},ni=function(a,b){if(void 0!==b&&0<b.length){b=n(b);for(var c=b.next();!c.done;c=b.next())y(a,c.value)}},qi=function(a){if(!pi()){var b=ki();if(void 0!==b&&void 0!==b.flags)return b.flags[a]}},pi=function(){var a=ki();if(void 0===a||void 0===a.timestamp)return!0;var b=t()-a.timestamp;a=a.flags.expirationHrs;"number"!==typeof a&&(a=3);return b>36E5*a},ki=function(){var a=
window.localStorage.getItem("cast.player.common.Experimentation");return a?JSON.parse(a):void 0};li.vh=void 0;li.kl=function(){return li.vh?li.vh:li.vh=new li};var oi=z("cast.player.common.Experimentation"),ri=li.kl(),si=pi();xa("Cast.MPL.ExperimentationCheckExpired",si);if(si){var hi="https://$Env$.google.com/cast/senderconfig/config?hw=mpl&id=$ClientId$".replace(/\$Env\$/g,"clients3").replace(/\$ClientId\$/g,ri.Xg.toString());ii().then(ri.ed.bind(ri),ri.Ub.bind(ri))};var ti=function(a,b){this.ea=a;this.re=[];for(var c=0;c<a.length;c++)this.re.push(c);this.Cl=void 0!==b?b:3;this.Ze={};this.xd=this.re.slice()};ti.prototype.fj=function(){return 0};ti.prototype.wi=function(){this.Ze={};this.xd=this.re.slice()};ti.prototype.gf=function(a){this.Ze[a]||(this.Ze[a]=0);this.Ze[a]++;this.Ze[a]>(1==this.xd.length?this.Cl:this.fj())&&(a=this.xd.indexOf(a),-1<a&&this.xd.splice(a,1));return this.xd};var ui=function(a,b){ti.call(this,a,b)};q(ui,ti);
ui.prototype.gf=function(a,b){for(var c=0,d=this.ea[0],e=1;e<this.ea.length;e++)this.ea[e]<d&&(d=this.ea[e],c=e);if(!b||b&&a==c)this.xd=[c];return ti.prototype.gf.call(this,a,b)};var vi=function(a,b){ti.call(this,a,b);this.Ye=Array(this.ea.length);this.Ye.fill(0);a=qi("numRetriesPerQualityLevel");this.Dl="number"===typeof a?a:1;a=qi("blacklistThreshold");this.el="number"===typeof a?a:6};q(vi,ti);vi.prototype.fj=function(){return this.Dl};
vi.prototype.wi=function(a){this.Ye[a]=0;ti.prototype.wi.call(this,a)};vi.prototype.gf=function(a,b){this.Ye[a]+=1;if(this.Ye[a]>=this.el){var c=this.re.indexOf(a);-1<c&&this.re.splice(c,1)}return ti.prototype.gf.call(this,a,b)};var wi=function(a){A.call(this);this.km=a;this.qh=this.nd=null;this.Eb=0;this.ei=null;this.Lb=400;this.g=new gi(function(){});B(this.g,"success",this.ed.bind(this));B(this.g,"error",this.Ub.bind(this));B(this.g,"timeout",this.Ml.bind(this))};q(wi,A);wi.prototype.G=function(){this.g.L();A.prototype.G.call(this)};
wi.prototype.load=function(a){(this.nd=a.url)?(this.qh=a.headers,this.g.ce=a.withCredentials,this.g.ec=Math.max(0,a.timeoutInterval),this.Eb=0,this.g.send(this.nd,void 0,void 0,this.qh)):D(Cf,"No url provided for request")};wi.prototype.abort=function(){this.g.abort()};var xi=function(a){return new tf(a.nd,a.g.Sb,Fd(a.g),a.g.getAllResponseHeaders(),Hd(a.g))};wi.prototype.ed=function(a){clearTimeout(this.ei);this.Lb=400;this.Td(Hd(a.target))};wi.prototype.Ub=function(){yi(this,408==Fd(this.g)?0:this.Lb)};
wi.prototype.Ml=function(){yi(this,0)};var yi=function(a,b){a.Eb++;clearTimeout(a.ei);3<a.Eb?a.Td(null):(1<a.Eb&&(a.Lb=2*b),a.ei=setTimeout(function(){a.g.send(a.nd,void 0,void 0,a.qh)},b))};wi.prototype.Td=function(a){this.Eb=0;var b=this.g;this.km.ag(a,b.Jb&&b.Jb.responseURL?b.Jb.responseURL:null)};var zi=function(a){wi.call(this,a);this.B=this.a=null};q(zi,wi);
zi.prototype.Hd=function(a,b){this.a=a;this.B=new sf;this.B.url=this.nd=b;this.B.setResponse=this.Td.bind(this);a.updateManifestRequestInfo&&a.updateManifestRequestInfo(this.B);this.B.skipRequest||this.load(this.B)};zi.prototype.Td=function(a){var b=this;if(this.a&&(a=$f(this.a,a),Vd(a))){a.then(function(c){wi.prototype.Td.call(b,c)});return}wi.prototype.Td.call(this,a)};var Ai=function(a){if(a[7]<<8|1!=a[6])return D(Cf,"PlayReady header object is not valid"),null;var b=a[9]<<8|a[8];b+=10;for(var c="",d=10;d<b;d+=2)c+=String.fromCharCode(a[d+1]<<8|a[d]);d=b=null;c=(new DOMParser).parseFromString(c.trim(),"text/xml").childNodes[0].firstElementChild;c=n(c.children);for(var e=c.next();!e.done;e=c.next())e=e.value,"LA_URL"==e.nodeName?d=e.textContent:"KID"==e.nodeName&&(b=Ud(window.atob(e.textContent)));return b?{systemId:Gf,qe:a,De:new Ff(b,!0),url:d,Tf:8}:(D(Cf,"PlayReady rights management header does not have KID"),
null)},R=function(a){this.host=a;this.Bc=this.$c=this.uri=null;this.zh=this.xh=this.S=void 0;this.duration=-1;this.h=[];this.uh=[];this.Hl=this.Hd.bind(this);this.ta=null;this.ri=!1;this.bi=1E4},Ci=function(a){var b=Bi(a.h);b||(b=a.h.find(function(c){return 1==c.type&&!Kf(c.codecs)}));b&&(b.enabled=!0);a=n(a.h);for(b=a.next();!b.done;b=a.next())if(b=b.value,2==b.type){b.enabled=!0;break}},Bi=function(a){return a.find(function(b){return 1==b.type&&Kf(b.codecs)&&Jf("audio/mp4",b.codecs)})};k=R.prototype;
k.getDefaultAudioStreamIndex=function(){for(var a=-1,b=0;b<this.h.length;b++){var c=this.h[b];if(1==c.type&&Jf("audio/mp4",c.codecs)){if(Kf(c.codecs))return b;0>a&&(a=b)}}return a};k.getStreamCount=function(){return this.h.length};k.enableStream=function(a,b){var c=this.h[a];c.index=-1;c.X=-1;c.Z=!0;c.enabled=b;c.Ta=!1;this.uh[a]=[]};k.isStreamEnabled=function(a){return this.h[a].enabled};k.getQualityLevel=function(a){return this.h[a].X};
k.getStreamInfo=function(a){a=this.h[a];for(var b=[],c=n(a.v),d=c.next();!d.done;d=c.next())b.push(d.value.za);return new uf(a.codecs,a.mimeType,b,a.language,a.name,a.role,void 0,!0)};k.ag=function(a,b){if(a){b&&(this.uri=new I(b));b=null!==this.ta;var c=this.h;this.h=[];this.Zh(a);this.yi();this.ri&&(this.ta=setTimeout(this.Hl,this.bi));if(b)Di(this,c),this.Bc.md();else{Ci(this);if(this.host.onManifestReady)this.host.onManifestReady();this.Bc.onManifestReady()}}else this.ci()};k.ci=function(){};
k.Db=function(){};k.Zh=function(){};k.yi=function(){};
var Di=function(a,b){for(var c=a.host.mediaElement.paused,d={},e=0;e<b.length;d={nb:d.nb},e++){d.nb=b[e];var f=a.h[e];if(f.name!==d.nb.name){E(R.qa,"The order of adaptations in manifest changes.");f=e;var g=a.h.findIndex(function(v){return function(w){return w.name==v.nb.name}}(d));if(0>g){a.Db("New manifest has content out of sync. Continue with old one.");a.h=b;break}var h=a.h[f];a.h[f]=a.h[g];a.h[g]=h;f=a.h[f]}f.enabled=d.nb.enabled;f.X=d.nb.X;f.Ta=d.nb.Ta;g=[];h=!0;for(var l=d.nb.index,m=0;m<
f.v.length;m++){var p=d.nb.v[m],u=f.v[m];u.U=p.U;g[m]=Ei(p,u,l,c);if(!g[m]){h=!1;D(R.qa,"Old and new representations are out of sync.");break}}if(!(0>l))if(h){for(h=0;h<f.v.length;h++)f.v[h].c=g[h].c,f.v[h].I=g[h].I;f.Z=d.nb.Z;f.index=g[0].index}else f.Z=!0,f.index=0}},Ei=function(a,b,c,d){if("number"!==typeof a.I||"number"!==typeof b.I)var e=null;else e=a.I+c-b.I,e=0<e?{c:b.c,index:e,I:b.I}:{c:a.c.slice(c,b.I-a.I).concat(b.c),index:0,I:a.I+c};if(e)a=e;else{e={c:[],index:0,I:b.I};var f=b.c[0];0<=
c&&f.time<a.c[c].time?(e.c=b.c,e.index=Fi(a.c[c].time,b.c),a=e):(f=Fi(f.time,a.c),-1==f?a=null:(c>f?(e.c=b.c,e.index=c-f):(e.c=d?b.c:a.c.slice(c,f).concat(b.c),e.index=0,"number"!==typeof b.I||d||(e.I-=f-c)),a=e))}return a},Fi=function(a,b){for(var c=.5*b[0].duration,d=0;d<b.length;d++)if(Math.abs(b[d].time-a)<=c)return d;return-1};k=R.prototype;k.load=function(a){this.Bc=a;this.Hd()};k.Hd=function(){var a=this.host.url;this.uri=new I(a);this.$c=new zi(this);this.$c.Hd(this.host,a)};
k.Hc=function(){this.$c&&(this.$c.L(),this.$c=null);null!==this.ta&&(clearTimeout(this.ta),this.ta=null)};k.tg=function(a,b,c){a=this.h[a];a.X=b;a.Ta=!0;Gi(c)};k.updateLicenseRequestInfo=function(){};k.getDuration=function(){return this.S?-1:this.duration};k.Ca=function(a){a=this.h[a];var b=a.X;if(0>b)return null;a=a.v[b];var c=a.c;if(0==c.length)return null;b=c[0].time;var d=c.length-1;c=c[d].time+c[d].duration;this.S&&(c-=20,c<b&&(c=b));return{start:b-a.U,end:c-a.U}};
k.seek=function(a,b){var c=this.h[a],d=c.v[c.X],e=d.c;a=this.Ca(a);if(!a)return null;b<a.start&&(b=a.start);b>a.end&&(b=a.end);b+=d.U;for(a=e.length-1;0<=a;a--)if(b>=e[a].time)return c.index=a,c.Ta=!0,b-d.U;return null};k.tc=function(a){a=this.h[a];var b=a.index+1;return b<a.v[a.X].c.length?(a.index=b,!0):!1};k.isLiveStream=function(){return this.S||!1};k.isEventStream=function(){return this.xh||!1};k.isLiveSeekableRangeMovingWindow=function(){return this.zh};k.isLiveDone=function(){};
k.rc=function(a){var b=this.h[a];a=b.index;b=b.v[b.X].c;return!this.S&&a==b.length-1};k.getSegmentInterval=function(a){var b=this.h[a],c=b.X;return 0<=c&&(a=b.index,0<=a&&(b=b.v[c],c=b.c,a<c.length))?{time:c[a].time-b.U,duration:c[a].duration}:{time:0,duration:0}};k.reset=function(a){this.h[a].index=-1};k.Jd=function(a){a=this.h[a];var b=a.v[a.X];null!==b.yb||null!==b.D&&null!==b.D.ma||(a.Ta=!1);return a.Ta};
k.sg=function(a,b){this.h[a].Ta=!1;262144<b.length?D(Hi,"init data ("+b.length+" bytes) is too large to cache"):this.uh[a][this.h[a].X]=b};k.ne=function(a){var b=this.h[a];var c=this.uh[a];return(b=b&&c?c[b.X]||null:null)?(this.h[a].Ta=!1,b):null};k.Cf=function(){return null};k.updateSegmentRequestInfo=function(a,b){b.interval=this.getSegmentInterval(a)};k.processSegment=function(){};k.Df=function(){return 0};var Ii=function(a,b){void 0===a.S&&xa("Cast.MPL.Live",b);a.S=b};
R.prototype.getStreamInfo=R.prototype.getStreamInfo;R.prototype.getQualityLevel=R.prototype.getQualityLevel;R.prototype.isStreamEnabled=R.prototype.isStreamEnabled;R.prototype.enableStream=R.prototype.enableStream;R.prototype.getStreamCount=R.prototype.getStreamCount;R.prototype.getDefaultAudioStreamIndex=R.prototype.getDefaultAudioStreamIndex;var Hi=z("cast.player.comon.StreamingProtocolBase");var S=function(a,b){this.Rk=a;this.Zd=b?b:null;this.b=null};S.prototype.j=function(a){var b=Rg(a).length;this.b=a;this.Ei();this.A();a=Rg(a).length-b;this.b.buffer.set([a>>24,a>>16,a>>8,a],b)};S.prototype.Ei=function(){this.b.i(0);this.b.i(this.Rk);this.Zd&&L(this.b,this.Zd.ld())};S.prototype.A=function(){throw Error("writeBody() should be  overriden.");};var T=function(a,b,c){S.call(this,a);this.ka=b;this.nc=c};q(T,S);
T.prototype.Ei=function(){S.prototype.Ei.call(this);this.b.i(this.ka<<24|this.nc&16777215)};var Ji=function(a){T.call(this,1935763823,0,0);this.C=a};q(Ji,T);Ji.prototype.A=function(){this.b.i(1);this.b.i(this.C)};var Ki=function(a){T.call(this,1952867444,1,0);this.ge=a};q(Ki,T);Ki.prototype.A=function(){this.b.Fi(this.ge)};var Li=function(a,b){T.call(this,1935763834,0,0);this.$i=a;this.kk=b};q(Li,T);Li.prototype.A=function(){this.b.Ig(this.$i);this.b.i(this.kk.length);0==this.$i&&L(this.b,this.kk)};
var Mi=function(a,b){T.call(this,1702061171,0,0);this.Fl=a;this.he=b};q(Mi,T);Mi.prototype.A=function(){L(this.b,[3,25,0,1,0,4,17,this.Fl,21,0,0,0,0,0,0,0,0,0,0,0,5,2,this.he[0],this.he[1]])};var Ni=function(a,b){S.call(this,1635148611);this.uk=a;this.$j=b};q(Ni,S);Ni.prototype.A=function(){L(this.b,[1,77,64,30,255,225]);this.b.qd(this.uk.length);L(this.b,this.uk);this.b.Ig(1);this.b.qd(this.$j.length);L(this.b,this.$j)};var Oi=function(){T.call(this,1937011571,0,0)};q(Oi,T);Oi.prototype.A=function(){this.b.i(0)};
var Pi=function(a,b,c){T.call(this,1952804451,0,1);this.dl=c?0:a;this.cl=b;this.Zi=c};q(Pi,T);Pi.prototype.A=function(){this.b.i(256|this.dl);L(this.b,this.cl.ld());this.Zi&&(this.b.Ig(16),L(this.b,this.Zi))};var Qi=function(a){T.call(this,1936027235,0,2);this.fi=a};q(Qi,T);Qi.prototype.A=function(){this.b.i(this.fi.length);for(var a=0;a<this.fi.length;a++){var b=this.fi[a].wk;this.b.qd(b.length);for(var c=0;c<b.length;c++){var d=b[c];this.b.qd(d.Sg);this.b.i(d.Tg)}}};
var Ri=function(a,b){T.call(this,1935894637,0,0);this.bm=a;this.cm=b};q(Ri,T);Ri.prototype.A=function(){this.b.i(this.bm);this.b.i(this.cm)};var Si=function(a){S.call(this,1718775137);this.$k=a};q(Si,S);Si.prototype.A=function(){this.b.i(this.$k)};var Ti=function(a){T.call(this,1751411826,0,0);this.ol=a};q(Ti,T);Ti.prototype.A=function(){this.b.i(0);this.b.i(this.ol);L(this.b,[0,0,0,0,0,0,0,0,0,0,0,0])};var Ui=function(a){T.call(this,1835296868,0,0);this.Va=a};q(Ui,T);
Ui.prototype.A=function(){this.b.i(0);this.b.i(0);this.b.i(this.Va);this.b.i(0);L(this.b,[85,196,0,0])};var Vi=function(a,b){T.call(this,1953196132,0,3);this.pm=a;this.pl=b};q(Vi,T);Vi.prototype.A=function(){this.b.i(0);this.b.i(0);L(this.b,[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]);this.b.i(this.pm<<16);this.b.i(this.pl<<16)};var Wi=function(a){T.call(this,1953654136,0,0);this.sl=a};q(Wi,T);
Wi.prototype.A=function(){var a=65536;this.sl&&(a&=-65537);L(this.b,[0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0]);this.b.i(a)};var Xi=function(a,b){T.call(this,1886614376,0,0);this.ti=a;this.xb=b};q(Xi,T);Xi.prototype.A=function(){L(this.b,this.ti.ld());this.b.i(this.xb.length);L(this.b,this.xb)};var Yi=function(a){T.call(this,1836476516,0,0);this.Va=a};q(Yi,T);
Yi.prototype.A=function(){this.b.i(0);this.b.i(0);this.b.i(this.Va);L(this.b,[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2])};var Zi=function(a){T.call(this,1952868452,0,8);this.lc=a};q(Zi,T);Zi.prototype.A=function(){this.b.i(1);this.b.i(this.lc)};var $i=function(a){T.call(this,1953658222,0,513);this.hi=a};q($i,T);
$i.prototype.A=function(){this.b.i(this.hi.length);this.b.i(0);for(var a=0;a<this.hi.length;a++)this.b.i(this.hi[a].length)};var aj=function(a){T.call(this,1835427940,0,0);this.Dc=a};q(aj,T);aj.prototype.A=function(){this.b.i(this.Dc)};var bj=function(a){S.call(this,1835295092);this.Wi=a};q(bj,S);bj.prototype.A=function(){for(var a=0;a<this.Wi.length;a++)L(this.b,this.Wi[a])};var dj=function(a){var b=new Uint8Array(2+a.length);b[1]=1;Ud(a,b,2);Xi.call(this,cj,b)};q(dj,Xi);
var cj=new Ff([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]);var ej=function(a,b,c,d){A.call(this);this.a=a;this.H=b;this.vl=d;this.xb=c;this.s=this.vj=null;this.Rb="none";this.Cg=this.Bg=this.vc=null;this.Fg=!1;this.g=new F;wd(this.g);B(this.g,"success",this.ed,!1,this);B(this.g,"error",this.Ub,!1,this)};q(ej,A);ej.prototype.G=function(){this.s&&(this.vc&&Gc(this.vc,"message",this.Kj,!1,this),this.s=null);this.vc&&(this.vc.close(),this.vc=null);this.g.L();A.prototype.G.call(this)};
ej.prototype.createSession=function(a){E(fj,"create session");this.Cg=t();var b=this.a.licenseCustomData;if(b){var c=new Sg(this.xb.length+b.length+34);L(c,this.xb);(new dj(b)).j(c);b=Rg(c)}else b=this.xb;this.s=this.a.mediaElement;this.Rb=a;this.vc=a=this.s.mediaKeys.createSession();B(this.vc,"message",this.Kj,!1,this);a.generateRequest("cenc",b.buffer).catch(this.Ij.bind(this))};
ej.prototype.ed=function(a){E(fj,"xhr success");var b=this.Bg;null!==b&&(b=t()-b,y("Cast.MPL.LicenseReq.ServerLatency",b));this.Bg=null;this.hj(Hd(a.target))};ej.prototype.hj=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.a.processLicense&&(a=this.a.processLicense(a),Vd(a))){a.then(function(c){gj(b,c)});return}gj(this,a)}else this.a.T(201,void 0)};
var gj=function(a,b){a.Fg=!0;a.vc.update(b.buffer).then(function(){a.Fg=!1;var c=a.vl;E(hj,"key session ended: "+c.jd);8<c.Ia.length?c.Ia.shift().L():c.jd++;c.jd<c.Ia.length&&c.Ia[c.jd].createSession(c.Rb)},function(c){a.Fg=!1;a.Ij(c)})};k=ej.prototype;k.Ub=function(){E(fj,"xhr error");var a=new tf(String(this.g.Fe),this.g.Sb,Fd(this.g),this.g.getAllResponseHeaders(),Hd(this.g));this.a.T(201,a)};
k.Kj=function(a){E(fj,"message");this.vj=new Uint8Array(a.Pc.message);this.a.prepareLicenseRequest&&!this.a.prepareLicenseRequest()||this.Fc()};k.Ij=function(a){E(fj,"keyerror "+a);this.a.T(202)};
k.Fc=function(){var a=new sf;a.timeoutInterval=18E4;a.protectionSystem=this.Rb;a.content=this.vj;a.setResponse=this.hj.bind(this);this.H.updateLicenseRequestInfo(a);this.a.licenseUrl&&(a.url=this.a.licenseUrl);if(!a.url&&this.xb&&"playready"==this.Rb){var b=new hh(this.xb);if(b=Ai(b.getData()))a.url=b.url}if(this.a.updateLicenseRequestInfo&&(this.a.updateLicenseRequestInfo(a),a.skipRequest))return;this.g.ce=a.withCredentials;this.g.ec=Math.max(0,a.timeoutInterval);this.g.send(a.url,"POST",a.content,
a.headers);a=this.Cg;null!==a&&(a=t()-a,y("Cast.MPL.LicenseReq.GenLatency",a));this.Cg=null;this.Bg=t()};k.ve=function(){return null!==this.Cg||null!==this.Bg||this.Fg};var fj=z("cast.player.core.MediaKeySession");var jj=function(a,b,c,d,e){A.call(this);this.a=a;this.H=b;this.Ia=[];this.jd=0;this.Rb=null;B(this.a.mediaElement,"encrypted",this.Gj,!1,this);c&&0<c.length&&(a.protectionSystem&&(c.includes(a.protectionSystem)?c.splice(0,0,c.splice(c.indexOf(a.protectionSystem),1)[0]):D(hj,"Preferred protection system not found")),ij(this,{Eh:c,Uf:0,Mk:d,om:e}))};q(jj,A);
jj.prototype.G=function(){Gc(this.a.mediaElement,"encrypted",this.Gj,!1,this);for(var a=n(this.Ia),b=a.next();!b.done;b=a.next())b.value.L();this.Ia.length=0;A.prototype.G.call(this)};
var ij=function(a,b){kj(a,b).catch(function(c){b.Uf++;b.Uf<b.Eh.length?ij(a,b):(C(hj,c.toString()),D(hj,"unsupported protection system"),a.a.T(202))})},kj=function(a,b){var c=b.Eh[b.Uf];b=lj(b);return navigator.requestMediaKeySystemAccess(Bf[c],[b]).then(function(d){return d.createMediaKeys()}).then(function(d){var e=a.a.mediaElement.setMediaKeys(d);return a.a.emeServerCertificate&&a.a.emeServerCertificate.length?d.setServerCertificate(a.a.emeServerCertificate).then(function(f){f||D(hj,"Server certificates are not supported by the keysystem. The server certificate has been ignored.");
return e},function(f){C(hj,"Invalid server certificate provided. "+f.toString());return Promise.reject(f)}):e}).then(function(){a.Rb=c;Td(a.Rb,a.H.Df());0<a.Ia.length&&a.Ia[0].createSession(c);return Promise.resolve()})};jj.prototype.Gj=function(a){a=a.Pc;E(hj,"onencrypted: "+this.jd);(a=a.initData)?this.createSession(new Uint8Array(a)):E(hj,"invalid init data")};
var mj=function(a,b){return a.Ia.some(function(c){a:if(b.length!=c.xb.length)c=!1;else{for(var d=b.length,e=0;e<d;e++)if(b[e]!=c.xb[e]){c=!1;break a}c=!0}return c})};jj.prototype.createSession=function(a){mj(this,a)||(a=new ej(this.a,this.H,a,this),this.Rb&&this.jd==this.Ia.length&&a.createSession(this.Rb),this.Ia.push(a))};jj.prototype.Fc=function(){this.Ia[this.jd].Fc()};jj.prototype.ve=function(){return this.Ia.some(function(a){return a.ve()})};
var lj=function(a){var b=a.Eh[a.Uf],c={initDataTypes:["cenc"]},d=a.Mk||"";a=a.om||"";d=d.replace("video/mp2t","audio/mp4");a=a.replace("video/mp2t","video/mp4");d&&(c.audioCapabilities=[{contentType:d,robustness:nj[b]||""}]);a&&(c.videoCapabilities=[{contentType:a,robustness:oj[b]||""}]);return c},pj={},nj=(pj.widevine="HW_SECURE_CRYPTO",pj),qj={},oj=(qj.widevine="HW_SECURE_ALL",qj),hj=z("cast.player.core.MediaKeysManager");var tj=function(a,b,c,d){this.a=a;this.N=b;this.ea=c;a=this.a.initialBandwidth;3145728==this.a.initialBandwidth&&(a=parseFloat(window.localStorage.getItem("cast.player.core.QualityManager.currentBandwidth")),a="number"===typeof a&&a>this.a.initialBandwidth?a:this.a.initialBandwidth);this.ic=a;this.Oc=rj(this,this.ic);E(sj,this.N+": initial "+this.ea[this.Oc]);this.hg=0;this.Dg=null;this.xj=t();this.Al=d;a=this.ea;d=Od(d);if(void 0!==d)for(y("Cast.MPL.Available"+d+"Bitrates",a.length),b=0;b<a.length;b++)y("Cast.MPL.Available"+
d+"Bitrate"+b,a[b])};tj.prototype.L=function(){uj(this)};
var rj=function(a,b,c){for(var d=-1,e=Number.MAX_VALUE,f=void 0!==c?c[0]:0,g=0;g<a.ea.length;g++)if(void 0===c||-1!==c.indexOf(g)){if(b>=a.ea[g]){var h=b-a.ea[g];h<e&&(d=g,e=h)}a.ea[f]>a.ea[g]&&(f=g)}return 0>d?f:d},wj=function(a,b){3E5>t()-a.xj||(y("Cast.MPL.Bandwidth",b),vj||window.localStorage.setItem("cast.player.core.QualityManager.currentBandwidth",""+b),uj(a))},uj=function(a){var b=t(),c=Od(a.Al);void 0!==c&&y("Cast.MPL."+c+"Bitrate",a.ea[a.Oc]);a.xj=b},sj=z("cast.player.core.QualityManager"),
vj=document.domain.includes("gstatic.com");var xj=function(a,b,c,d,e,f,g,h){A.call(this);this.ra=a;this.host=b;this.protocol=c;this.tf=f;this.M=d;c=c.getStreamInfo(d);this.Ja=Df(c.role,c.mimeType,c.codecs)?new Rh(a,b,c.codecs,c.mimeType):new Vh(b,d,c,e,a,h);Sd(c.codecs);y("Cast.MPL.MimeType",Nd[c.mimeType]||0);y("Cast.MPL.StreamType",Id(c.mimeType)?1:Jd(c.mimeType)?2:Df(c.role,c.mimeType,c.codecs)?3:0);this.Pf=!1;this.f=1;this.lg=0;this.Vd=!1;this.Gi=this.Eb=0;this.Lb=400;this.Wc=this.Xc=this.Fd=this.Qf=!1;this.wj=this.Pg=0;this.rb=new Se;
this.B=new sf;this.B.setResponse=this.Zl.bind(this);this.g=new gi(this.Vh.bind(this));wd(this.g);B(this.g,"success",this.ed,!1,this);B(this.g,"error",this.Ub.bind(this,!1));B(this.g,"timeout",this.Ub.bind(this,!0));B(this.g,"ready",this.Ll,!1,this);a=this.protocol.getStreamInfo(this.M).bitrates;this.$e=new tj(b,d,a,c.mimeType);this.Ud=null;(b=g)||(b=this.host.segmentRequestRetryLimit,b=qi("simpleFailOver")?new vi(a,b):new ui(a,b));this.cj=b};q(xj,A);
var yj=function(a){void 0!==a.Ja.bf&&(a.Ja.bf=!1);A.prototype.L.call(a)};xj.prototype.L=function(){void 0!==this.Ja.bf&&(this.Ja.bf=!0);A.prototype.L.call(this)};xj.prototype.G=function(){clearTimeout(this.Ud);this.Ud=null;this.Ja.L();this.$e.L();this.g.L();A.prototype.G.call(this)};xj.prototype.Zl=function(a,b){a?zj(this,{Ed:this.Wc,data:new Uint8Array(a),interval:this.B.interval,Rd:this.B.Rd},b):this.Ub(!1);this.Qf=!1;this.Fd&&(Aj(this),this.Fd=!1)};
var Bj=function(a,b,c,d){var e=a.$e;var f=t();if(b||null===e.Dg||!(f-e.Dg<2E3*(c||0))){e.Dg=f;b=rj(e,.7*e.ic,d);if(e.a.getQualityLevel){if(1!==e.ea.length||0!==e.ea[0])b=e.a.getQualityLevel(e.N,b,e.Oc,e.ea);b>=e.ea.length&&(D(sj,e.N+": Host provided an invalid quality level!"),b=e.ea.length-1)}b!=e.Oc&&(E(sj,e.N+": from "+e.ea[e.Oc]+" to "+e.ea[b]),uj(e),e.Oc=b)}e=e.Oc;b=a.protocol.getQualityLevel(a.M);e==b?a=!1:(a.Pf=!0,a.protocol.tg(a.M,e,a,a.ra),a=!0);return a},Ej=function(a,b,c,d,e,f,g){g&&Cj(a,
b,c.time);if(a.Xc){E(Dj,a.M+": segment processed");a.Xc=!1;if(a.host.processSegment){g=a.host.processSegment(a.M,b);if(Vd(g)){g.then(function(h){h instanceof Uint8Array&&(b=h);a.Ja.append(b,c,d,e,f);a.fg()});return}g instanceof Uint8Array&&(b=g)}a.Ja.append(b,c,d,e,f)}else E(Dj,a.M+": not processing");a.fg()},Hj=function(a,b){a.Xc?Fj(a,b,"processing previous segment"):a.rb.Pa()?Gj(a,b)?a.Se(b):(Fj(a,b,"segment duration will go beyond buffer limit"),a.Ud=setTimeout(a.fg.bind(a),1E3)):Fj(a,b,"queue has "+
a.rb.Rc()+" segments")},Fj=function(a,b,c){E(Dj,a.M+": queue segment ("+b.data.length+") as "+c);a.rb.enqueue(b)};xj.prototype.fg=function(){if(!this.Xc&&!this.rb.Pa()){var a=Ve(this.rb);Gj(this,a)?(E(Dj,this.M+": dequeue segment"),Ue(this.rb),this.Se(a)):(E(Dj,this.M+": delay process downloaded segment"),this.Ud=setTimeout(this.fg.bind(this),1E3))}};var Gj=function(a,b){var c=a.Xa(a.ra.Sc());return c<=a.host.autoPauseDuration?!0:c+b.interval.duration<=a.Ja.ej()};
xj.prototype.Se=function(a){E(Dj,this.M+": process segment");this.Xc=!0;this.protocol.processSegment(this.M,a,this)};xj.prototype.reset=function(){E(Dj,this.M+": reset");this.f=1;this.lg=0;this.Vd=!1;Ij(this);this.Xc=this.Fd=!1;this.rb.clear();clearTimeout(this.Ud);this.Ud=null;this.Wc||this.g.abort();this.protocol.reset(this.M);this.Ja.reset();this.ra.dd()};
xj.prototype.ed=function(a){var b=this.protocol.getQualityLevel(this.M);this.cj.wi(b);zj(this,{Ed:this.Wc,headers:this.g.getAllResponseHeaders(),data:new Uint8Array(Hd(a.target)),interval:this.B.interval,Rd:this.B.Rd})};
var zj=function(a,b,c){var d=a.$e;c=void 0!==c?c:Date.now()-a.lg;var e=b.data.length;0>=c||(d.a.trackBandwidth&&d.a.trackBandwidth(d.N,c,e),Xf("Cast.MPL.SegmentStats.Size",e),Xf("Cast.MPL.SegmentStats.Time",c),c=0<c?8*e/(c/1E3):0,d.ic=.8*c+(1-.8)*d.ic,E(sj,d.N+": current="+c.toFixed(2)+", average="+d.ic.toFixed(2)),wj(d,c),d.hg=0);Ij(a);Hj(a,b);a.Wc?(a.Wc=!1,a.protocol.sg(a.M,b.data),d=!0):d=a.Vd=!1;if(!d&&(d=a.Xa(a.ra.Sc()),Bj(a,10>d,b.interval.duration),a.Pg=.8*d+(1-.8)*a.Pg,3E5<Date.now()-a.wj&&
(y("Cast.MPL.AverageBufferDuration",parseInt(a.Pg,10)),a.wj=Date.now()),a.Pf))return;a.ra.dd()};k=xj.prototype;k.Ll=function(){this.Fd&&(Aj(this),this.Fd=!1)};
k.Ub=function(a){var b=this.$e;if(a){var c=Date.now()-this.lg;b.ic=0<c?8*b.hg/(c/1E3):0}b.hg=0;b.Dg=null;E(sj,b.N+": current="+b.ic.toFixed(2));wj(b,b.ic);b=this.protocol.getQualityLevel(this.M);a=this.cj.gf(b,a);0==a.length?this.host.skipSegmentOnNetworkFailure?(Ij(this),this.ra.dd()):(this.f=-1,a=this.Qf?void 0:new tf(this.B.url,this.g.Sb,Fd(this.g),this.g.getAllResponseHeaders(),Hd(this.g)),this.host.T(301,a)):Bj(this,!0,void 0,a)?(this.Vd=!0,this.ra.dd()):(this.Eb++,this.Gi=Date.now(),this.ra.dd(this.Lb))};
k.Vh=function(a){this.$e.hg=a.loaded};k.Xa=function(a){return this.Ja.Xa(a)};k.createBuffer=function(){this.Ja.createBuffer()};
var Gi=function(a){a.Pf=!1;a.ra.Fj();Jj(a,!1);if(a.Wc)Aj(a);else if(Kj(a),a.ra.dd(),a.host.onQualityLevelChanged)a.host.onQualityLevelChanged(a.M)},Aj=function(a){if(Lj(a))a.Fd=!0;else{a.lg=Date.now();a.protocol.updateSegmentRequestInfo(a.M,a.B);a.B.timeoutInterval=Math.max(2E3*a.B.interval.duration,1E4);a.B.skipRequest=!1;if(a.host.updateSegmentRequestInfo&&(a.host.updateSegmentRequestInfo(a.B,a.M),a.B.skipRequest)){a.Qf=!0;return}E(Dj,a.M+": send request to get segment.");a.g.ce=a.B.withCredentials;
a.g.ec=Math.max(0,a.B.timeoutInterval);a.g.send(a.B.url,void 0,void 0,a.B.headers)}};xj.prototype.we=function(){return 0<this.f||this.Xc||Lj(this)||!this.Ja.ye()||!this.rb.Pa()};xj.prototype.Bh=function(){var a;if(a=!this.Pf&&2>this.rb.Rc()&&!Lj(this))a=Ve(this.rb),a=!(a&&!Gj(this,a));return a};
var Lj=function(a){return a.g.we()||a.Qf},Jj=function(a,b){if(a.protocol.Jd(a.M)){var c=a.protocol.ne(a.M);null!==c?Hj(a,{Ed:!0,data:c,interval:{time:a.B.interval.time,duration:0}}):(a.Wc=!0,a.Vd=a.Vd||b)}},Kj=function(a){var b=a.protocol.Cf(a.M);b&&a.tf(b)};
xj.prototype.di=function(){if(0<this.Eb||this.Vd){if(0<this.Eb){if(Date.now()-this.Gi<this.Lb)return;this.Lb*=2}Aj(this)}else if(1==this.f){var a=this.ra.Sc(),b=this.protocol.seek(this.M,a);"number"===typeof b?(E(Dj,this.M+": seek success "+a),this.f=2,this.ra.Tj(b),Jj(this,!0),Kj(this),Aj(this)):E(Dj,this.M+": seek failure "+a)}else this.protocol.tc(this.M)&&(Jj(this,!0),Kj(this),Aj(this)),this.protocol.rc(this.M)&&(this.f=0)};
var Ij=function(a){a.Eb=0;a.Gi=0;a.Lb=400},Cj=function(a,b,c){if(a.host.processMetadata){var d=ph(b,[1701671783],!0);0!==d.length&&(d=d.map(function(e){0===e.wa?(e.bc=c,e.tb=e.bc):(e.bc=c+e.eg/e.wa,e.tb=e.bc+e.xf/e.wa);return{endTime:e.tb,eventDuration:e.xf,id:e.sh,messageData:e.Cj,presentationTimeDelta:e.eg,schemeIdUri:e.ii,startTime:e.Tc(),timescale:e.wa,value:e.zi}}),a.host.processMetadata("EMSG",b,c,d))}},Dj=z("cast.player.core.SegmentManager");var Mj=function(a,b,c){A.call(this);var d=this;this.a=a;this.H=b;this.ra=c;this.ja=[];this.td=[];this.Ra=null;this.ga=new MediaSource;this.pj=this.sj=this.Of=!1;this.Fh=this.pd=this.Kc=null;this.Kf=[];this.ah=function(e){d.Ra?d.Ra.createSession(e):d.Kf.push(e)};B(this.ga,"sourceopen",this.Sj,!1,this);this.a.mediaElement&&B(this.a.mediaElement,"durationchange",this.md,!1,this)};q(Mj,A);
Mj.prototype.G=function(){this.H.Hc();Nj(this);this.pd=this.Kc=null;this.Kf.length=0;this.Ra&&(this.Ra.L(),this.Ra=null);Gc(this.ga,"sourceopen",this.Sj,!1,this);this.a.mediaElement&&(this.a.mediaElement.removeAttribute("src"),this.a.mediaElement.load(),Gc(this.a.mediaElement,"durationchange",this.md,!1,this));A.prototype.G.call(this)};Mj.prototype.Sj=function(){E(Oj,"sourceopen");if(this.pj){this.update();Pj(this);for(var a=n(this.ja),b=a.next();!b.done;b=a.next())(b=b.value)&&b.createBuffer()}};
var Qj=function(a){if(!a.Ra&&a.Fh&&a.sj&&(a.Kc||a.pd)){a.Ra=new jj(a.a,a.H,a.Fh,a.Kc,a.pd);for(var b=n(a.Kf),c=b.next();!c.done;c=b.next())a.Ra.createSession(c.value);a.Kf.length=0}};Mj.prototype.md=function(){if(void 0!==this.ga.setLiveSeekableRange&&"open"==this.ga.readyState&&Infinity==this.ga.duration){var a=this.Ca();a&&this.ga.setLiveSeekableRange(a.start,a.end)}};
Mj.prototype.Ca=function(){for(var a=-Infinity,b=Infinity,c=this.H.getStreamCount(),d=0;d<c;d++)if(this.H.isStreamEnabled(d)){var e=this.H.Ca(d);if(!e)return null;e.start>a&&(a=e.start);e.end<b&&(b=e.end)}a>b&&(a=b);return{start:a,end:b}};Mj.prototype.onManifestReady=function(){this.pj=!0;this.update();this.md()};var Rj=function(a,b,c,d){c=void 0===c?null:c;d=void 0===d?null:d;null===a.pd&&(a.pd=c);null===a.Kc&&(a.Kc=d);a.Fh=b;Qj(a)};Mj.prototype.createSession=function(a){this.ah(a)};
Mj.prototype.endOfStream=function(){"open"==this.ga.readyState&&this.ga.endOfStream()};Mj.prototype.load=function(){Nj(this);this.open()};Mj.prototype.open=function(){this.Of||(this.H.load(this),this.Of=!0);this.a.mediaElement.src?(zc(this.a.mediaElement,"emptied",function(){Sj(this)},!1,this),this.a.mediaElement.src=""):Sj(this)};
var Sj=function(a){E(Oj,"open");!a.Ra&&a.a.mediaElement.setMediaKeys?a.a.mediaElement.setMediaKeys(null).catch(function(b){C(Oj,b.toString())}).then(function(){Tj(a)}):Tj(a)},Tj=function(a){a.a.mediaElement.src=window.URL.createObjectURL(a.ga);a.sj=!0;Qj(a)};Mj.prototype.preload=function(){this.Of?D(Oj,"protocol already loaded"):(this.H.load(this),this.Of=!0)};
var Nj=function(a){for(var b=n(a.ja),c=b.next();!c.done;c=b.next())(c=c.value)&&c.L();a.ja.length=0;a.td=[]},Pj=function(a){if("open"==a.ga.readyState){var b=a.H.getDuration();0<b&&!a.ga.duration&&(a.ga.duration=parseFloat((b-1E-4).toFixed(4)))}};k=Mj.prototype;k.reset=function(){for(var a=n(this.ja),b=a.next();!b.done;b=a.next())(b=b.value)&&b.reset()};
k.update=function(){for(var a=this.H.getStreamCount(),b=null,c=null,d=0;d<a;d++)if(this.H.isStreamEnabled(d)){var e=this.H.getStreamInfo(d),f=e.mimeType;e=e.codecs;Id(f)||Kd(e)?b?D(Oj,"more than one audio stream enabled"):(b=Rf(e),b=f+';codecs="'+b+'"'):Jd(f)&&(c?D(Oj,"more than one video stream enabled"):(c=Qf(e),c=f+';codecs="'+c+'"'));if(!this.ja[d]){try{this.ja[d]=new xj(this.ra,this.a,this.H,d,this.ga,this.ah,void 0,this.td)}catch(g){D(Oj,g.message);22==g.code&&this.ra.Rh();return}Jd(f)&&this.ra.$g();
this.H.enableStream(d,!0);Bj(this.ja[d],!0)}}else this.ja[d]&&(yj(this.ja[d]),this.ja[d]=null);b||c?this.Kc||this.pd||(this.Kc=b,this.pd=c,Qj(this)):D(Oj,"no enabled audio or video stream")};
k.zf=function(){for(var a=this.H.getStreamCount(),b=0;b<a;b++)if(this.H.isStreamEnabled(b)){var c=this.H.getStreamInfo(b),d=c.codecs;if(Id(c.mimeType)||Kd(d)){this.ja[b]&&(yj(this.ja[b]),this.ja[b]=null);try{this.ja[b]=new xj(this.ra,this.a,this.H,b,this.ga,this.ah,void 0,this.td)}catch(e){D(Oj,e.message);22==e.code&&this.ra.Rh();break}this.H.enableStream(b,!0);Bj(this.ja[b],!0)}}};k.Bh=function(a){return this.ja[a].Bh()};k.di=function(a){this.ja[a].di()};k.we=function(a){return this.ja[a].we()};
k.Xa=function(a,b){return this.ja[a].Xa(b)};k.Fc=function(){this.Ra.Fc()};k.ve=function(){return null!==this.Ra&&this.Ra.ve()};k.getStreamCount=function(){return this.ja.length};var Oj=z("cast.player.core.MediaSourceManager");var Uj=function(){};x("cast.player.core.CurrentTimeCallback",Uj);Uj.prototype.Sc=function(){};var Vj=function(){};x("cast.player.core.PlayerCallbacks",Vj);k=Vj.prototype;k.dd=function(){};k.Tj=function(){};k.Fj=function(){};k.zf=function(){};k.Ej=function(){};k.Rh=function(){};k.$g=function(){};var Wj=function(a,b,c,d){Rh.call(this,a,b,c);a=new sf;a.url=d;b.updateCaptionsRequestInfo&&b.updateCaptionsRequestInfo(a);this.yk=new wi(this);this.yk.load(a)};q(Wj,Rh);Wj.prototype.G=function(){this.yk.L();Rh.prototype.G.call(this)};Wj.prototype.reset=function(){};Wj.prototype.ag=function(a){a&&this.parse(a,0)};var U=function(a){E(Xj,"Version: 1.0.0.89");wa()&&cast.__platform__.metrics.setMplVersion("1.0.0.89");this.a=a;this.H=null;this.Qb=0;this.Gb=null;this.Ki=this.Oa=this.Mf=this.bb=!1;this.Sf=!0;this.Rf=!1;this.Aa=this.V=this.s=null;this.te=!1;this.ef=null;this.bg=this.Uh.bind(this);this.Ag=this.zg=this.df=null;this.wg=this.Ae=!1},Zj=function(a,b){Yj(a);a.ef=setTimeout(a.bg,b||0)};k=U.prototype;k.dd=function(a){Zj(this,a)};k.gg=function(a,b,c,d,e,f){this.Mf&&this.Aa.gg(a,b,c,d,e,f);Zj(this)};
k.Tj=function(a){this.bb&&(Infinity==this.Qb||this.Qb<a)&&(this.Qb=a)};k.Fj=function(){Pj(this.V)};k.Sc=function(){return this.bb?this.Qb:this.s.currentTime};k.zf=function(){this.V.zf()};k.Ej=function(){this.V.update()};k.Rh=function(){this.reload()};k.$g=function(){this.Ae||null!==this.Aa||(this.Mf=!0,this.Aa=new fi(this,this.a))};var Yj=function(a){null!==a.ef&&(clearTimeout(a.ef),a.ef=null)};k=U.prototype;
k.Rj=function(){E(Xj,"seeking");this.te?this.te=!1:(this.Rf=this.bb=!1,this.df=null,this.Aa&&this.Aa.reset(),this.V.reset())};k.Qj=function(){E(Xj,"seeked");this.Gb=t()};k.$f=function(){C(Xj,"error");this.a.T(Md(this.s.error))};k.Mj=function(){this.df=t();ya("Cast.MPL.Playing");if(this.zg){var a=t()-this.zg;y("Cast.MPL.AutoPauseTime",a);this.zg=null}};
k.Lj=function(){var a=t();this.Oa&&!this.bb&&null!==this.df&&(this.zg=a,y("Cast.MPL.PlayTimeBeforeAutoPause",a-this.df));ya("Cast.MPL.Pause");this.Gb=this.df=null};k.Hj=function(){ya("Cast.MPL.Ended");this.Gb=null};
k.Eg=function(){if(this.bb&&this.s&&!isNaN(this.s.duration)&&0!=this.s.buffered.length&&(this.bb=!1,this.Gb=t(),y("Cast.MPL.MediaDuration",this.s.duration),0!=this.Qb&&this.Qb!=this.s.currentTime)){var a=this.Qb;this.te=!0;this.s.currentTime=a}this.Sf=!1;var b=0,c=0,d=!0;a=this.Sc();for(var e=this.V.getStreamCount(),f=0;f<e;f++)if(this.H.isStreamEnabled(f)&&(c++,this.V.we(f))){b++;var g=this.V.Xa(f,a);if(this.Oa&&d){var h=this.H.getSegmentInterval(f).duration*this.a.autoResumeNumberOfSegments;if(0==
h||h>this.a.autoResumeDuration)h=this.a.autoResumeDuration;g<h&&(d=!1)}h=f;20<=g?E(Xj,"not requesting more segments, buffered duration "+g+" seconds exceeds max duration."):(g<this.a.autoPauseDuration&&(g=this.H.getStreamInfo(h),Df(g.role,g.mimeType,g.codecs)||(this.Sf=!0)),this.V.Bh(h)&&this.V.di(h))}if(this.s&&0!=c){this.Sf?!this.s.paused&&this.s.duration-a>this.a.autoPauseDuration&&(E(Xj,"auto pause "+a),this.Oa=!0,this.s.pause(),this.a.onAutoPause&&this.a.onAutoPause(this.Oa)):!this.bb&&this.Oa&&
d&&(this.Oa=!1,this.s.paused&&(E(Xj,"auto resume "+a),this.s.play(),this.a.onAutoPause&&this.a.onAutoPause(this.Oa),this.Gb=t()));if(0==b){if(!this.Rf&&(E(Xj,"endOfStream "+a),this.V.endOfStream(),this.a.onMediaDownloadEnded))this.a.onMediaDownloadEnded();this.Rf=!0}if(!(this.bb||this.Oa||this.s.paused||!this.V||this.V.ve())&&(E(Xj,"time="+a),this.Gb&&(b=t(),c=2500<b-this.Gb,this.a.Hi||c))){a:{d=this.s.currentTime;e=this.s.buffered;for(f=e.length-1;0<=f;f--){g=e.start(f);if(d>=g)break;if(0==f||d>
e.end(f-1)-.15){D(Xj,"stall jump to "+g);ya("Cast.MPL.PlaybackStallGap");this.te=this.wg=!0;this.s.currentTime=g;d=!0;break a}}d=!1}d?this.Gb=null:c&&(this.Gb=this.a.Hi?b:null,D(Xj,"playback stalled in buffered region"),ya("Cast.MPL.PlaybackStall"),this.te=this.wg=!0,this.s.currentTime=a+.5)}}Zj(this,400)};
k.Uj=function(){this.Gb=t();this.wg&&(y("Cast.MPL.StallPrevented",1),this.wg=!1);if(this.Ag){var a=t()-this.Ag;y(this.Ae?"Cast.MPL.PreloadAutoplayStartupLatency":"Cast.MPL.AutoplayStartupLatency",a);this.Ag=null}};k.Uh=function(){this.ef=null;this.Eg()};var ak=function(a,b,c){a.H=b;a.bb=!0;a.Qb=c||0;a.V=new Mj(a.a,a.H,a)};k=U.prototype;
k.load=function(a,b){E(Xj,"load");ya("Cast.MPL.Load");var c=ki();void 0!==c&&ni("Cast.MPL.ExperimentationBlockId",c.blockIds);this.a.aj&&ya("Cast.MPL.DisableBufferAdjust");this.Ae=!1;this.s=this.a.mediaElement;B(this.s,"error",this.$f,!1,this);B(this.s,"seeking",this.Rj,!1,this);B(this.s,"seeked",this.Qj,!1,this);B(this.s,"pause",this.Lj,!1,this);B(this.s,"playing",this.Mj,!1,this);B(this.s,"timeupdate",this.Uj,!1,this);B(this.s,"ended",this.Hj,!1,this);this.s.autoplay&&(this.Ag=t(),this.s.autoplay=
!1,this.Ki=!0,this.Zj());this.V?(this.V.open(),this.$g()):a?(ak(this,a,b),this.V.load()):C(Xj,"no protocol")};k.preload=function(a,b){E(Xj,"preload");ya("Cast.MPL.Preload");ak(this,a,b);this.V.preload();this.Ae=!0};
k.Hc=function(){E(Xj,"unload");bk(this);this.V&&(this.V.L(),this.V=null);Yj(this);this.s&&(this.Ki&&(this.s.autoplay=!0),this.Rf=this.Oa=!1,Gc(this.s,"error",this.$f,!1,this),Gc(this.s,"seeking",this.Rj,!1,this),Gc(this.s,"seeked",this.Qj,!1,this),Gc(this.s,"pause",this.Lj,!1,this),Gc(this.s,"playing",this.Mj,!1,this),Gc(this.s,"timeupdate",this.Uj,!1,this),Gc(this.s,"ended",this.Hj,!1,this),this.s=null,this.Ae=!1)};
k.reload=function(){this.bb||(this.Qb=this.s.currentTime);this.bb=!0;this.s.paused||(this.Oa=!0);Yj(this);this.V.load()};k.Zj=function(){this.Oa=!0};k.getState=function(a){var b=this.V.Ca();void 0===a&&(a=1);var c={};a&1&&(c.underflow=this.Sf||this.Oa);a&2&&(c.seekable=b?{start:b.start,end:b.end}:null);return c};k.Xa=function(a){return this.V.Xa(a,this.Sc())};k.ll=function(){return 20};k.Fc=function(){this.V.Fc()};var bk=function(a){a.Aa&&(a.Mf=!1,a.Aa.L(),a.Aa=null)};
U.prototype.fl=function(a,b,c){b?a?"cea608"==b?null!==this.Aa?this.Aa.Fb.mode="showing":D(Xj,"InbandCaptionsManager should have been created by createInbandCaptionsManager() callback!"):c&&(bk(this),this.Aa=new Wj(this,this.a,b,c),this.Aa.Fb.mode="showing"):"cea608"==b?null!==this.Aa&&(this.Aa.Fb.mode="hidden"):this.Mf||bk(this):this.V.update()};U.prototype.ml=function(){return this.H};U.prototype.jl=function(){return this.a};x("cast.player.api.Player",U);U.prototype.getHost=U.prototype.jl;
U.prototype.getStreamingProtocol=U.prototype.ml;U.prototype.enableCaptions=U.prototype.fl;U.prototype.startLicenseRequest=U.prototype.Fc;U.prototype.getMaxBufferDuration=U.prototype.ll;U.prototype.getBufferDuration=U.prototype.Xa;U.prototype.getState=U.prototype.getState;U.prototype.playWhenHaveEnoughData=U.prototype.Zj;U.prototype.reload=U.prototype.reload;U.prototype.unload=U.prototype.Hc;U.prototype.preload=U.prototype.preload;U.prototype.load=U.prototype.load;U.prototype.onAudioChanged=U.prototype.Ej;
var Xj=z("cast.player.api.Player");U.State={UNDERFLOW:1,SEEKABLE:2};var V=function(a){this.name=a;this.rj=!1};V.prototype.parse=function(){this.rj=!0};var W=function(a){V.call(this,a);this.value=null};q(W,V);W.prototype.parse=function(a){V.prototype.parse.call(this,a);void 0!==a&&-1<a.indexOf("/")?(a=a.split("/"),this.value=parseInt(a[0],10)/(1<a.length?parseInt(a[1],10):1)):this.value=parseInt(a,10)};var X=function(a,b){V.call(this,a);this.value=b||null};q(X,V);X.prototype.parse=function(a){V.prototype.parse.call(this,a);this.value=a};
var ck=function(a){V.call(this,a);this.value=null};q(ck,V);ck.prototype.parse=function(a){V.prototype.parse.call(this,a);this.value="true"==a.toLowerCase()};var dk=function(a){V.call(this,a);this.value=null};q(dk,V);
dk.prototype.parse=function(a){V.prototype.parse.call(this,a);if(a=a.match(Fe)){var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])a=null;else{b=parseInt(a[2],10)||0;var c=parseInt(a[3],10)||0,d=parseInt(a[4],10)||0,e=parseInt(a[6],10)||0,f=parseInt(a[7],10)||0,g=parseFloat(a[8])||0;a=a[1]?new Ge(-b,-c,-d,-e,-f,-g):new Ge(b,c,d,e,f,g)}}else a=null;this.value=60*(60*(24*a.kc+a.pc)+a.yc)+a.Cc};var ek=function(a){V.call(this,a);this.value=null};q(ek,V);
ek.prototype.parse=function(a){V.prototype.parse.call(this,a);a=a.toUpperCase();for(var b in fk)if(fk.hasOwnProperty(b)&&a.includes(fk[b])){this.value=fk[b];break}};var fk={PLAYREADY:"9A04F079-9840-4286-AB92-E65BE0885F95",WIDEVINE:"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",CLEARKEY:"1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B",Ek:"URN:MPEG:DASH:MP4PROTECTION:2011"},gk=function(a){V.call(this,a);this.value=null};q(gk,V);
gk.prototype.parse=function(a){V.prototype.parse.call(this,a);a=a.toUpperCase();a.includes("9A04F079-9840-4286-AB92-E65BE0885F95")?this.value=Gf:a.includes("EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED")?this.value=Hf:a.includes("1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B")&&(this.value=If)};var hk=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c]instanceof V){var d=b[c];if(!d.rj){var e=a.getNamedItem(d.name);e&&d.parse(e.value)}}};var jk=function(a){this.duration=new dk("mediaPresentationDuration");this.type=new X("type");this.Ck=new dk("minimumUpdatePeriod");for(this.url=null;a;){if("MPD"==a.nodeName){hk(a.attributes,this);break}a=a.nextElementSibling}this.Od=[];if(a){for(var b=n(a.children),c=b.next();!c.done;c=b.next())if(c=c.value,"BaseURL"==c.nodeName){this.url=c.textContent;break}a=n(a.children);for(c=a.next();!c.done;c=a.next())b=c.value,"Period"==b.nodeName&&this.Od.push(new ik(b,this))}},kk=function(a){V.call(this,
a);this.end=this.start=null};q(kk,V);kk.prototype.parse=function(a){V.prototype.parse.call(this,a);a=a.split("-");this.start=parseInt(a[0],10);this.end=parseInt(a[1],10)};
var lk=function(a){this.media=new X("media");hk(a.attributes,this)},mk=function(a){this.tk=new X("sourceURL");this.ya=new kk("range");hk(a.attributes,this)},nk=function(a){this.duration=new W("duration");this.timescale=new W("timescale");this.U=new X("presentationTimeOffset");this.I=new W("startNumber");this.Vc=new kk("indexRange");hk(a.attributes,this);this.hd=this.ue=null;a=n(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "Initialization":this.ue=new mk(b);break;
case "SegmentTimeline":this.hd=[];b=n(b.children);for(var c=b.next();!c.done;c=b.next()){var d=c.value;c=0;var e=d.attributes.getNamedItem("r");e&&(c=parseInt(e.value,10));e=(e=d.attributes.getNamedItem("t"))?new Ng(e.value):null;if(d=d.attributes.getNamedItem("d"))for(d=parseInt(d.value,10),this.hd.push({time:e,duration:d}),e=0;e<c;e++)this.hd.push({time:null,duration:d})}}};
nk.prototype.Sa=function(a){null===a.duration.value&&(a.duration=this.duration);null===a.timescale.value&&(a.timescale=this.timescale);null===a.U.value&&(a.U=this.U);null===a.I.value&&(a.I=this.I);null===a.Vc.start&&(a.Vc=this.Vc);null===a.ue&&(a.ue=this.ue);null===a.hd&&(a.hd=this.hd)};var ok=function(a){nk.call(this,a);this.c=[];a=n(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "SegmentURL":this.c.push(new lk(b))}};q(ok,nk);
ok.prototype.Sa=function(a){nk.prototype.Sa.call(this,a);0==a.c.length&&(a.c=this.c)};var pk=function(a){nk.call(this,a);this.media=new X("media");this.ma=new X("initialization");hk(a.attributes,this)};q(pk,nk);pk.prototype.Sa=function(a){nk.prototype.Sa.call(this,a);null===a.media.value&&(a.media=this.media);null===a.ma.value&&(a.ma=this.ma)};
var rk=function(a){this.schemeIdUri=new ek("schemeIdUri");hk(a.attributes,this);var b=this.schemeIdUri.value;this.Te=qk(b,a);this.oc=b==fk.Ek},qk=function(a,b){switch(a){case fk.PLAYREADY:a=n(b.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "mspr:pro":return Ai(Ud(window.atob(b.childNodes[0].nodeValue.trim())));case "cenc:pssh":return a=Ud(window.atob(b.childNodes[0].nodeValue)),a=new hh(a),Ai(a.getData())}return sk(Gf);case fk.WIDEVINE:return sk(Hf);case fk.CLEARKEY:return sk(If);
default:return null}},sk=function(a){return{systemId:a,qe:null,De:null,url:null,Tf:0}},tk=function(a){this.We=[];this.oc=!1;this.Yb=this.D=this.Zb=this.url=null;a=n(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "BaseURL":this.url=b.textContent;break;case "ContentProtection":b=new rk(b);b.Te&&this.We.push(b.Te);this.oc=this.oc||b.oc;break;case "SegmentBase":this.Yb=new nk(b);break;case "SegmentTemplate":this.D=new pk(b);break;case "SegmentList":this.Zb=new ok(b)}};
tk.prototype.Sa=function(a){a.D?this.D&&this.D.Sa(a.D):a.D=this.D;a.Yb?this.Yb&&this.Yb.Sa(a.Yb):a.Yb=this.Yb;a.Zb?this.Zb&&this.Zb.Sa(a.Zb):a.Zb=this.Zb;if(a.url&&this.url){var b=this.url;var c=a.url;b instanceof I||(b=hf(b));c instanceof I||(c=hf(c));b=b.resolve(c).toString()}else b=a.url||this.url;a.url=b;0==a.We.length&&(a.We=this.We);a.oc=a.oc||this.oc};var uk=function(a){tk.call(this,a);this.id=new X("id");this.mimeType=new X("mimeType");this.codecs=new X("codecs");hk(a.attributes,this)};
q(uk,tk);uk.prototype.Sa=function(a){tk.prototype.Sa.call(this,a);a.mimeType.value=a.mimeType.value||this.mimeType.value;a.codecs.value=a.codecs.value||this.codecs.value};
var vk=function(a,b){uk.call(this,a);this.Ok=new W("bandwidth");this.height=new W("height");this.width=new W("width");hk(a.attributes,this);b.Sa(this);if(this.mimeType.value)switch(this.mimeType.value.toLowerCase()){case "application/ttml+xml":this.codecs.value="ttml";this.mimeType.value="text/mp4";break;case "text/vtt":this.codecs.value="webvtt"}"avc1"==this.codecs.value&&(this.codecs.value="avc1.4D401E")};q(vk,uk);
var wk=function(a,b){uk.call(this,a);this.language=new X("lang");this.frameRate=new W("frameRate");hk(a.attributes,this);this.role=null;b.Sa(this);this.v=[];a=n(a.children);for(b=a.next();!b.done;b=a.next())b=b.value,"Representation"==b.nodeName?this.v.push(new vk(b,this)):"Role"==b.nodeName&&(this.role=b.getAttribute("value"))};q(wk,uk);
var ik=function(a,b){tk.call(this,a);this.duration=new dk("duration");this.start=new dk("start");hk(a.attributes,this);this.url=this.url||b.url;this.h=[];a=n(a.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "AdaptationSet":this.h.push(new wk(b,this))}};q(ik,tk);var xk=function(a){R.call(this,a);this.Xe=new Wc(5);this.ug=!1;this.fd=[];this.Vi=[]};q(xk,R);xk.prototype.updateLicenseRequestInfo=function(a){var b=this.Xe.get(a.protectionSystem);b&&(a.headers={},a.headers["content-type"]="text/xml;charset=utf-8",a.url=b.url)};
xk.prototype.Ph=function(a){if(a.Od&&0!=a.Od.length){Ii(this,"dynamic"==a.type.value);this.ri=!!this.S&&"number"===typeof a.Ck.value;a.duration.value&&(this.duration=a.duration.value);a:{var b=a.Od;var c=b[0];if(c.h[0].D){var d=[],e=[];b=n(b);for(var f=b.next();!f.done;f=b.next()){f=f.value;for(var g=f.duration.value,h=0,l=[],m=n(f.h),p=m.next();!p.done;p=m.next()){var u=p.value;p=u.D;if(!p){D(yk,"Multiple periods not using SegmentTemplate is not supported");c=[{start:c.start.value,duration:c.duration.value,
Me:null}];break a}u=this.uri.resolve(new I(u.v[0].url)).toString();var v=new I(u);e[h]=e[h]||0;u=e[h];var w={za:0,U:0,c:[],url:null,D:null,I:null,yb:null};zk(v,p,w);p=Ak(v,p);p={I:w.I,U:w.U,nj:u,D:p};l.push(p);e[h]+=Math.round(g/p.D.duration);h++}d.push({start:f.start.value,duration:f.duration.value,Me:l})}c=d}else c=[{start:c.start.value,duration:c.duration.value,Me:null}]}this.fd=c;a=n(a.Od[0].h);for(c=a.next();!c.done;c=a.next()){d=c.value;e=d.v;c=e[0].mimeType.value;e=d.codecs.value||e[0].codecs.value||
"";if(null===c){this.host.T(422,void 0,"No mime type in manifest",yk);break}if(Id(c))b=1;else if(Jd(c))b=2;else if(Df(d.role,c,e))b=3;else continue;c={name:d.id.value,type:b,enabled:!1,Ta:!1,Z:!0,index:-1,X:-1,v:[],language:d.language.value,mimeType:c,codecs:e,role:d.role};d=n(d.v);for(e=d.next();!e.done;e=d.next()){e=e.value;b=n(e.We);for(f=b.next();!f.done;f=b.next())f=f.value,(g=Bk(f.systemId))&&this.Xe.set(g,f);e.oc&&(this.ug=!0);f=this.uri.resolve(new I(e.url)).toString();b={za:e.Ok.value||0,
id:e.id.value,U:0,c:[],url:f,I:null,D:null,yb:null};e.Yb||e.Zb||e.D?(e.url&&"/"!=f[f.length-1]&&(f+="/"),f=new I(f),zk(f,e.Yb,b),(g=e.Zb)&&zk(f,g,b),e=e.D,g=b,e&&(zk(f,e,g),g.D=Ak(f,e))):(e=f,f=this.duration,b.c.push({time:0,Vb:new Ng("0"),duration:f,url:e}));c.v.push(b)}c.Ta=!0;this.h.push(c)}}else this.host.T(421,void 0,"No periods found in manifest",yk)};
var Ck=function(a){if(Sf&&Sf.updateOutputMode){var b=a.frameRate.value;if("number"===typeof b){a=n(a.v);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=d.width.value;var e=d.height.value;if(Uf(c,e)){a=d.codecs.value;E(yk,"Update output mode with frameRate="+b+" codecs="+a);Sf.updateOutputMode(c,e,b,a);break}}}}},Dk=function(a){a=n(a.Od);for(var b=a.next();!b.done;b=a.next()){var c={};b=n(b.value.h);for(var d=b.next();!d.done;c={Mg:c.Mg},d=b.next())d=d.value,c.Mg=d.frameRate.value,d.v=d.v.filter(function(e){return function(f){var g=
e.Mg;if(Tf){var h=f.codecs.value;var l=f.mimeType.value;var m=f.width.value;f=f.height.value;if(Uf(m,f)&&h&&l){l=l+"; codecs="+Pf(h);m&&f&&(l+="; width="+m+"; height="+f);"number"===typeof g&&(l+="; framerate="+g);b:{g=!1;h=h.split(",");for(m=0;m<h.length;m++){if(h[m].match(Ld)){h=!1;break b}0===h[m].indexOf("hev1.2")&&(g=!0)}h=g}h&&(l+="; eotf=smpte2084");h=Tf(l);E(yk,"canDisplay("+l+"): "+!!h);l=h}else l=!0}else l=!0;return l}}(c)),Ck(d)}};k=xk.prototype;k.ci=function(){this.host.T(321,xi(this.$c))};
k.Db=function(a){this.host.T(420,void 0,a,yk)};k.Zh=function(a){a=(new DOMParser).parseFromString(a,"text/xml");a.firstChild&&(a=new jk(a.firstChild),this.bi=1E3*a.Ck.value||this.bi,Dk(a),this.Ph(a))};k.yi=function(){this.ug||Rj(this.Bc,this.Xe.Ya())};k.Ca=function(a){var b=this.h[a];b=b.v[b.X];return 0==b.c.length&&b.D?(a=this.duration,this.S&&(a-=20),{start:0,end:a}):R.prototype.Ca.call(this,a)};var Fk=function(a,b,c){c=Ek(a,b,c);a.Vi[b]!=c&&(a.h[b].Z=!0);a.Vi[b]=c};
xk.prototype.seek=function(a,b){var c=this.h[a],d=c.v[c.X];if(0==d.c.length&&d.D){var e=this.Ca(a);b<e.start&&(b=e.start);b>e.end&&(b=e.end);e=Math.floor(b/d.D.duration);d=Math.ceil(this.duration/d.D.duration);c.index=e<d?e:d-1;Fk(this,a,c.index);return b}return R.prototype.seek.call(this,a,b)};
xk.prototype.tc=function(a){var b=this.h[a],c=b.v[b.X];if(0==c.c.length&&c.D){var d=b.index+1;return d<Math.ceil(this.duration/c.D.duration)?(b.index=d,Fk(this,a,b.index),!0):!1}return R.prototype.tc.call(this,a)};var Ek=function(a,b,c){a=a.fd;for(var d=0;d<a.length-1&&!(c<a[d+1].Me[b].nj);d++);return d};k=xk.prototype;k.rc=function(a){var b=this.h[a],c=b.v[b.X];return 0==c.c.length&&c.D?b.index==Math.ceil(this.duration/c.D.duration)-1:R.prototype.rc.call(this,a)};
k.getSegmentInterval=function(a){if(this.Jd(a))return{time:0,duration:0};var b=this.h[a],c=b.v[b.X];if(c.D){b=b.index;if(0>b)return{time:0,duration:0};0<c.c.length?(a=c.c[b].duration,c=c.c[b].time-c.U):(a=c.D.duration,c=b*a);return{time:c,duration:a}}return R.prototype.getSegmentInterval.call(this,a)};
k.updateSegmentRequestInfo=function(a,b){R.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.h[a],d=c.v[c.X];c=c.index;var e=this.Jd(a);if(d.D){var f=d.D,g=null;1<this.fd.length&&(g=this.fd[Ek(this,a,c)].Me[a],f=g.D);a=e?f.ma:f.url;a=a.replace(/\$RepresentationID\$/g,d.id);a=a.replace(/\$Bandwidth\$/g,d.za.toString());e||(e=c+(d.I||0),1<this.fd.length&&(e=c+(g.I||0)-g.nj),a=Gk(a,e),a=a.replace("$Time$",0<d.c.length?d.c[c].Vb.toString():(c*f.duration).toString()));b.url=a}else{g=f=null;
if(e)c=d.yb,d=c.url?c.url:d.url,c.ya&&(f=c.ya.start,g=c.ya.end);else if(c<d.c.length)c=d.c[c],c.url?d=c.url:(d=d.url,f=c.offset,g=c.offset+c.size-1);else{this.host.T(423,void 0,"Invalid segment info in manifest.",yk);return}b.url=d;b.headers={};null!==f&&null!==g&&(b.headers.Range="bytes="+f+"-"+g)}};
k.processSegment=function(a,b,c){var d=this.h[a],e=d.v[d.X],f=b.data;if(this.ug&&this.Bc){var g=P(f,1886614376,void 0,!0);if(g=null===g?null:{systemId:g.ti,url:null,qe:null,De:null,Tf:0}){var h=Bk(g.systemId);h&&(this.Xe.set(h,g),Rj(this.Bc,this.Xe.Ya()),this.ug=!1)}}if(b.Ed)if(a=(a=P(f,1836019574))?M(a):null,null===a)this.host.T(322,void 0,"no init",yk);else{if(!e.D&&0==e.c.length){d=0;b.Ed&&e.yb&&e.yb.ya&&(d=e.yb.ya.start);f=(f=P(f,1936286840))?f.oh(d):null;if(!f){D(yk,"no segments");return}e.c=
f}Ej(c,a,{time:b.interval.time,duration:0},0,!1)}else b=b.interval,e=e.U,1<this.fd.length&&(e=this.fd[Ek(this,a,d.index)],e=e.Me[a].U-e.start),Ej(c,f,b,b.time+e,d.Z,void 0,!0),d.Z=!1};k.Df=function(){return 1};
var Bk=function(a){return Gf.Ob(a)?"playready":Hf.Ob(a)?"widevine":If.Ob(a)?"clearkey":null},zk=function(a,b,c){if(b){null!==b.I.value&&(c.I=b.I.value);var d=b.timescale.value||1,e=new Ng(b.U.value||"0");c.U=parseInt(e.toString(),10)/d;e=new Ng(e.toString());var f=b.c,g=b.hd,h=0;g?h=g.length:f&&0<f.length&&(h=f.length);for(var l=0;l<h;l++){var m=g?g[l].duration:b.duration.value||0;g&&g[l].time&&(e=new Ng(g[l].time.toString()));var p=parseInt(e.toString(),10)/d,u=new Ng(e.toString());if(!f||0>=f.length)var v=
null;else{v=f[l].media.value;var w=a.resolve(new I(v)).toString();v=!v&&w.endsWith("/")?w.slice(0,-1):w}c.c.push({time:p,Vb:u,duration:m/d,url:v});e.add(m)}(d=c.yb)||(f=e=d=null,g=!0,(h=b.ue)&&h.tk.value?(g=!1,d=h.tk.value,h.ya.start&&h.ya.end&&(e=h.ya.start,f=h.ya.end)):(e=0,h&&h.ya.start&&h.ya.end&&(e=h.ya.start,f=h.ya.end,g=!1),b.Vc.start&&b.Vc.end&&(e=Math.min(e,b.Vc.start),f=Math.max(f,b.Vc.end),g=!1),f||(f=2048)),d=g?null:{url:d?a.resolve(new I(d)).toString():null,ya:null!==e&&null!==f?{start:e,
end:f}:null,data:null});c.yb=d}},Ak=function(a,b){return{duration:(b.duration.value||0)/(b.timescale.value||1),url:a.resolve(new I(b.media.value)).toString(),ma:b.ma.value?a.resolve(new I(b.ma.value)).toString():null}},Gk=function(a,b){return a.replace(/\$Number(%0\d*[diuxXo]){0,1}\$/g,function(c){var d=c.indexOf("%0");if(0>d)return b;d=parseInt(c.substring(d+2,c.length-2),10);switch(c.substr(c.length-2,1)){case "x":return Lf(b,16,d);case "X":return Lf(b,16,d).toUpperCase();case "o":return Lf(b,8,
d);default:return Lf(b,10,d)}})},yk=z("cast.player.dash.Protocol");var Hk=function(a){this.Wf=a;this.se=null;this.ui=this.Lc=0},Ik=function(a,b){b=b.length>a.Lc?b.subarray(0,a.Lc):b;L(a.se,b);a.Lc-=b.length};
Hk.prototype.append=function(a,b,c,d){b=b.subarray(c,d);if(this.se)return Ik(this,b),0==this.Lc&&(this.Wf&&this.Wf("ID3",Rg(this.se),this.ui),this.Lc=this.ui=this.se=null),0;c=0;73!=b[c++]||68!=b[c++]||51!=b[c++]?c=null:(c+=3,d=b[c++]<<21|b[c++]<<14|b[c++]<<7|b[c++],c+=d);if(null===c)return 0;if(c<=b.length)return this.Wf&&this.Wf("ID3",b.subarray(0,c),a),c;this.se=new Qg(c);this.ui=a;this.Lc=c;Ik(this,b);return 0};var Jk=function(a,b,c,d){sh.call(this);this.sc=d;this.kb=null;this.If=b?new Hk(b):null;this.Oh=Infinity;this.hm=c;for(this.ma(a);!this.Lf();)this.parse()};q(Jk,sh);Jk.prototype.Tc=function(){return this.Oh};Jk.prototype.$h=function(a){sh.prototype.$h.call(this,a);null===this.kb&&(this.kb=this.sc?this.Wb:this.Ad);a=Kk(this.kb,this.sc?this.Wb:this.Ad);a<this.Oh&&(this.Oh=a)};
Jk.prototype.Xj=function(a,b,c){if(this.If){a=new dg(this.o.subarray(a,b+1));if(c){if(1!=J(a)>>8)return;K(a,2);K(a,2);c=eg(a);K(a,c)}null===this.kb&&(this.kb=this.Ad);this.If.append(this.hm+(Kk(this.kb,this.Wb)-this.kb),lg(a),0)}};var Kk=function(a,b){var c=Math.floor(a/95443.7176888889),d=95443.7176888889*(c-1)+b,e=95443.7176888889*(c+0)+b;b=95443.7176888889*(c+1)+b;c=Math.abs(d-a);var f=Math.abs(e-a);a=Math.abs(b-a);var g=c;f<c&&(d=e,g=f);a<g&&(d=b);return d};var Mk=function(a,b){var c=new Sg;(new Xi(Hf,Lk(a,b))).j(c);return Rg(c)},Lk=function(a,b){var c=new nf;ve(c,1,1);var d=Mf(a.Be);H(c,2).push(d);ve(c,3,a.Vl);if(a=a.Vk){b&&(a=window.atob(a));b=[];for(d=0;d<a.length;d++)b.push(a.charCodeAt(d));b=new Uint8Array(b);ve(c,4,b)}ve(c,9,1667392371);return c.qg()},Nk=[71,64,1,16,0,1,176,45,255,255,193,0,0,9,34,99,101,224,16,99,98,99,115,0,1,0,0,1,0,16,1,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,143,19,198,145,164,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,71,64,17,16,127,255,255,255,0,0,0,32,112,115,115,104,0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,71,64,16,48,147,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,79,16,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,1,112,213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183];var Ok=function(a,b,c){this.El=a;this.sampleRate=b;this.qb=c;this.uc=void 0},Pk=function(a,b,c,d){this.width=a;this.height=b;this.kd=c;this.Qe=d},Qk=function(a,b,c,d,e,f){this.Cb=a;this.Gc=b;this.Tk=c;this.nl=d;this.audio=e;this.video=f},Rk=function(a){S.call(this,1836019574);this.l=a};q(Rk,S);Rk.prototype.A=function(){(new Yi(this.l.Gc)).j(this.b);var a=this.l.Cb;a&&a.qe&&(new Xi(a.systemId,a.qe)).j(this.b);(new Sk(this.l)).j(this.b);(new Tk(this.l)).j(this.b)};
var Tk=function(a){S.call(this,1953653099);this.l=a};q(Tk,S);Tk.prototype.A=function(){var a=0,b=0,c=this.l.video;c&&(a=c.width,b=c.height);(new Vi(a,b)).j(this.b);(new Uk(this.l)).j(this.b)};var Uk=function(a){S.call(this,1835297121);this.l=a};q(Uk,S);Uk.prototype.A=function(){(new Ui(this.l.Gc)).j(this.b);(new Ti(this.l.nl)).j(this.b);(new Vk(this.l)).j(this.b)};var Vk=function(a){S.call(this,1835626086);this.l=a};q(Vk,S);Vk.prototype.A=function(){(new Wk(this.l)).j(this.b)};
var Wk=function(a){S.call(this,1937007212);this.l=a};q(Wk,S);Wk.prototype.A=function(){(new Xk(this.l)).j(this.b);this.l.video&&(new Oi).j(this.b)};var Xk=function(a){T.call(this,1937011556,0,0);this.l=a};q(Xk,T);Xk.prototype.A=function(){this.b.i(1);(this.l.video?new Yk(this.l):new Zk(this.l)).j(this.b)};var Zk=function(a){S.call(this,a.Cb?1701733217:1836069985);this.l=a};q(Zk,S);
Zk.prototype.A=function(){L(this.b,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0]);this.b.i(this.l.audio.sampleRate<<16);(new Mi(this.l.audio.El,this.l.audio.qb)).j(this.b);this.l.Cb&&(new $k(this.l)).j(this.b)};var Yk=function(a){S.call(this,a.Cb?1701733238:1635148593);this.l=a};q(Yk,S);
Yk.prototype.A=function(){L(this.b,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);this.b.qd(this.l.video.width);this.b.qd(this.l.video.height);L(this.b,[0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);(new Ni(this.l.video.kd,this.l.video.Qe)).j(this.b);this.l.Cb&&(new $k(this.l)).j(this.b)};var Sk=function(a){S.call(this,1836475768);this.l=a};q(Sk,S);Sk.prototype.A=function(){(new Wi(!this.l.video)).j(this.b)};
var $k=function(a){S.call(this,1936289382);this.l=a};q($k,S);$k.prototype.A=function(){(new Si(this.l.Tk)).j(this.b);(new Ri(this.l.Cb.scheme||1667591779,0)).j(this.b);(new al(this.l)).j(this.b)};var al=function(a){S.call(this,1935894633);this.l=a};q(al,S);al.prototype.A=function(){var a=this.l.Cb;a&&a.De&&(new Pi(a.Tf,a.De,a.Uk)).j(this.b)};var bl=function(a,b,c,d,e){Rk.call(this,new Qk(a,b,1836069985,1936684398,new Ok(c,d,e),null))};q(bl,Rk);
var cl=function(a,b,c,d,e,f){Rk.call(this,new Qk(a,b,1635148593,1986618469,null,new Pk(c,d,e,f)))};q(cl,Rk);var dl=function(a,b,c,d){S.call(this,1836019558);this.l={$l:a,Pk:b,am:c,jk:d}};q(dl,S);dl.prototype.A=function(){(new aj(0)).j(this.b);(new el(this.l)).j(this.b)};var el=function(a){S.call(this,1953653094);this.l=a};q(el,S);el.prototype.A=function(){this.l.jk&&(new Qi(this.l.jk)).j(this.b);(new Zi(this.l.$l)).j(this.b);(new Ki(this.l.Pk)).j(this.b);(new $i(this.l.am)).j(this.b)};var fl=function(a,b,c){S.call(this,1836019558);this.ge=b;this.Nl=a;this.vg=c};q(fl,S);
fl.prototype.A=function(){for(var a=qh(N(this.Nl),void 0);0<a.length;){var b=a.shift();switch(b.Za()){case 1953653094:(new gl(b,this.ge,this.vg)).j(this.b);break;default:b.j(this.b)}}};var gl=function(a,b,c){S.call(this,1953653094);this.ge=b;this.Ol=a;this.vg=c};q(gl,S);
gl.prototype.A=function(){for(var a=qh(N(this.Ol),void 0),b=null,c=!1,d=!1;0<a.length;){var e=a.shift();switch(e.Za()){case 1970628964:e instanceof bh&&(b=e);break;case 1952868452:var f=e;f.nc&32&&(this.vg=!1);Tg(N(f),0,1);e.j(this.b);break;case 1953658222:(new hl(e,this.vg)).j(this.b);break;case 1935763823:c=!0;e.j(this.b);break;case 1935763834:d=!0;e.j(this.b);break;default:e.j(this.b)}}(new Ki(this.ge)).j(this.b);b&&(d||(new Li(b.Ch?0:8,b.og)).j(this.b),c||(new Ji(0)).j(this.b))};
var hl=function(a,b){var c=a.nc,d=!1;var e=null;c&1||(d=!0,c|=1);!b||c&1024||c&4||(c|=4,e=0);b=d;T.call(this,1953658222,a.ka,c);this.dm=b;this.dj=e;this.Pl=a};q(hl,T);hl.prototype.A=function(){var a=new Pg(N(this.Pl));this.b.i(J(a));this.dm&&this.b.i(0);null!==this.dj&&this.b.i(this.dj);L(this.b,lg(a))};var il=function(a,b,c){dg.call(this,a);this.If=new Hk(b);this.wf=c};q(il,dg);il.prototype.kg=function(){throw Error("readAudioHeader is not implemented");};var jl=function(a,b,c,d,e,f,g,h){this.Ji=a;this.uf=c;this.kb=d;this.Nh=f;this.wf=g;this.al=h;this.me=[];this.sampleRate=0;this.pg=e;this.he=new Uint8Array([0,0])};
jl.prototype.parse=function(a){for(var b=this.sf(this.uf),c=[],d=null;b.offset<b.buffer.length;){var e=b.If.append(a,b.buffer,b.offset);b.offset+=e;if(!e)if(d=b.kg())d.mk&&(this.pg=d.mk),c.push(jg(b,d.mh)),a+=this.pg/d.sampleRate;else return C(kl,"Neither ID3 nor ADTS header was found at "+lg(b).byteOffset),!1}if(null===d)return C(kl,"No ADTS header was found."),!1;b=Wg(d.profile,d.sampleRate,d.Qh);if(null===b)return C(kl,"Cannot generate audio codec private data."),!1;this.me=c;this.sampleRate=d.sampleRate;
this.he=b;return!0};jl.prototype.sf=function(){throw Error("createdataReader is not implemented");};jl.prototype.Tc=function(){return this.kb};jl.prototype.Dd=function(){throw Error("getTimeScale is not implemented");};var kl=z("cast.player.hls.PackedAudioParser");var ll=function(a,b){il.call(this,a,b)};q(ll,il);ll.prototype.kg=function(){var a=this.buffer.subarray(this.offset);if(255!=a[0]||240!=(a[1]&240))return null;var b=((a[3]&3)<<11)+(a[4]<<3)+((a[5]&224)>>5),c=a[2]>>2&15,d=a[1]&1?7:9;this.offset+=d;return{profile:(a[2]>>6&3)+1,sampleRate:Ug[c],Qh:(a[2]<<2&4)+(a[3]>>6&3),mh:b-d}};var ml=function(a,b,c,d,e,f){var g=a.match("mp4a.67")?103:64;jl.call(this,g,a,b,c,1024,d,e,f)};q(ml,jl);ml.prototype.sf=function(a){return new ll(a,this.Nh)};
ml.prototype.Dd=function(){return 1E6};var nl=[48E3,44100,32E3],ol=[[64,69,96],[64,70,96],[80,87,120],[80,88,120],[96,104,144],[96,105,144],[112,121,168],[112,122,168],[128,139,192],[128,140,192],[160,174,240],[160,175,240],[192,208,288],[192,209,288],[224,243,336],[224,244,336],[256,278,384],[256,279,384],[320,348,480],[320,349,480],[384,417,576],[384,418,576],[448,487,672],[448,488,672],[512,557,768],[512,558,768],[640,696,960],[640,697,960],[768,835,1152],[768,836,1152],[896,975,1344],[896,976,1344],[1024,1114,1536],[1024,1115,1536],
[1152,1253,1728],[1152,1254,1728],[1280,1393,1920],[1280,1394,1920]],pl=function(a,b,c){il.call(this,a,b,c)};q(pl,il);pl.prototype.kg=function(){var a=this.buffer.subarray(this.offset),b=0;if(11!=a[b++]||119!=a[b++])return null;b+=2;var c=a[b++];b=c>>6&3;c=ol[c&63];return void 0===c?(this.wf(316),null):{profile:(a[2]>>6&3)+1,sampleRate:nl[b],Qh:6,mh:2*c[b]}};var ql=function(a,b,c,d,e,f){jl.call(this,165,a,b,c,1536,d,e,f)};q(ql,jl);ql.prototype.sf=function(a){return new pl(a,this.Nh,this.wf)};
ql.prototype.Dd=function(){return this.sampleRate};var rl=function(a,b){this.a=a;this.wh=!1;this.Ug=b;this.Th=this.Kl.bind(this);this.Sh=this.$f.bind(this)};rl.prototype.cancel=function(){this.wh=!0};rl.prototype.$f=function(a){if(!this.wh){var b=void 0;a&&a.name&&a.message&&(b=a.name+": "+a.message);this.a.T(203,void 0,b)}};rl.prototype.Kl=function(a){this.wh||this.Ug(a)};var sl=function(a,b,c,d,e){rl.call(this,a,b);window.crypto.subtle.decrypt({name:"AES-CBC",iv:d},c,e).then(this.Th,this.Sh)};q(sl,rl);var tl=[1,2,3,6],ul=z("cast.player.hls.Eac3Reader"),vl=function(){il.apply(this,arguments)};q(vl,il);vl.prototype.kg=function(){var a=this.buffer.subarray(this.offset);if(11!=a[0]||119!=a[1])return null;var b=a[2]<<8&1792|a[3],c=a[4]>>6&3;3===c?(c=a[4]>>4&3,a=3,c=3>c?nl[c]/2:void 0):(a=a[4]>>4&3,c=nl[c]);return void 0===c?(C(ul,"Cannot determine sample rate."),null):{profile:0,sampleRate:c,mk:256*tl[a],Qh:6,mh:2*(b+1)}};var wl=function(a,b,c,d,e,f){jl.call(this,166,a,b,c,256,d,e,f)};q(wl,jl);wl.prototype.sf=function(a){return new vl(a,this.Nh,this.wf)};wl.prototype.Dd=function(){return this.sampleRate};var xl=function(a,b,c){rl.call(this,a,b);window.crypto.subtle.importKey("raw",c,{name:"AES-CBC"},!0,["decrypt"]).then(this.Th,this.Sh)};q(xl,rl);var yl=function(a){this.Na=-1;this.m=null;this.zl=this.yl.bind(this);this.Ql=a};yl.prototype.yl=function(a,b){for(var c=0,d=null,e=0;e<b.length;e++)if(null!==b[e].Ac){c=e;d=b[e].Ac;break}if(null===d)return null;b=-1;e=Infinity;for(var f=0;f<a.length;f++){var g=Math.abs(a[f].Ac-d);if(100>g)return f-c;g<e&&(b=f,e=g)}return 0>b||e>500*this.m.xg?-1:b-c};var zl=function(a,b){b=b[0].li;for(var c=0;c<a.length;c++)if(a[c].li==b)return c;return null};k=yl.prototype;
k.update=function(a,b){b=void 0===b?!1:b;if(0>this.Na)this.m=a;else if(0==a.c.length)D(Al,"new manifest has no segment");else{var c=this.m.c,d=c[this.Na],e=a.c,f={Cd:zl,zj:"sequence number"};var g={Cd:this.zl,zj:"program date time"};g=this.m.ph&&a.ph?this.Ql?[f,g]:[g,f]:[f];a:{f=b;f=void 0===f?!1:f;g=n(g);for(var h=g.next();!h.done;h=g.next()){h=h.value;b:{var l=this.Na;var m=h.Cd,p=f;p=void 0===p?!1:p;var u=m(c,e);if(null===u){u=m(e,c);if(null===u){l=-1;break b}u*=-1}m=l-u;!(l<u)||this.m.S&&p?m>=
e.length&&(e.length=0,Array.prototype.push.apply(e,c),m=l):(l=c[l],0<e.length&&(e[0].ke=!0),e.splice(0,0,l),m=0);l=m}if(0>l)D(Al,"No match was found using "+h.zj);else{c=l;break a}}c=-1}!(0>c)||this.m.S&&b||(D(Al,"New segments are appended after current"),0<e.length&&(e[0].ke=!0),e.splice(0,0,d),c=0);0>c?(b=this.m.c[0],b=(this.Na-c)*b.duration+b.Ba):b=d.Ba-e[c].Ba;e=n(e);for(d=e.next();!d.done;d=e.next())d.value.Ba+=b;this.Na=0>c?0:c;this.m=a}};
k.next=function(){var a=this.Na+1;return a<this.m.c.length?(this.Na=a,!0):!1};k.rc=function(){return!this.m.S&&this.Na==this.m.c.length-1};k.Ca=function(){var a=this.m.c,b=a[0].Ba,c=a.length-1;a=a[c].Ba+a[c].duration;this.m.S&&(a-=3*this.m.xg,a<b&&(a=b));return{start:b,end:a}};
k.seek=function(a){var b=this.Ca();if(!b)return null;for(var c=this.m.c,d=n(c),e=d.next();!e.done;e=d.next())e.value.Z=!1;a<b.start&&(a=b.start);a>b.end&&(a=b.end);for(b=c.length-1;0<=b;b--)if(a>=c[b].Ba)return this.Na=b,c[this.Na].Z=!0,a;return null};var Bl=function(a){return 0>a.Na?null:a.m.c[a.Na]},Al=z("cast.player.hls.Iterator");var Cl=function(a,b,c){this.sc=c;c=P(a,1952867444,void 0,!0);var d=0;if(this.sc){var e=P(a,1953658222,void 0,!0);null!==e&&(e=e.mg,d+=0<e.length?e[0]:0);a=P(a,1701606260,void 0,!0);null!==a&&(e=a.Kh,1===a.fh&&(a=e[0],d-=0<a?a:0))}this.bc=(c.Tc()+d)/b};Cl.prototype.Tc=function(){return this.bc};var Dl=function(a,b,c,d){rl.call(this,a,b);cast.__platform__.crypto.unwrapKey("raw",c,d,{name:"RSA-OAEP",hash:{name:"SHA-256"}},{name:"AES-CBC",length:128},!1,["decrypt"]).then(this.Th,this.Sh)};q(Dl,rl);var Y=function(a,b,c,d){A.call(this);this.a=a;this.J=c;this.pa=d;this.Bk=b;this.Y=null;this.cb=new yl(1==this.a.preferSequenceNumberForPlaylistMatching);this.Nj=this.Il.bind(this);this.Yi=this.bl.bind(this);this.ji=this.jg=null;this.fk=-1;this.Le=null;this.g=new F;wd(this.g);B(this.g,"success",this.Gl,!1,this);B(this.g,"error",this.Jj,!1,this);B(this.g,"timeout",this.Jj,!1,this);this.B=new sf;this.B.setResponse=this.gj.bind(this);this.Ce=this.Re=this.Dh=this.zb=this.je=this.xi=null;this.Kd=this.Ie=
!1;this.Xd=!0;this.sa=null;this.Nk={};this.wc=this.ia=this.qc=null;this.xc=new Map;this.Bd=-1;a=(b=r.navigator.userAgent.match(/CrKey\/(\d+)\.(\d+)\.[\d]{6}/))&&parseFloat(b[1])||-1;b=b&&parseFloat(b[2])||-1;-1===a||-1===b?(D(El,"Platform version not detected in user agent!"),a=!1):a=a>=Fl&&b>=Gl;this.sc=a};q(Y,A);k=Y.prototype;k.G=function(){this.reset();this.g.L()};
k.reset=function(){this.Dh=this.wc=null;this.Xd=!0;this.qc=this.sa=this.Le=null;this.g.abort();this.Re&&(this.Re.cancel(),this.Re=null);this.je&&(this.je.cancel(),this.je=null);null!==this.ia&&clearTimeout(this.ia)};k.Il=function(a){this.Re=null;this.Ce=a;this.ia=setTimeout(this.Yi,0)};k.Gl=function(a){this.gj(Hd(a.target))};k.gj=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.a.processLicense&&(a=this.a.processLicense(a),Vd(a))){a.then(function(c){Hl(b,c)});return}Hl(this,a)}else this.a.T(313)};
var Hl=function(a,b){a.Re=a.a.rh?new Dl(a.a,a.Nj,b,a.xi):new xl(a.a,a.Nj,b)};Y.prototype.Jj=function(){this.a.T(314,new tf(this.B.url,this.g.Sb,Fd(this.g),this.g.getAllResponseHeaders(),Hd(this.g)))};Y.prototype.bl=function(){var a=this.Le.info,b=this.Le.data;a&&a.uc&&this.Ce&&b&&(E(El,"decrypt segment"),this.je=new sl(this.a,this.Sl.bind(this,a),this.Ce,a.uc,b),this.ia=this.Le=null)};Y.prototype.Sl=function(a,b){this.Se(a,new Uint8Array(b))};
Y.prototype.Se=function(a,b){E(El,"process segment");this.je=null;var c;if(null!=this.pa)switch(this.pa){case 0:var d=new Jk(b,this.a.processMetadata,a.Ba,this.sc);break;case 1:d=Il(this,a,b),a.fb&&(c=this.xc.get(a.fb))}if(null!=this.J)switch(this.J){case 2:case 6:case 1:if(a.Ui)d=Il(this,a,b);else{switch(this.J){case 2:d=ql;break;case 6:d=wl;break;default:d=ml}b=new d(this.Y.O.codecs,b,a.Ba,this.a.processMetadata,this.a.T.bind(this.a),this.a.decodeContentId);var e=a.ke||a.Z;d=this.Nk;var f=a.Ib||
void 0,g=a.uc||void 0,h=d.endOfLastSegment;h=e||void 0===h?b.kb:h;if(b.parse(h)){b.kb=h;d.endOfLastSegment=h+b.pg/b.sampleRate*b.me.length;d=new Sg(2*b.uf.length);e&&(e=null,f&&(e={systemId:Hf,url:null,qe:Lk(f,b.al),De:new Ff(Mf(f.Be),!1),Uk:g,Tf:g?g.length:16,scheme:1667392371}),E(kl,"Built AudioMoov with objectType(0x"+b.Ji.toString(16)+") and sampleRate("+b.sampleRate+")"),(new bl(e,b.Dd(),b.Ji,b.sampleRate,b.he)).j(d));g=h*b.Dd();e=b.pg/b.sampleRate*b.Dd();h=b.me;if(f){f=b.me;for(var l=[],m=0;m<
f.length;m++){var p=f[m].length;if(0==p%16)l.push({wk:[{Sg:16,Tg:p-16}]});else{var u=p%16;l.push({wk:[{Sg:16,Tg:p-16-u},{Sg:u,Tg:0}]})}}f=l}else f=void 0;(new dl(e,g,h,f)).j(d);(new bj(b.me)).j(d);d=Rg(d);lh(d)}else d=null;f=d;if(!f){this.a.T(315);return}d=b;b=f}break;case 4:break;case 7:d=Il(this,a,b);break;default:d=new Jk(b,this.a.processMetadata,a.Ba,this.sc)}if(a.ke||a.Z)this.sa=null,a.Z=!1;a={time:a.Ba,duration:a.duration};g=d?d.Tc():a.time;if(f=null===this.sa&&Infinity!=g)E(El,"start: "+g),
this.sa=4==this.J?0:g,this.qc=a,this.Bk&&(e=this.Bk,e.ha&&e.ha.Z(g,a));g=this.ji;this.ji=null;Ej(g,b,a,this.sa||0,f,c,d instanceof Cl||d instanceof jl)};
var Kl=function(a){a.a.rh&&!a.xi?cast.__platform__.cryptokeys.getKeyByName("CKP").then(function(b){a.xi=b;Jl(a)}):Jl(a)},Jl=function(a){a.Ce=null;a.B.url=a.zb;a.B.skipRequest=!1;if(a.a.updateLicenseRequestInfo&&(a.a.updateLicenseRequestInfo(a.B),a.B.skipRequest))return;a.g.ce=a.B.withCredentials;a.g.ec=Math.max(0,a.B.timeoutInterval);a.g.send(a.B.url,void 0,void 0,a.B.headers)};k=Y.prototype;
k.processSegment=function(a,b,c){this.ji=c;this.Le={data:b,info:a};(c=a.Gh)?this.zb==c&&null!==this.Ce?this.ia=setTimeout(this.Yi,0):(this.zb=c,Kl(this)):this.Se(a,b)};
k.updateSegmentRequestInfo=function(a){var b=Bl(this.cb);if(b){var c;if(this.Kd)this.Kd=!1,this.wc=c=b.fb,b=this.Y.w.Jh.get(c),c=b.Mb,b=b.url;else{if(1===this.pa||7===this.J)b.timescale=this.xc.get(b.fb)||null;a.Rd=b;this.Xd&&(b.Z=!0,this.Xd=!1);a.interval=this.getSegmentInterval();c=b.Mb;b=b.url}c&&(a.headers={},a.headers.Range="bytes="+c.start+"-"+c.end);a.url=b}};k.getSegmentInterval=function(){var a=Bl(this.cb);return a?{time:a.Ba,duration:a.duration}:{time:0,duration:0}};k.Ca=function(){return this.cb.Ca()};
k.rc=function(){return this.cb.rc()};var Ll=function(a){var b=Bl(a.cb);if(b){var c=b.Ib&&(b.Ib.Be!==a.Dh||b.ke)&&(0===a.J||0===a.pa);if(b.oi||c)a.Ie=!0;b.fb!==a.wc&&(a.Kd=!0)}};Y.prototype.tc=function(){var a=this.cb.next();a&&Ll(this);return a};Y.prototype.seek=function(a){a=this.cb.seek(a);"number"===typeof a&&Ll(this);return a};Y.prototype.Ke=function(){this.Bd=this.Y.duration;Ml(this,this.Y.w)};
var Ml=function(a,b){a.cb.update(b,a.a.mediaElement&&a.a.mediaElement.paused);a.jg&&(Gi(a.jg),a.jg=null)};Y.prototype.tg=function(a,b,c){this.fk=a;this.jg=b;this.Xd=!0;this.Y&&this.Y.w&&this.Y.w.S&&this.Y.Hc();this.Y=c;c.w?Ml(this,c.w):c.load()};Y.prototype.getQualityLevel=function(){return this.fk};Y.prototype.Z=function(a,b){this.Xd=!0;this.sa=a;this.qc=b};Y.prototype.sg=function(a){this.Y.w.Jh.get(this.wc).Oi=a;this.xc.set(this.wc,P(a,1835296868,void 0,!0).wa)};
var Il=function(a,b,c){var d=b.timescale||a.xc.get(b.fb)||null;!a.xc.get(b.fb)&&d&&a.xc.set(b.fb,d);if(null===d)throw Error("Unable to derive timescale");return new Cl(c,d,a.sc)};
Y.prototype.ne=function(){var a=Bl(this.cb),b=a.fb;if(b&&b!==this.wc){if(a=this.Y.w.Jh.get(b).Oi)this.Kd=!1,this.wc=b,this.xc.get(b)||this.xc.set(b,P(a,1835296868,void 0,!0).wa);return a}if(a.oi)return this.Ie=!1,(b=Nf("hls-sample-aes-init-segment"))&&b.clear_leader?Ud(window.atob(b.clear_leader)):null;if(!a.Ib||!a.uc)return null;this.Ie=!1;this.Dh=a.Ib.Be;b=a.Ib;a=a.uc;var c=this.a.decodeContentId;var d=(d=Nf("hls-sample-aes-init-segment"))?{ek:d.pssh_offset,uj:d.key_id_offset,tj:d.iv_offset,xk:Ud(window.atob(d.template))}:
{ek:196,uj:530,tj:548,xk:new Uint8Array(Nk)};var e=d.xk;e.set(Mk(b,c),d.ek);e.set(Mf(b.Be),d.uj);e.set(a,d.tj);return e};Y.prototype.Cf=function(){var a=Bl(this.cb);return a?a.kf:null};Y.prototype.Jd=function(){Ll(this);var a=this.Ie||this.Kd;return a||1!==this.pa&&7!==this.J?a:(a=Bl(this.cb))&&a.fb!==this.wc?this.Kd=!0:this.Ie};Y.prototype.getDuration=function(){return this.Bd};var El=z("cast.player.hls.Adaptation"),Nl=function(a){Y.call(this,a,null,3)};q(Nl,Y);
Nl.prototype.tc=function(){return null===this.sa||null===this.qc?!1:Y.prototype.tc.call(this)};Nl.prototype.seek=function(a){return null===this.sa||null===this.qc?null:Y.prototype.seek.call(this,a)};Nl.prototype.processSegment=function(a,b,c){var d={time:a.Ba,duration:a.duration},e=!1;if(null===this.sa||null===this.qc)b=new Uint8Array(0);else if(this.Xd||a.Z)d=this.qc,e=!0;Ej(c,b,d,this.sa||0,e)};var Fl=1,Gl=42;var Ol=function(a,b,c){this.Qk=new I(a);this.J=b;this.pa=c;this.f=0;this.Gd=this.be=this.ae=this.zb=this.cc=this.Ha=null;this.hh=this.Dc=0;this.pi=this.eh=!1;this.Qd=null;this.jj=this.ij=!1;this.Bj=new Map;this.Hh=this.Vf=null;this.m={qj:!1,S:!0,dg:null,Ue:"none",ph:!1,xg:0,vi:0,c:[],mb:[],ad:[],pe:!1,Jh:this.Bj,Ai:null}};
Ol.prototype.parse=function(a){a=n(a.split("\n"));for(var b=a.next();!b.done;b=a.next())if(!Pl(this,b.value))return D(Z,"failed to parse HLS playlist"),this.m=null;if(this.ij&&this.jj)for(a=0;a<this.m.mb.length;)b=this.m.mb[a].codecs,Ql(this.m.mb[a].mimeType,b)?(D(Z,"filtered out "+b+" stream"),this.m.mb.splice(a,1)):a++;Rl(this);if(0<this.m.c.length&&(a=this.m.c[0],!a.Ib))for(b=1;b<this.m.c.length;b++)this.m.c[b].Ib&&(a.oi=!0);return this.m};
var Rl=function(a){for(var b=[],c={},d=0;d<a.m.ad.length;c={ee:c.ee},d++){var e=a.m.ad[d];"AUDIO"==e.type&&(c.ee=e.groupId,c.ee&&((e=a.m.mb.find(function(f){return function(g){return g.Kb.includes(f.ee)}}(c)))?(e=e.codecs.split(",").find(function(f){return 0>f.search(Sl)}))&&(Tl(a.J,e)||b.push(d)):D(Z,"no matching audio group "+c.ee+" found in video streams")))}c={};for(d=0;d<b.length;c={lf:c.lf},d++)e=b[d]-d,c.lf=a.m.ad[e].groupId,a.m.ad.splice(e,1),c.lf&&(a.m.mb=a.m.mb.filter(function(f){return function(g){return!g.Kb.includes(f.lf)}}(c)))},
Tl=function(a,b){return!(2===a&&"mp4a.a5"!=b&&"ac-3"!=b||6===a&&!Kf(b)||2!==a&&("mp4a.a5"==b||"ac-3"==b)||6!==a&&Kf(b))},Ql=function(a,b){return 0<=a.indexOf("audio")||0>b.indexOf(",")&&(0==b.indexOf("mp4a.")||"ac-3"==b)?!0:!1},Ul=function(a,b){var c=new I(b);c.Xb||(b=a.Qk.resolve(c).toString());return b},Pl=function(a,b){b=b.trim();if(!b)return!0;if("#"!=b[0]){if(3!=a.f&&4!=a.f)Vl(a,"URI"),a=!1;else{b=Ul(a,b);if(3==a.f){a.Ha.Ac=a.Qd;null!==a.Qd&&(a.Qd+=1E3*a.Ha.duration);if(a.zb||a.ae||a.be){a.Ha.Gh=
a.zb;a.Ha.Ib=a.ae;a.Ha.kf=a.be;var c=a.Ha;if(a.Gd)var d=Wl(a.Gd);else{d=a.Ha.li;for(var e=new Uint8Array(16),f=15;0<=f;f--)e[f]=d&255,d>>=8;d=e}c.uc=d}a.Vf&&(a.Ha.fb=a.Vf);a.Ha.url=b;a.Ha.Ui=0<=(new I(b)).hb.search(Xl);a.m.c.push(a.Ha)}else a.cc.url=b,a.m.mb.push(a.cc);a.f=2;a=!0}return a}c="#EXTINF:";if(0===b.indexOf(c))return d=b.indexOf(","),b=b.substr(c.length,(0<=d?d:b.length)-c.length),2!=a.f&&1!=a.f?(Vl(a,"EXTINF"),a=!1):(b=parseFloat(b),a.Ha={li:a.Dc,url:"",Mb:null,Ba:a.hh,duration:b,ke:a.eh,
Ac:a.Qd,Gh:null,Ib:null,kf:null,timescale:null,uc:null,Z:!1,oi:a.pi,fb:null,Ui:!1},a.m.vi+=b,a.hh+=b,a.eh=!1,a.pi=!1,a.Dc+=1,a.f=3,a=!0),a;c="#EXT-X-MAP:";if(0===b.indexOf(c))return Yl(a,b.substr(c.length));c="#EXT-X-KEY:";if(0===b.indexOf(c))return Zl(a,b.substr(c.length));c="#EXT-X-SESSION-KEY:";if(0===b.indexOf(c))return Zl(a,b.substr(c.length),!0);if(0===b.indexOf("#EXT-X-DISCONTINUITY-SEQUENCE"))return 1!=a.f?(Vl(a,"EXT-X-DISCONTINUITY-SEQUENCE"),a=!1):a=!0,a;if(0===b.indexOf("#EXT-X-DISCONTINUITY"))return 2!=
a.f&&1!=a.f?(Vl(a,"EXT-X-DISCONTINUITY"),a=!1):(a.eh=!0,a.f=2,a=!0),a;c="#EXT-X-PROGRAM-DATE-TIME:";if(0===b.indexOf(c))return b=b.substr(c.length),2!=a.f&&3!=a.f&&1!=a.f?(Vl(a,"EXT-X-PROGRAM-DATE-TIME"),a=!1):(c=Date.parse(b),isNaN(c)?(D(Z,"cannot parse #EXT-X-PROGRAM-DATE-TIME: "+b),a=!1):(a.Qd=c,a=a.m.ph=!0)),a;c="#EXT-X-BYTERANGE:";if(0===b.indexOf(c))return b=b.substr(c.length),3!=a.f?(Vl(a,"EXT-X-BYTERANGE"),a=!1):(b=$l(a,b),a.Ha.Mb=b,a.Hh=b.end,a=!0),a;if(0===b.indexOf("#EXTM3U"))return 0!=
a.f?(Vl(a,"EXTM3U"),a=!1):(a.f=1,a=!0),a;c="#EXT-X-PLAYLIST-TYPE:";if(0===b.indexOf(c)){b=b.substr(c.length);if(1!=a.f)Vl(a,"EXT-X-PLAYLIST-TYPE"),a=!1;else{if("EVENT"==b||"VOD"==b)a.m.dg=b;a=!0}return a}if(0===b.indexOf("#EXT-X-ENDLIST"))return 2!=a.f&&1!=a.f?(Vl(a,"EXT-X-ENDLIST"),a=!1):(a.m.S=!1,a=!0),a;c="#EXT-X-STREAM-INF:";if(0===b.indexOf(c)){b=b.substr(c.length);if(1!=a.f&&2!=a.f)Vl(a,"EXT-X-STREAM-INF"),a=!1;else{var g=b.match("BANDWIDTH=([0-9]+)");if(g){c=parseInt(g[1],10);d=!1;e="video/mp2t";
if(f=am(b,'CODECS="([^"]*)"'))if(d=!0,Ql(e,f)){a.ij=!0;var h=a.J;7==h||1==h||2==h||6==h?e="audio/mp4":4==h&&(e="audio/mpeg",f="")}else a.jj=!0,f=f.replace("mp4a.40.34","mp4a.6B"),1==a.pa&&(e="video/mp4");else f="avc1.4D401E,mp4a.40.2";h={width:null,height:null};if(g=b.match("RESOLUTION=(\\d+x\\d+)"))g=g[1].split("x"),2===g.length&&(h.width=parseInt(g[0],10),h.height=parseInt(g[1],10));a.cc={si:"variant",mimeType:e,za:c,codecs:f,codecsProvided:d,Yl:h,il:am(b,"FRAME-RATE=([0-9]+)"),Kb:[am(b,'AUDIO="([^"]*)"')],
jm:am(b,'SUBTITLES="([^"]*)"'),Sk:am(b,'CLOSED-CAPTIONS="([^"]*)"'),url:""};a.m.qj=!0;a.f=4;a=!0}else D(Z,"no BANDWIDTH attribute"),a=!1}return a}c="#EXT-X-TARGETDURATION:";if(0===b.indexOf(c))return b=b.substr(c.length),1!=a.f?(Vl(a,"EXT-X-TARGETDURATION"),a=!1):(a.m.xg=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA-SEQUENCE:";if(0===b.indexOf(c))return b=b.substr(c.length),1!=a.f?(Vl(a,"EXT-X-MEDIA-SEQUENCE"),a=!1):(a.Dc=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA:";return 0===b.indexOf(c)?bm(a,b.substr(c.length)):
!0},Vl=function(a,b){D(Z,"unexpected "+b+": state "+a.f)},bm=function(a,b){if(2!=a.f&&1!=a.f)return Vl(a,"EXT-X-MEDIA"),!1;var c=null,d=b.match('URI="([^"]*)"');null!==d&&(c=Ul(a,d[1]));var e=am(b,"TYPE=(AUDIO|VIDEO|SUBTITLES|CLOSED-CAPTIONS)"),f=am(b,'GROUP-ID="([^"]*)"'),g=am(b,'CHARACTERISTICS="([^"]*)"'),h=am(b,'NAME="([^"]*)"'),l=am(b,'LANGUAGE="([^"]*)"'),m=am(b,'ASSOC-LANGUAGE="([^"]*)"'),p=am(b,'CHANNELS="([^"]*)"');switch(e){case "SUBTITLES":var u="webvtt";var v="text/vtt";break;case "CLOSED-CAPTIONS":u=
"webvtt";v="text/mp2t";break;case "AUDIO":if(!c)return a.m.pe=!0;v=0==a.J?"video/mp2t":"audio/mp4";u=Of(a.J);break;default:return!0}var w=!1;d=b.match('DEFAULT="?(YES|NO)"?');null!==d&&(w="YES"===d[1]);var ea=!1;d=b.match('AUTOSELECT="?(YES|NO)"?');null!==d&&(ea="YES"===d[1]||w);var Da=!1;d=b.match('FORCED="?(YES|NO)"?');null!==d&&(Da="YES"===d[1]);(c||"CLOSED-CAPTIONS"==e)&&a.m.ad.push({si:"media",type:e,mimeType:v,codecs:u,url:c,name:h,language:l,assocLanguage:m,isDefault:w,groupId:f,characteristics:g,
autoSelect:ea,channels:p,forced:Da});return!0},$l=function(a,b){var c=b.split("@");b=parseInt(c[0],10);if(1<c.length)a=parseInt(c[1],10);else{if(null==a.Hh)return D(Z,"Expected EXT-X-BYTERANGE to either have offset or to come after another EXT-X-BYTERANGE"),null;a=a.Hh+1}return{start:a,end:a+b-1}},Yl=function(a,b){if(1!=a.f&&2!=a.f&&3!=a.f)return Vl(a,"EXT-X-MAP"),!1;var c=am(b,'URI="([^"]*)"');if(!c)return D(Z,"expected #EXT-X-MAP to have URI: "+b),!1;c=Ul(a,c);b=am(b,'BYTERANGE="([^"]*)"');var d=
null;if(b&&(d=$l(a,b),!d))return!1;c={url:c,Mb:d,Oi:null};b=c.Mb;d="url="+c.url+",byterange=";a.Vf=b?""+d+b.start+"-"+b.end:d+"all";a.Bj.set(a.Vf,c);return!0},Zl=function(a,b,c){c=void 0===c?!1:c;if(2!=a.f&&3!=a.f&&1!=a.f)return Vl(a,c?"EXT-X-SESSION-KEY":"EXT-X-KEY"),!1;var d;if(d=c)0<=b.indexOf("METHOD=NONE")?(D(Z,"EXT-X-SESSION-KEY METHOD cannot be NONE."),d=!1):d=!0,d=!d;if(d)return!1;var e;if(0<=b.indexOf("METHOD=AES-128")){if(e=b.match('URI="([^"]*)"'))a.zb=Ul(a,e[1]);a.Gd=am(b,"IV=0[x|X]([0-9a-fA-F]+)");
a.ae=null;a.m.Ue="aes_128";c&&cm(a);return!0}if(0<=b.indexOf("METHOD=SAMPLE-AES")){var f=0<=b.indexOf("METHOD=SAMPLE-AES-CTR");e=b.match('KEYFORMAT="([^"]*)"');if(!e)return D(Z,"Missing KEYFORMAT for SAMPLE-AES"),!0;d=e[1];if("com.widevine"!==d&&"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"!==d)return D(Z,"KEYFORMAT '"+d+"' is not supported for SAMPLE-AES."),!0;if(1!=Nf("enable-hls-sample-aes")&&!f)return D(Z,"SAMPLE-AES not support by Cast platform."),!1;if(e=b.match('URI="data:.*?,(.*?)"'))if(e=
e[1],"com.widevine"===d){if(c)return D(Z,"EXT-X-SESSION-KEY is not designed for V1 Widevine DRM, ignoring\n                 key."),!0;a:{try{var g=JSON.parse(window.atob(e))}catch(l){D(Z,"Failed to decode widevine data!");g=!1;break a}var h=g.key_ids;h&&Array.isArray(h)&&0!=h.length?(a.ae={Vl:g.provider,Vk:g.content_id,Be:h[0]},g=!0):(D(Z,"no Widevine key ID"),g=!1)}if(!g)return!1}else{if(g="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===d){a:{try{h=window.atob(e)}catch(l){D(Z,"Failed to decode widevine PSSH data!");
g=!1;break a}a.be=Ud(h);g=!0}g=!g}if(g)return!1}a.Gd=am(b,"IV=0[x|X]([0-9a-fA-F]+)");a.zb=null;a.m.Ue="widevine";c&&cm(a);return!0}if(0<=b.indexOf("METHOD=NONE"))return a.ae&&(a.pi=!0),a.zb=null,a.ae=null,a.be=null,a.Gd=null,!0;D(Z,"Unsupported KEY.");return!1},cm=function(a){null!==a.m.Ai?D(Z,"Master playlist cannot have more than 1 session key per key format!"):null===a.zb&&a.be&&(a.m.Ai={Gh:null,Ib:null,kf:a.be,uc:Wl(a.Gd)})},am=function(a,b){return(a=a.match(b))?a[1]:null},Wl=function(a){if(null===
a)return null;for(var b=new Uint8Array(16),c=15,d=a.length;0<d;d-=2,c--)b[c]=parseInt(1<d?a.substr(d-2,2):a.substr(0,1),16);return b},Z=z("cast.player.hls.Parser"),Sl=/avc1\.|hvc1\.|dvh1\./,Xl=/\.(mp4|m4a|mp4a|m4s)$/;var dm=function(a,b,c,d,e,f){f=void 0===f?!0:f;A.call(this);this.a=a;this.Oe=b;this.Tb=new zi(this);this.ta=null;this.nm=this.Eg.bind(this);this.O=c;this.duration=-1;this.w=null;this.J=d;this.pa=e;this.ki=f;this.ze=this.Nf=void 0;this.Zg=0};q(dm,A);k=dm.prototype;k.G=function(){this.Tb.L();null!==this.ta&&(clearTimeout(this.ta),this.ta=null);A.prototype.G.call(this)};k.load=function(){this.Eg()};
k.Hc=function(){this.duration=-1;this.w=null;this.Tb.abort();null!==this.ta&&(clearTimeout(this.ta),this.ta=null)};k.Eg=function(){this.O.url?(E(em,"update: "+this.O.url),this.Tb.Hd(this.a,this.O.url)):C(em,"cannot load stream without url")};
k.ag=function(a){if(a){var b=new Ol(this.O.url,this.J,this.pa),c=this.w;if(this.w=b.parse(a)){this.w.S&&(this.ze=!1,"EVENT"==this.w.dg&&(this.Nf=!1));if(c&&c.S){var d=this.w;a=c.c[0];b=c.c[c.c.length-1];var e=d.c[0];d=d.c[d.c.length-1];a.url!==e.url||b.url!==d.url||a.Mb!==e.Mb||b.Mb!==d.Mb||a.Ac!==e.Ac||b.Ac!==d.Ac?(this.Zg=0,"EVENT"!=c.dg&&(this.w.c.length==c.c.length?this.Nf=!0:this.w.c.length>c.c.length&&(this.Nf=!1)),this.ze=!this.w.S):(this.Zg++,3==this.Zg&&(this.ze=!0))}this.w.S&&!this.ze?(c=
1E3*this.w.xg,this.ta=setTimeout(this.nm,c),E(em,"update in: "+c)):this.duration=this.w.vi;this.Oe.Ke(this)}else this.a.T(412)}else this.a.T(312,xi(this.Tb))};var em=z("cast.player.hls.Playlist");var fm=function(a,b,c,d,e,f){A.call(this);this.a=a;this.Tb=new zi(this);this.Ge=b;this.xl=c;this.Oe=d;this.J=e;this.pa=f;this.Da=[];this.Ga=[];this.ab=[];this.$d=[];this.vb={};this.pe=!1;this.w=null};q(fm,A);fm.prototype.G=function(){this.Tb.L();for(var a=n(this.Ga),b=a.next();!b.done;b=a.next())b.value.L();this.Ga.length=0;this.ab.length=0;a=n(this.Da);for(b=a.next();!b.done;b=a.next())b.value.L();this.Da.length=0;this.$d=[];this.vb={};A.prototype.G.call(this)};
fm.prototype.load=function(){this.Tb.Hd(this.a,this.a.url)};
fm.prototype.ag=function(a){if(a){var b=this.Tb.nd;if(b)if(this.w=(new Ol(b,this.J,this.pa)).parse(a)){this.pe=this.w.pe;if(this.w.qj){if(0===this.w.mb.length){this.a.T(411);return}b=this.xl;a=this.w.Ai;if(null!==a){for(var c,d,e=n(b.fa.w.mb),f=e.next();!f.done;f=e.next()){f=f.value;var g=Qf(f.codecs);if(void 0!==g){d=f.mimeType+';codecs="'+g+'"';break}}e=n(b.fa.w.ad);for(f=e.next();!f.done;f=e.next())if(g=f.value,f=g.mimeType,g=g.codecs,Id(f)||Kd(g))if(g=Rf(g),void 0!==g){c=f+';codecs="'+g+'"';break}e=
this.w.Ue;"widevine"===e&&(Rj(b.vd,[e],d,c),b.vd=null);a.kf&&b.tf.createSession(a.kf);b.Ih.md()}c={};d=n(this.w.mb);for(b=d.next();!b.done;b=d.next())b=b.value,void 0===c[b.url]?(a=new dm(this.a,this.Oe,b,this.J,this.pa),this.Da.push(a),c[b.url]=this.Da.length-1):this.Da[c[b.url]].O.Kb=this.Da[c[b.url]].O.Kb.concat(b.Kb);for(c=0;c<this.Da.length;c++)d=this.Da[c].O,d.Kb.length&&(this.$d[c]||(this.$d[c]=[]),this.$d[c]=this.$d[c].concat(d.Kb))}else{switch(this.J){case 1:case 7:c="mp4a.40.2";d="audio/mp4";
break;case 2:c="ac-3";d="audio/mp4";break;case 6:c="mp4a.a6";d="audio/mp4";break;case 4:c="";d="audio/mpeg";break;case 5:c="mp4a.40.2";d="video/mp2t";break;default:c="avc1.4D401E,mp4a.40.2",d="video/mp2t"}1==this.pa&&(d="video/mp4");c=new dm(this.a,this.Oe,{si:"variant",mimeType:d,za:0,codecs:c,Yl:{width:null,height:null},il:null,Kb:[],jm:null,Sk:null,url:b},this.J,this.pa);this.Da.push(c)}c=n(this.w.ad);for(d=c.next();!d.done;d=c.next())d=d.value,b=0,"AUDIO"==d.type&&void 0!==this.J&&(b=this.J),
b=new dm(this.a,this.Oe,d,b),"CLOSED-CAPTIONS"==d.type&&this.a.onCue||this.Ga.push(b);gm(this);this.Ge.onManifestReady()}else this.a.T(411)}else this.a.T(311,xi(this.Tb))};
var hm=function(a){for(var b={},c=0;c<a.Ga.length;c++){var d=a.Ga[c].O;if("AUDIO"==d.type&&void 0!==d.groupId){var e=d.groupId,f={};e in b||(b[e]=f);b[d.groupId][d.language+d.name]=c}else a.ab.push(Xa(a.Ga[c]))}return b},gm=function(a){var b=hm(a),c=[];for(e in b)b.hasOwnProperty(e)&&c.push(b[e]);b=Object.keys(b);if(0==c.length)a.ab=a.Ga;else{var d=Object.keys(c[0]).length;var e=0;for(var f=1;f<c.length;f++){var g=Object.keys(c[f]).length;g<d&&(d=g,e=f)}0!=e&&D(im,"Group has different number of tracks.");
for(var h in c[e])a.vb[h]=[c[e][h]];for(h=0;h<c.length;h++)if(h!=e){d=c[h];f={};for(var l in d)a.vb[l]?a.vb[l].push(d[l]):(f.Lg=b[h],a.Da.every(function(p){return function(u){return u.O.Kb.includes(p.Lg)}}(f))&&(a.vb[l]=[d[l]])),f={Lg:f.Lg}}c=[];for(var m in a.vb)a.vb[m].sort(),l=a.vb[m].find(function(p){return a.Ga[p].O.isDefault}),l=void 0!==l?l:a.vb[m][0],c.push(Xa(a.Ga[l]));a.ab.unshift.apply(a.ab,c instanceof Array?c:ba(n(c)))}},jm=function(a,b){var c=a.ab[b],d=c.O;if("AUDIO"!=d.type){if(a=a.Ga.find(function(g){return g.O==
d}))return a}else for(var e=n(a.vb[d.language+d.name]),f=e.next();!f.done;f=e.next())if(f=f.value,a.Ga[f].ki)return a.Ga[f];D(im,"No playlist is selectable with "+b+".");return c},km=function(a,b){var c=a.$d[b];a.Ga.forEach(function(d){"AUDIO"==d.O.type&&(d.O.groupId&&c.includes(d.O.groupId)?d.ki=!0:d.ki=!1)})},im=z("cast.player.hls.MasterPlaylist");var lm=function(a,b,c){this.a=a;this.J=b;this.pa=void 0===c?0:c;this.tf=this.vd=this.Ih=this.Ge=null;this.Yg={};this.fa=null;this.Ab=new Y(a,this,void 0,this.pa);this.ha=this.da=null;this.yh=this.Ah=void 0};k=lm.prototype;k.load=function(a){this.tf=this.vd=this.Ih=this.Ge=a;this.fa=new fm(this.a,this,this,this,this.J,this.pa);this.fa.load();y("Cast.MPL.HlsVideoSegmentFormat",this.pa)};
k.Hc=function(){this.Ab.L();this.da&&(this.da.L(),this.da=null);this.ha&&(this.ha.L(),this.ha=null);this.fa&&(this.fa.L(),this.fa=null)};k.onManifestReady=function(){var a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0);a=!0;for(var b=n(this.fa.Da),c=b.next();!c.done;c=b.next())if(c=c.value,!Ql(c.O.mimeType,c.O.codecs)){a=!1;break}a&&void 0!==this.J&&(a=this.Ab,a.J=this.J,a.pa=void 0);if(this.a.onManifestReady)this.a.onManifestReady();this.Ge.onManifestReady();this.Ge=null};
k.getDefaultAudioStreamIndex=function(){var a=this.fa.ab,b=-1;if(this.fa.pe||!a.length)return b;for(var c=0;c<a.length;c++){var d=a[c].O;if("AUDIO"===d.type)if(d.isDefault){b=c;break}else"mp4a.a5"!==d.codecs&&"mp4a.a6"!==d.codecs||-1!==b?-1===b&&(b=c):b=c}return b+1};k.getStreamCount=function(){return this.fa.ab.length+1};
k.enableStream=function(a,b,c){if(0<a){a=jm(this.fa,a-1);var d=a.O.type;"AUDIO"==d?this.da&&this.da.Y==a||(this.da&&(this.da.L(),this.da=null),b&&(b=Of(this.J),Jf("audio/mp4",b)?(this.da=new Y(this.a,this,void 0!==this.J?this.J:1),this.da.Y=a,c&&c.zf()):D(Cf,"audio codec "+b+" is not supported, will not create separate source buffer for it."))):"SUBTITLES"==d&&(this.ha&&(this.ha.L(),this.ha=null),b&&(this.ha=new Nl(this.a),this.ha.Y=a,this.ha.Z(this.Ab.sa,this.Ab.qc)))}};
k.isStreamEnabled=function(a){return null!==mm(this,a)};var mm=function(a,b){0==b?a=a.Ab:(b=jm(a.fa,b-1),a=null!==a.da&&a.da.Y==b?a.da:null!==a.ha&&a.ha.Y==b?a.ha:null);return a};k=lm.prototype;k.getQualityLevel=function(a){return mm(this,a).getQualityLevel()};
k.getStreamInfo=function(a){var b=[],c;if(0==a){b=[];a=this.fa.Da;for(c=0;c<a.length;c++)b.push(a[c].O.za);a=this.fa.Da[0].O;c=a.codecs;if(this.da)for(var d=a.codecs.split(","),e=0;e<d.length;e++)if(0==d[e].search(Sl)){c=d[e];break}}else{a=this.fa.ab[a-1].O;b.push(0);c=a.codecs;var f=new vf({isDefault:a.isDefault,url:a.url,characteristics:a.characteristics,groupId:a.groupId,autoSelect:a.autoSelect,channels:a.channels,forced:a.forced,assocLanguage:a.assocLanguage})}return new uf(c,a.mimeType,b,a.language,
a.name,null,f)};k.tg=function(a,b,c,d){var e=mm(this,a),f=0==a?this.fa.Da[b]:jm(this.fa,a-1);if(0==a){km(this.fa,b);if(this.da&&this.da.Y)a:{for(a=0;a<this.fa.ab.length;a++){var g=this.fa.ab[a].O;if("AUDIO"==g.type&&g.language+g.name==this.da.Y.O.language+this.da.Y.O.name){a+=1;break a}}a=-1}else a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0,d);E(Cf,"Switched to media "+a+".")}e.tg(b,c,f)};k.reset=function(a){mm(this,a).reset()};k.Ca=function(a){return mm(this,a).Ca()};
k.Ke=function(a){void 0===this.Ah&&(xa("Cast.MPL.Live",a.w.S),this.Ah=a.w.S);void 0===this.yh&&(this.yh="EVENT"==a.w.dg?!0:!1);this.Ab.Y==a?this.Ab.Ke():null!==this.da&&this.da.Y==a?this.da.Ke():null!==this.ha&&this.ha.Y==a&&this.ha.Ke();var b=a.O.si;if(!this.Yg[b]||"none"===this.Yg[b]){var c=a.w.Ue;switch(c){case "widevine":this.vd&&(Rj(this.vd,[c]),this.vd=null);break;case "aes_128":this.a.rh&&(c="aes_128_ckp",a.w.Ue=c);Td(c,2);break;case "none":break;default:D(Cf,"Unexpected HLS protection type")}this.Yg[b]=
c}this.Ih.md()};k.updateLicenseRequestInfo=function(){};k.getDuration=function(){return this.Ab.getDuration()};k.seek=function(a,b){return mm(this,a).seek(b)};k.tc=function(a){return mm(this,a).tc()};k.isLiveStream=function(){return this.Ah||!1};k.isEventStream=function(){return this.yh||!1};k.isLiveSeekableRangeMovingWindow=function(){var a=this.Ab.Y;return a?a.Nf:void 0};k.isLiveDone=function(){var a=this.Ab.Y;return a?a.ze:void 0};k.rc=function(a){return mm(this,a).rc()};
k.getSegmentInterval=function(a){return mm(this,a).getSegmentInterval()};k.Jd=function(a){return mm(this,a).Jd()};k.sg=function(a,b){mm(this,a).sg(b)};k.ne=function(a){return mm(this,a).ne()};k.Cf=function(a){return mm(this,a).Cf()};k.updateSegmentRequestInfo=function(a,b){mm(this,a).updateSegmentRequestInfo(b)};k.processSegment=function(a,b,c){b.Ed?Ej(c,b.data,{time:0,duration:0},0,!0):mm(this,a).processSegment(b.Rd,b.data,c)};k.Df=function(){return 2};lm.prototype.getStreamInfo=lm.prototype.getStreamInfo;
lm.prototype.getQualityLevel=lm.prototype.getQualityLevel;lm.prototype.isStreamEnabled=lm.prototype.isStreamEnabled;lm.prototype.enableStream=lm.prototype.enableStream;lm.prototype.getStreamCount=lm.prototype.getStreamCount;lm.prototype.getDefaultAudioStreamIndex=lm.prototype.getDefaultAudioStreamIndex;var pm=function(a){this.S=new ck("IsLive");this.bj=new W("DVRWindowLength");this.Gc=new W("TimeScale");for(this.duration=new W("Duration");a;){if("SmoothStreamingMedia"==a.nodeName){hk(a.attributes,this);break}a=a.nextElementSibling}this.streams=[];this.Cb=null;if(a)for(this.Gc.value||(this.Gc.value=1E7),a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("StreamIndex"==a.nodeName){var b=new nm(a,this.Gc.value);0<b.ib.length&&this.streams.push(b)}else"Protection"==a.nodeName&&(this.Cb=new om(a.firstElementChild))},
qm=function(a,b){X.call(this,a,b)};q(qm,X);qm.prototype.parse=function(a){switch(a){case "H264":case "AVC1":this.value="avc1.4D40";break;case "AACL":this.value="mp4a.40.2";break;case "EC-3":this.value="mp4a.a6";break;case "AACH":this.value="mp4a.40.5";break;case "DFXP":case "TTML":this.value="ttml";break;default:this.value=null}};var rm=function(){V.call(this,"CodecPrivateData");this.Qe=this.kd=null};q(rm,V);
rm.prototype.parse=function(a){V.prototype.parse.call(this,a);a=a.split("00000001");3==a.length&&(this.kd=Mf(a[1]),this.Qe=Mf(a[2]))};var sm=function(){V.call(this,"CodecPrivateData");this.value=null};q(sm,V);sm.prototype.parse=function(a){V.prototype.parse.call(this,a);a&&(this.value=Mf(a))};var tm=function(a){this.za=new W("Bitrate");this.format=new qm("FourCC",a)},um=function(a){tm.call(this,"ttml");hk(a.attributes,this)};q(um,tm);
var vm=function(a){tm.call(this,"avc1.4D401E");this.width=new W("MaxWidth");this.height=new W("MaxHeight");this.qb=new rm;hk(a.attributes,this)};q(vm,tm);var wm=function(a){tm.call(this,"mp4a.40.2");this.sampleRate=new W("SamplingRate");this.channels=new W("Channels");this.qb=new sm;hk(a.attributes,this)};q(wm,tm);
var nm=function(a,b){this.type=new X("Type");this.url=new X("Url");this.name=new X("Name");this.language=new X("Language");hk(a.attributes,this);this.dc=0;switch(this.type.value){case "video":this.dc=2;break;case "audio":this.dc=1;break;case "text":this.dc=3}this.c=[];this.ib=[];var c=new Ng("0");for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("QualityLevel"==a.nodeName){var d=a;switch(this.dc){case 2:d=new vm(d);break;case 1:d=new wm(d);break;case 3:d=new um(d);break;default:d=null}d&&
d.format.value&&this.ib.push(d)}else if("c"==a.nodeName){var e=a;d=b;var f=e.attributes.getNamedItem("t");f&&c.reset(f.value);f=null;var g=-1;e.attributes.getNamedItem("d")&&(f=parseInt(e.attributes.d.value,10),g=f/d);e=(e=e.attributes.getNamedItem("r"))?parseInt(e.value,10):1;for(var h=0;h<e;h++)this.c.push({time:parseInt(c.toString(),10)/d,duration:g,Vb:new Ng(c.toString()),offset:0,size:0,url:null}),null!==f&&c.add(f)}c=this.c.length-1;for(a=0;a<c;a++)if(d=this.c[a],f=this.c[a+1],0>d.duration){f=
f.Vb;g=d.Vb;if(f.ca==g.ca)f=0;else{if(!Og(f,g))throw Error("Value must be smaller than the current value");h=e=0;for(var l=1,m=0;m<f.ca.length;m++){var p=parseInt(f.ca.charAt(f.ca.length-1-m),10)-(m<g.ca.length?parseInt(g.ca.charAt(g.ca.length-1-m),10):0)-h;h=0>p?1:0;e+=(h?10+p:p)*l;l*=10}if(h)throw Error("Value must be smaller than the current value");if(e>Number.MAX_SAFE_INTEGER)throw Error("Difference lost precision");f=e}d.duration=f/b}},om=function(a){this.systemId=new gk("SystemID");hk(a.attributes,
this);this.Te=null;this.systemId.value&&Gf.Ob(this.systemId.value)&&(this.Te=Ai(Ud(window.atob(a.textContent.trim()))))};z("cast.player.smooth");var xm=function(a){R.call(this,a);this.Ve=null;this.Va=1E7;this.vf=null};q(xm,R);k=xm.prototype;
k.Ph=function(a){var b=a.Cb;if(b){b=b.Te;if(null===b){this.Db("invalid protection info");return}this.Ve=b}a.Gc.value&&(this.Va=a.Gc.value);a.duration.value&&(this.duration=a.duration.value/this.Va);Ii(this,1==a.S.value);this.ri=!!this.S&&this.host.enableSmoothLiveRefresh;this.S&&(this.duration=-1,a.bj.value?(this.vf=a.bj.value/this.Va,this.xh=!1,this.zh=!0):(this.vf=Infinity,this.xh=!0,this.zh=!1));b=Infinity;for(var c=n(a.streams),d=c.next();!d.done;d=c.next())d=d.value,(2==d.dc||1==d.dc)&&d.c[0].time<
b&&(b=d.c[0].time);c=[];a=n(a.streams);for(d=a.next();!d.done;d=a.next()){var e=d.value;if(0==e.ib.length){this.Db("no quality levels");return}d=e.ib[0].format.value;if(null===d){this.Db("unknown media format");return}var f=null;if(2==e.dc)a:{f=b;var g=e.ib[0];if(null===g.qb.kd)this.Db("no sps"),f=null;else{g=g.qb.kd[3].toString(16);1==g.length&&(g="0"+g);for(var h=ym(2,"video/mp4",d+g.toLowerCase(),e.language.value,e.name.value),l=0;l<e.ib.length;l++){g=e.ib[l];if(null===g.za.value||null===g.width.value||
null===g.height.value||null===g.qb.kd||null===g.qb.Qe){this.Db("invalid video quality");f=null;break a}var m=this.Ve,p=this.Va,u=g.width.value,v=g.height.value,w=g.qb.kd,ea=g.qb.Qe,Da=new Sg;(new cl(m,p,u,v,w,ea)).j(Da);h.v.push(zm(e.url.value,g.za.value,f,e.c,Rg(Da)))}f=h}}else if(1==e.dc)a:{f=b;g=ym(1,"audio/mp4",d,e.language.value,e.name.value);for(h=0;h<e.ib.length;h++){l=e.ib[h];if(null===l.za.value||null===l.sampleRate.value){this.Db("invalid audio quality");f=null;break a}(m=l.qb.value)||(m=
l.channels.value,m=Wg(2,l.sampleRate.value,null!==m?m:2));v=m;if(null===v){this.Db("invalid audio codec private data");f=null;break a}m=this.Ve;p=this.Va;u=l.sampleRate.value;w="mp4a.a6"==d?166:64;ea=new Sg;(new bl(m,p,w,u,v)).j(ea);g.v.push(zm(e.url.value,l.za.value,f,e.c,Rg(ea)))}f=g}else if(3==e.dc){f=b;g=ym(3,"text/mp4",d,e.language.value,e.name.value,!1);for(h=0;h<e.ib.length;h++)g.v.push(zm(e.url.value,e.ib[h].za.value||0,f,e.c,null));f=g}f&&("mp4a.a6"==d?c.push(f):this.h.push(f))}Array.prototype.push.apply(this.h,
c)};k.ci=function(){this.host.T(331,xi(this.$c))};k.Db=function(a){this.host.T(431,void 0,a,Am)};k.Zh=function(a){a=(new DOMParser).parseFromString(a,"text/xml");a.firstChild&&(a=new pm(a.firstChild),this.Ph(a))};k.yi=function(){this.Ve&&Rj(this.Bc,["playready"])};k.updateLicenseRequestInfo=function(a){a.headers={};a.headers["content-type"]="text/xml;charset=utf-8";a.url=this.Ve.url};k.ne=function(a){a=this.h[a];a.Ta=!1;return a.v[a.X].yb.data};
k.reset=function(a){R.prototype.reset.call(this,a);this.h[a].Z=!0};k.updateSegmentRequestInfo=function(a,b){R.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.h[a];a=c.index;c=c.v[c.X];var d=c.url;d=d.replace(Bm,c.za.toString());d=d.replace(Cm,c.c[a].Vb.toString());b.url=this.uri.resolve(new I(d)).toString().toString()};
k.processSegment=function(a,b,c){var d=this.h[a],e=b.data,f=b.interval;if(b.Ed)Ej(c,e,{time:f.time,duration:0},0,!1);else{if(this.S){var g=this.Va;var h=(h=P(e,1970628964,$g,!0))?h.oh(g):null;if(null===h||0==h.length)D(Am,"no new segments");else{a=this.h[a];a:if(g=a.v[a.X].c,0!=h.length){var l=h[0].time,m=Fi(l,g);if(0>m)if(m=g[g.length-1],Math.abs(m.time+m.duration-l)<.5*m.duration)m=g.length;else{D(Am,"new segments are out of sync with segments list.");break a}if(!(m+h.length<=g.length))for(g.splice(m,
g.length-m),h=n(h),l=h.next();!l.done;l=h.next())g.push(l.value)}Dm(a,this.vf)}this.Bc.md();if(b.headers&&(b=b.headers.match('ChildTrack="([^"]*)"'))){b=n(b[1].split(/,|;/));for(a=b.next();!a.done;a=b.next())if(a=a.value.match("([^=]*)=([0-9]*)"))for(g=a[1],h=n(this.h),l=h.next();!l.done;l=h.next())if(l=l.value,g==l.name){g=l.v[0].c;a=a[2];h=parseInt(a,10)/this.Va;(0==g.length||g[g.length-1].time<h)&&g.push({time:h,duration:0,Vb:new Ng(a),offset:0,size:0,url:null});break}b=n(this.h);for(l=b.next();!l.done;l=
b.next())Dm(l.value,this.vf)}}b=f.time+d.v[d.X].U;if(3==d.type)e=(e=P(e,1835295092))?N(e):null;else{a=b*this.Va;g=2==d.type;h=qh(e);l=new Sg(e.byteLength+1024);m=null;for(e=0;0<h.length;){var p=h.shift();switch(p.Za()){case 1836019558:m=P(N(p),1970628964,ch,!0);(new fl(p,a,g)).j(l);break;case 1835295092:var u=null;m&&(u=m.gi?m.gi:new Uint8Array([]));e=u?u.length:0;(new bj(u?[u,N(p)]:[N(p)])).j(l);break;default:p.j(l)}}a=Rg(l);lh(a,e);e=a}null===e?this.host.T(332,void 0,"no media data",Am):(Ej(c,e,
f,b,d.Z,void 0,!0),d.Z=!1)}};k.Df=function(){return 3};
var ym=function(a,b,c,d,e,f){return{name:e,type:a,enabled:!1,mimeType:b,Z:!0,v:[],language:d,Ta:void 0!==f?f:!0,codecs:c,index:-1,X:-1}},zm=function(a,b,c,d,e){return{url:a||"",za:b,U:c,c:d,D:null,I:null,yb:e?{url:null,ya:null,data:e}:null}},Dm=function(a,b){var c=a.v[0].c,d=0;if(b&&Infinity!==b)for(var e=0,f=2*c[0].duration,g=c.length-1;0<=g;g--)if(e+c[g].duration<b+f)e+=c[g].duration;else{d=g+1;break}else d=c.length-1E4;0<d&&a.index>=d&&(c.splice(0,d),a.index-=d)},Am=z("cast.player.smooth.Protocol"),
Bm=/{bitrate}|{Bitrate}/,Cm=/{start time}|{start_time}/;x("cast.player.api.CreateDashStreamingProtocol",function(a){y("Cast.MPL.StreamingProtocolType",1);return new xk(a)});x("cast.player.api.CreateHlsStreamingProtocol",function(a,b,c){y("Cast.MPL.StreamingProtocolType",2);return new lm(a,b,c)});x("cast.player.api.CreateSmoothStreamingProtocol",function(a){y("Cast.MPL.StreamingProtocolType",3);return new xm(a)}); }).call(window);
